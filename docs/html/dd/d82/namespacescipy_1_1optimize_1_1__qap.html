<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Code Cloning Analysis: scipy.optimize._qap Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Code Cloning Analysis
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dd/d82/namespacescipy_1_1optimize_1_1__qap.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">scipy.optimize._qap Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2959c444bf05aae8a053622af4604225" id="r_a2959c444bf05aae8a053622af4604225"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2959c444bf05aae8a053622af4604225">quadratic_assignment</a> (A, B, method=&quot;faq&quot;, options=None)</td></tr>
<tr class="separator:a2959c444bf05aae8a053622af4604225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d86e2d1d800e47ad5cd633795402136" id="r_a2d86e2d1d800e47ad5cd633795402136"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d86e2d1d800e47ad5cd633795402136">_calc_score</a> (A, B, perm)</td></tr>
<tr class="separator:a2d86e2d1d800e47ad5cd633795402136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809166fe4f0d79150501f209db683b1e" id="r_a809166fe4f0d79150501f209db683b1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a809166fe4f0d79150501f209db683b1e">_common_input_validation</a> (A, B, partial_match)</td></tr>
<tr class="separator:a809166fe4f0d79150501f209db683b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132c802ac6681b031289b29b4fb174ab" id="r_a132c802ac6681b031289b29b4fb174ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a132c802ac6681b031289b29b4fb174ab">_quadratic_assignment_faq</a> (A, B, maximize=False, partial_match=None, rng=None, P0=&quot;barycenter&quot;, shuffle_input=False, maxiter=30, tol=0.03, **unknown_options)</td></tr>
<tr class="separator:a132c802ac6681b031289b29b4fb174ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9da94c34932b2d0fc5bd81eef491fc4" id="r_ac9da94c34932b2d0fc5bd81eef491fc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9da94c34932b2d0fc5bd81eef491fc4">_split_matrix</a> (X, n)</td></tr>
<tr class="separator:ac9da94c34932b2d0fc5bd81eef491fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b00250f299ca97b1105e4b2c377612" id="r_a24b00250f299ca97b1105e4b2c377612"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24b00250f299ca97b1105e4b2c377612">_doubly_stochastic</a> (P, tol=1e-3)</td></tr>
<tr class="separator:a24b00250f299ca97b1105e4b2c377612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a906721e33d99994257bbc8b669be9bbc" id="r_a906721e33d99994257bbc8b669be9bbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a906721e33d99994257bbc8b669be9bbc">_quadratic_assignment_2opt</a> (A, B, maximize=False, rng=None, partial_match=None, partial_guess=None, **unknown_options)</td></tr>
<tr class="separator:a906721e33d99994257bbc8b669be9bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad84a6142cd672b33e901655df3c15f61" id="r_ad84a6142cd672b33e901655df3c15f61"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad84a6142cd672b33e901655df3c15f61">QUADRATIC_ASSIGNMENT_METHODS</a> = ['faq', '2opt']</td></tr>
<tr class="separator:ad84a6142cd672b33e901655df3c15f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2d86e2d1d800e47ad5cd633795402136" name="a2d86e2d1d800e47ad5cd633795402136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d86e2d1d800e47ad5cd633795402136">&#9670;&#160;</a></span>_calc_score()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap._calc_score </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>perm</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00195">195</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<a id="a809166fe4f0d79150501f209db683b1e" name="a809166fe4f0d79150501f209db683b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a809166fe4f0d79150501f209db683b1e">&#9670;&#160;</a></span>_common_input_validation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap._common_input_validation </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>partial_match</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00200">200</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<a id="a24b00250f299ca97b1105e4b2c377612" name="a24b00250f299ca97b1105e4b2c377612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24b00250f299ca97b1105e4b2c377612">&#9670;&#160;</a></span>_doubly_stochastic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap._doubly_stochastic </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>P</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tol</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1e-3</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00518">518</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<a id="a906721e33d99994257bbc8b669be9bbc" name="a906721e33d99994257bbc8b669be9bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a906721e33d99994257bbc8b669be9bbc">&#9670;&#160;</a></span>_quadratic_assignment_2opt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap._quadratic_assignment_2opt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maximize</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rng</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>partial_match</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>partial_guess</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**</td>          <td class="paramname"><span class="paramname"><em>unknown_options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Solve the quadratic assignment problem (approximately).

This function solves the Quadratic Assignment Problem (QAP) and the
Graph Matching Problem (GMP) using the 2-opt algorithm [1]_.

Quadratic assignment solves problems of the following form:

.. math::

\min_P &amp; \ {\ \text{trace}(A^T P B P^T)}\\
\mbox{s.t. } &amp; {P \ \epsilon \ \mathcal{P}}\\

where :math:`\mathcal{P}` is the set of all permutation matrices,
and :math:`A` and :math:`B` are square matrices.

Graph matching tries to *maximize* the same objective function.
This algorithm can be thought of as finding the alignment of the
nodes of two graphs that minimizes the number of induced edge
disagreements, or, in the case of weighted graphs, the sum of squared
edge weight differences.

Note that the quadratic assignment problem is NP-hard. The results given
here are approximations and are not guaranteed to be optimal.

Parameters
----------
A : 2-D array, square
The square matrix :math:`A` in the objective function above.
B : 2-D array, square
The square matrix :math:`B` in the objective function above.
method :  str in {'faq', '2opt'} (default: 'faq')
The algorithm used to solve the problem. This is the method-specific
documentation for '2opt'.
:ref:`'faq' &lt;optimize.qap-faq&gt;` is also available.

Options
-------
maximize : bool (default: False)
Maximizes the objective function if ``True``.
rng : {None, int, `numpy.random.Generator`,
`numpy.random.RandomState`}, optional

If `seed` is None (or `np.random`), the `numpy.random.RandomState`
singleton is used.
If `seed` is an int, a new ``RandomState`` instance is used,
seeded with `seed`.
If `seed` is already a ``Generator`` or ``RandomState`` instance then
that instance is used.
partial_match : 2-D array of integers, optional (default: None)
Fixes part of the matching. Also known as a "seed" [2]_.

Each row of `partial_match` specifies a pair of matched nodes: node
``partial_match[i, 0]`` of `A` is matched to node
``partial_match[i, 1]`` of `B`. The array has shape ``(m, 2)``,
where ``m`` is not greater than the number of nodes, :math:`n`.
partial_guess : 2-D array of integers, optional (default: None)
A guess for the matching between the two matrices. Unlike
`partial_match`, `partial_guess` does not fix the indices; they are
still free to be optimized.

Each row of `partial_guess` specifies a pair of matched nodes: node
``partial_guess[i, 0]`` of `A` is matched to node
``partial_guess[i, 1]`` of `B`. The array has shape ``(m, 2)``,
where ``m`` is not greater than the number of nodes, :math:`n`.

Returns
-------
res : OptimizeResult
`OptimizeResult` containing the following fields.

col_ind : 1-D array
Column indices corresponding to the best permutation found of the
nodes of `B`.
fun : float
The objective value of the solution.
nit : int
The number of iterations performed during optimization.

Notes
-----
This is a greedy algorithm that works similarly to bubble sort: beginning
with an initial permutation, it iteratively swaps pairs of indices to
improve the objective function until no such improvements are possible.

References
----------
.. [1] "2-opt," Wikipedia.
https://en.wikipedia.org/wiki/2-opt

.. [2] D. Fishkind, S. Adali, H. Patsolic, L. Meng, D. Singh, V. Lyzinski,
C. Priebe, "Seeded graph matching", Pattern Recognit. 87 (2019):
203-215, https://doi.org/10.1016/j.patcog.2018.09.014
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00542">542</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<a id="a132c802ac6681b031289b29b4fb174ab" name="a132c802ac6681b031289b29b4fb174ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a132c802ac6681b031289b29b4fb174ab">&#9670;&#160;</a></span>_quadratic_assignment_faq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap._quadratic_assignment_faq </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maximize</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>partial_match</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rng</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>P0</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;barycenter&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shuffle_input</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maxiter</em></span><span class="paramdefsep"> = </span><span class="paramdefval">30</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tol</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.03</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**</td>          <td class="paramname"><span class="paramname"><em>unknown_options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Solve the quadratic assignment problem (approximately).

This function solves the Quadratic Assignment Problem (QAP) and the
Graph Matching Problem (GMP) using the Fast Approximate QAP Algorithm
(FAQ) [1]_.

Quadratic assignment solves problems of the following form:

.. math::

    \min_P &amp; \ {\ \text{trace}(A^T P B P^T)}\\
    \mbox{s.t. } &amp; {P \ \epsilon \ \mathcal{P}}\\

where :math:`\mathcal{P}` is the set of all permutation matrices,
and :math:`A` and :math:`B` are square matrices.

Graph matching tries to *maximize* the same objective function.
This algorithm can be thought of as finding the alignment of the
nodes of two graphs that minimizes the number of induced edge
disagreements, or, in the case of weighted graphs, the sum of squared
edge weight differences.

Note that the quadratic assignment problem is NP-hard. The results given
here are approximations and are not guaranteed to be optimal.

Parameters
----------
A : 2-D array, square
    The square matrix :math:`A` in the objective function above.
B : 2-D array, square
    The square matrix :math:`B` in the objective function above.
method :  str in {'faq', '2opt'} (default: 'faq')
    The algorithm used to solve the problem. This is the method-specific
    documentation for 'faq'.
    :ref:`'2opt' &lt;optimize.qap-2opt&gt;` is also available.

Options
-------
maximize : bool (default: False)
    Maximizes the objective function if ``True``.
partial_match : 2-D array of integers, optional (default: None)
    Fixes part of the matching. Also known as a "seed" [2]_.

    Each row of `partial_match` specifies a pair of matched nodes:
    node ``partial_match[i, 0]`` of `A` is matched to node
    ``partial_match[i, 1]`` of `B`. The array has shape ``(m, 2)``, where
    ``m`` is not greater than the number of nodes, :math:`n`.

rng : {None, int, `numpy.random.Generator`,
       `numpy.random.RandomState`}, optional

    If `seed` is None (or `np.random`), the `numpy.random.RandomState`
    singleton is used.
    If `seed` is an int, a new ``RandomState`` instance is used,
    seeded with `seed`.
    If `seed` is already a ``Generator`` or ``RandomState`` instance then
    that instance is used.
P0 : 2-D array, "barycenter", or "randomized" (default: "barycenter")
    Initial position. Must be a doubly-stochastic matrix [3]_.

    If the initial position is an array, it must be a doubly stochastic
    matrix of size :math:`m' \times m'` where :math:`m' = n - m`.

    If ``"barycenter"`` (default), the initial position is the barycenter
    of the Birkhoff polytope (the space of doubly stochastic matrices).
    This is a :math:`m' \times m'` matrix with all entries equal to
    :math:`1 / m'`.

    If ``"randomized"`` the initial search position is
    :math:`P_0 = (J + K) / 2`, where :math:`J` is the barycenter and
    :math:`K` is a random doubly stochastic matrix.
shuffle_input : bool (default: False)
    Set to `True` to resolve degenerate gradients randomly. For
    non-degenerate gradients this option has no effect.
maxiter : int, positive (default: 30)
    Integer specifying the max number of Frank-Wolfe iterations performed.
tol : float (default: 0.03)
    Tolerance for termination. Frank-Wolfe iteration terminates when
    :math:`\frac{||P_{i}-P_{i+1}||_F}{\sqrt{m')}} \leq tol`,
    where :math:`i` is the iteration number.

Returns
-------
res : OptimizeResult
    `OptimizeResult` containing the following fields.

    col_ind : 1-D array
        Column indices corresponding to the best permutation found of the
        nodes of `B`.
    fun : float
        The objective value of the solution.
    nit : int
        The number of Frank-Wolfe iterations performed.

Notes
-----
The algorithm may be sensitive to the initial permutation matrix (or
search "position") due to the possibility of several local minima
within the feasible region. A barycenter initialization is more likely to
result in a better solution than a single random initialization. However,
calling ``quadratic_assignment`` several times with different random
initializations may result in a better optimum at the cost of longer
total execution time.

Examples
--------
As mentioned above, a barycenter initialization often results in a better
solution than a single random initialization.

&gt;&gt;&gt; from numpy.random import default_rng
&gt;&gt;&gt; rng = default_rng()
&gt;&gt;&gt; n = 15
&gt;&gt;&gt; A = rng.random((n, n))
&gt;&gt;&gt; B = rng.random((n, n))
&gt;&gt;&gt; res = quadratic_assignment(A, B)  # FAQ is default method
&gt;&gt;&gt; print(res.fun)
46.871483385480545  # may vary

&gt;&gt;&gt; options = {"P0": "randomized"}  # use randomized initialization
&gt;&gt;&gt; res = quadratic_assignment(A, B, options=options)
&gt;&gt;&gt; print(res.fun)
47.224831071310625 # may vary

However, consider running from several randomized initializations and
keeping the best result.

&gt;&gt;&gt; res = min([quadratic_assignment(A, B, options=options)
...            for i in range(30)], key=lambda x: x.fun)
&gt;&gt;&gt; print(res.fun)
46.671852533681516 # may vary

The '2-opt' method can be used to further refine the results.

&gt;&gt;&gt; options = {"partial_guess": np.array([np.arange(n), res.col_ind]).T}
&gt;&gt;&gt; res = quadratic_assignment(A, B, method="2opt", options=options)
&gt;&gt;&gt; print(res.fun)
46.47160735721583 # may vary

References
----------
.. [1] J.T. Vogelstein, J.M. Conroy, V. Lyzinski, L.J. Podrazik,
       S.G. Kratzer, E.T. Harley, D.E. Fishkind, R.J. Vogelstein, and
       C.E. Priebe, "Fast approximate quadratic programming for graph
       matching," PLOS one, vol. 10, no. 4, p. e0121002, 2015,
       :doi:`10.1371/journal.pone.0121002`

.. [2] D. Fishkind, S. Adali, H. Patsolic, L. Meng, D. Singh, V. Lyzinski,
       C. Priebe, "Seeded graph matching", Pattern Recognit. 87 (2019):
       203-215, :doi:`10.1016/j.patcog.2018.09.014`

.. [3] "Doubly stochastic Matrix," Wikipedia.
       https://en.wikipedia.org/wiki/Doubly_stochastic_matrix
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00237">237</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<a id="ac9da94c34932b2d0fc5bd81eef491fc4" name="ac9da94c34932b2d0fc5bd81eef491fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9da94c34932b2d0fc5bd81eef491fc4">&#9670;&#160;</a></span>_split_matrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap._split_matrix </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>X</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00512">512</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<a id="a2959c444bf05aae8a053622af4604225" name="a2959c444bf05aae8a053622af4604225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2959c444bf05aae8a053622af4604225">&#9670;&#160;</a></span>quadratic_assignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._qap.quadratic_assignment </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>method</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;faq&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>options</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Approximates solution to the quadratic assignment problem and
    the graph matching problem.

    Quadratic assignment solves problems of the following form:

    .. math::

        \min_P &amp; \ {\ \text{trace}(A^T P B P^T)}\\
        \mbox{s.t. } &amp; {P \ \epsilon \ \mathcal{P}}\\

    where :math:`\mathcal{P}` is the set of all permutation matrices,
    and :math:`A` and :math:`B` are square matrices.

    Graph matching tries to *maximize* the same objective function.
    This algorithm can be thought of as finding the alignment of the
    nodes of two graphs that minimizes the number of induced edge
    disagreements, or, in the case of weighted graphs, the sum of squared
    edge weight differences.

    Note that the quadratic assignment problem is NP-hard. The results given
    here are approximations and are not guaranteed to be optimal.


    Parameters
    ----------
    A : 2-D array, square
        The square matrix :math:`A` in the objective function above.

    B : 2-D array, square
        The square matrix :math:`B` in the objective function above.

    method :  str in {'faq', '2opt'} (default: 'faq')
        The algorithm used to solve the problem.
        :ref:`'faq' &lt;optimize.qap-faq&gt;` (default) and
        :ref:`'2opt' &lt;optimize.qap-2opt&gt;` are available.

    options : dict, optional
        A dictionary of solver options. All solvers support the following:

        maximize : bool (default: False)
            Maximizes the objective function if ``True``.

        partial_match : 2-D array of integers, optional (default: None)
            Fixes part of the matching. Also known as a "seed" [2]_.

            Each row of `partial_match` specifies a pair of matched nodes:
            node ``partial_match[i, 0]`` of `A` is matched to node
            ``partial_match[i, 1]`` of `B`. The array has shape ``(m, 2)``,
            where ``m`` is not greater than the number of nodes, :math:`n`.

        rng : {None, int, `numpy.random.Generator`,
               `numpy.random.RandomState`}, optional

            If `seed` is None (or `np.random`), the `numpy.random.RandomState`
            singleton is used.
            If `seed` is an int, a new ``RandomState`` instance is used,
            seeded with `seed`.
            If `seed` is already a ``Generator`` or ``RandomState`` instance then
            that instance is used.

        For method-specific options, see
        :func:`show_options('quadratic_assignment') &lt;show_options&gt;`.

    Returns
    -------
    res : OptimizeResult
        `OptimizeResult` containing the following fields.

        col_ind : 1-D array
            Column indices corresponding to the best permutation found of the
            nodes of `B`.
        fun : float
            The objective value of the solution.
        nit : int
            The number of iterations performed during optimization.

    Notes
    -----
    The default method :ref:`'faq' &lt;optimize.qap-faq&gt;` uses the Fast
    Approximate QAP algorithm [1]_; it typically offers the best combination of
    speed and accuracy.
    Method :ref:`'2opt' &lt;optimize.qap-2opt&gt;` can be computationally expensive,
    but may be a useful alternative, or it can be used to refine the solution
    returned by another method.

    References
    ----------
    .. [1] J.T. Vogelstein, J.M. Conroy, V. Lyzinski, L.J. Podrazik,
           S.G. Kratzer, E.T. Harley, D.E. Fishkind, R.J. Vogelstein, and
           C.E. Priebe, "Fast approximate quadratic programming for graph
           matching," PLOS one, vol. 10, no. 4, p. e0121002, 2015,
           :doi:`10.1371/journal.pone.0121002`

    .. [2] D. Fishkind, S. Adali, H. Patsolic, L. Meng, D. Singh, V. Lyzinski,
           C. Priebe, "Seeded graph matching", Pattern Recognit. 87 (2019):
           203-215, :doi:`10.1016/j.patcog.2018.09.014`

    .. [3] "2-opt," Wikipedia.
           https://en.wikipedia.org/wiki/2-opt

    Examples
    --------
    &gt;&gt;&gt; import numpy as np
    &gt;&gt;&gt; from scipy.optimize import quadratic_assignment
    &gt;&gt;&gt; A = np.array([[0, 80, 150, 170], [80, 0, 130, 100],
    ...               [150, 130, 0, 120], [170, 100, 120, 0]])
    &gt;&gt;&gt; B = np.array([[0, 5, 2, 7], [0, 0, 3, 8],
    ...               [0, 0, 0, 3], [0, 0, 0, 0]])
    &gt;&gt;&gt; res = quadratic_assignment(A, B)
    &gt;&gt;&gt; print(res)
         fun: 3260
     col_ind: [0 3 2 1]
         nit: 9

    The see the relationship between the returned ``col_ind`` and ``fun``,
    use ``col_ind`` to form the best permutation matrix found, then evaluate
    the objective function :math:`f(P) = trace(A^T P B P^T )`.

    &gt;&gt;&gt; perm = res['col_ind']
    &gt;&gt;&gt; P = np.eye(len(A), dtype=int)[perm]
    &gt;&gt;&gt; fun = np.trace(A.T @ P @ B @ P.T)
    &gt;&gt;&gt; print(fun)
    3260

    Alternatively, to avoid constructing the permutation matrix explicitly,
    directly permute the rows and columns of the distance matrix.

    &gt;&gt;&gt; fun = np.trace(A.T @ B[perm][:, perm])
    &gt;&gt;&gt; print(fun)
    3260

    Although not guaranteed in general, ``quadratic_assignment`` happens to
    have found the globally optimal solution.

    &gt;&gt;&gt; from itertools import permutations
    &gt;&gt;&gt; perm_opt, fun_opt = None, np.inf
    &gt;&gt;&gt; for perm in permutations([0, 1, 2, 3]):
    ...     perm = np.array(perm)
    ...     fun = np.trace(A.T @ B[perm][:, perm])
    ...     if fun &lt; fun_opt:
    ...         fun_opt, perm_opt = fun, perm
    &gt;&gt;&gt; print(np.array_equal(perm_opt, res['col_ind']))
    True

    Here is an example for which the default method,
    :ref:`'faq' &lt;optimize.qap-faq&gt;`, does not find the global optimum.

    &gt;&gt;&gt; A = np.array([[0, 5, 8, 6], [5, 0, 5, 1],
    ...               [8, 5, 0, 2], [6, 1, 2, 0]])
    &gt;&gt;&gt; B = np.array([[0, 1, 8, 4], [1, 0, 5, 2],
    ...               [8, 5, 0, 5], [4, 2, 5, 0]])
    &gt;&gt;&gt; res = quadratic_assignment(A, B)
    &gt;&gt;&gt; print(res)
         fun: 178
     col_ind: [1 0 3 2]
         nit: 13

    If accuracy is important, consider using  :ref:`'2opt' &lt;optimize.qap-2opt&gt;`
    to refine the solution.

    &gt;&gt;&gt; guess = np.array([np.arange(len(A)), res.col_ind]).T
    &gt;&gt;&gt; res = quadratic_assignment(A, B, method="2opt",
    ...                            options = {'partial_guess': guess})
    &gt;&gt;&gt; print(res)
         fun: 176
     col_ind: [1 2 3 0]
         nit: 17
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00011">11</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad84a6142cd672b33e901655df3c15f61" name="ad84a6142cd672b33e901655df3c15f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84a6142cd672b33e901655df3c15f61">&#9670;&#160;</a></span>QUADRATIC_ASSIGNMENT_METHODS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list scipy.optimize._qap.QUADRATIC_ASSIGNMENT_METHODS = ['faq', '2opt']</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dc7/__qap_8py_source.html#l00009">9</a> of file <a class="el" href="../../d1/dc7/__qap_8py_source.html">_qap.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/d0f/namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="../../da/d87/namespacescipy_1_1optimize.html">optimize</a></li><li class="navelem"><a class="el" href="../../dd/d82/namespacescipy_1_1optimize_1_1__qap.html">_qap</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
