<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Code Cloning Analysis: sklearn.ensemble._gb Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Code Cloning Analysis
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dc/dc1/namespacesklearn_1_1ensemble_1_1__gb.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.ensemble._gb Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d82/classsklearn_1_1ensemble_1_1__gb_1_1BaseGradientBoosting.html">BaseGradientBoosting</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dbe/classsklearn_1_1ensemble_1_1__gb_1_1GradientBoostingClassifier.html">GradientBoostingClassifier</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d00/classsklearn_1_1ensemble_1_1__gb_1_1GradientBoostingRegressor.html">GradientBoostingRegressor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d28/classsklearn_1_1ensemble_1_1__gb_1_1VerboseReporter.html">VerboseReporter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaddcf085e3be0d55be96622d588fdff1" id="r_aaddcf085e3be0d55be96622d588fdff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaddcf085e3be0d55be96622d588fdff1">_safe_divide</a> (numerator, denominator)</td></tr>
<tr class="separator:aaddcf085e3be0d55be96622d588fdff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e9a9652fe23b28198c5c62f8b8d8f5" id="r_a11e9a9652fe23b28198c5c62f8b8d8f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11e9a9652fe23b28198c5c62f8b8d8f5">_init_raw_predictions</a> (X, estimator, loss, use_predict_proba)</td></tr>
<tr class="separator:a11e9a9652fe23b28198c5c62f8b8d8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7476fcc2faf13ac07b6975fdd3d02476" id="r_a7476fcc2faf13ac07b6975fdd3d02476"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7476fcc2faf13ac07b6975fdd3d02476">_update_terminal_regions</a> (loss, tree, X, y, neg_gradient, raw_prediction, sample_weight, sample_mask, learning_rate=0.1, k=0)</td></tr>
<tr class="separator:a7476fcc2faf13ac07b6975fdd3d02476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada771f8246e218ba36a92c7ac54a7ed6" id="r_ada771f8246e218ba36a92c7ac54a7ed6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada771f8246e218ba36a92c7ac54a7ed6">set_huber_delta</a> (loss, y_true, raw_prediction, sample_weight=None)</td></tr>
<tr class="separator:ada771f8246e218ba36a92c7ac54a7ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9297c6c6b7e0a53f66a9d9c1ea711da6" id="r_a9297c6c6b7e0a53f66a9d9c1ea711da6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9297c6c6b7e0a53f66a9d9c1ea711da6">_LOSSES</a> = _LOSSES.copy()</td></tr>
<tr class="separator:a9297c6c6b7e0a53f66a9d9c1ea711da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Gradient Boosted Regression Trees.

This module contains methods for fitting gradient boosted regression trees for
both classification and regression.

The module structure is the following:

- The ``BaseGradientBoosting`` base class implements a common ``fit`` method
  for all the estimators in the module. Regression and classification
  only differ in the concrete ``LossFunction`` used.

- ``GradientBoostingClassifier`` implements gradient boosting for
  classification problems.

- ``GradientBoostingRegressor`` implements gradient boosting for
  regression problems.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a11e9a9652fe23b28198c5c62f8b8d8f5" name="a11e9a9652fe23b28198c5c62f8b8d8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e9a9652fe23b28198c5c62f8b8d8f5">&#9670;&#160;</a></span>_init_raw_predictions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.ensemble._gb._init_raw_predictions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>X</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>estimator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>loss</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_predict_proba</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return the initial raw predictions.

Parameters
----------
X : ndarray of shape (n_samples, n_features)
    The data array.
estimator : object
    The estimator to use to compute the predictions.
loss : BaseLoss
    An instance of a loss function class.
use_predict_proba : bool
    Whether estimator.predict_proba is used instead of estimator.predict.

Returns
-------
raw_predictions : ndarray of shape (n_samples, K)
    The initial raw predictions. K is equal to 1 for binary
    classification and regression, and equal to the number of classes
    for multiclass classification. ``raw_predictions`` is casted
    into float64.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/dbf/__gb_8py_source.html#l00086">86</a> of file <a class="el" href="../../db/dbf/__gb_8py_source.html">_gb.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dbf/__gb_8py_source.html#l00948">sklearn.ensemble._gb.BaseGradientBoosting._raw_predict_init()</a>, and <a class="el" href="../../db/dbf/__gb_8py_source.html#l00615">sklearn.ensemble._gb.BaseGradientBoosting.fit()</a>.</p>

</div>
</div>
<a id="aaddcf085e3be0d55be96622d588fdff1" name="aaddcf085e3be0d55be96622d588fdff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaddcf085e3be0d55be96622d588fdff1">&#9670;&#160;</a></span>_safe_divide()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.ensemble._gb._safe_divide </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>numerator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>denominator</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Prevents overflow and division by zero.</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/dbf/__gb_8py_source.html#l00065">65</a> of file <a class="el" href="../../db/dbf/__gb_8py_source.html">_gb.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dbf/__gb_8py_source.html#l00139">_update_terminal_regions()</a>.</p>

</div>
</div>
<a id="a7476fcc2faf13ac07b6975fdd3d02476" name="a7476fcc2faf13ac07b6975fdd3d02476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7476fcc2faf13ac07b6975fdd3d02476">&#9670;&#160;</a></span>_update_terminal_regions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.ensemble._gb._update_terminal_regions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>loss</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>X</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>neg_gradient</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>raw_prediction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sample_weight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sample_mask</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>learning_rate</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.1</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>k</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Update the leaf values to be predicted by the tree and raw_prediction.

The current raw predictions of the model (of this stage) are updated.

Additionally, the terminal regions (=leaves) of the given tree are updated as well.
This corresponds to the line search step in "Greedy Function Approximation" by
Friedman, Algorithm 1 step 5.

Update equals:
    argmin_{x} loss(y_true, raw_prediction_old + x * tree.value)

For non-trivial cases like the Binomial loss, the update has no closed formula and
is an approximation, again, see the Friedman paper.

Also note that the update formula for the SquaredError is the identity. Therefore,
in this case, the leaf values don't need an update and only the raw_predictions are
updated (with the learning rate included).

Parameters
----------
loss : BaseLoss
tree : tree.Tree
    The tree object.
X : ndarray of shape (n_samples, n_features)
    The data array.
y : ndarray of shape (n_samples,)
    The target labels.
neg_gradient : ndarray of shape (n_samples,)
    The negative gradient.
raw_prediction : ndarray of shape (n_samples, n_trees_per_iteration)
    The raw predictions (i.e. values from the tree leaves) of the
    tree ensemble at iteration ``i - 1``.
sample_weight : ndarray of shape (n_samples,)
    The weight of each sample.
sample_mask : ndarray of shape (n_samples,)
    The sample mask to be used.
learning_rate : float, default=0.1
    Learning rate shrinks the contribution of each tree by
     ``learning_rate``.
k : int, default=0
    The index of the estimator being updated.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/dbf/__gb_8py_source.html#l00128">128</a> of file <a class="el" href="../../db/dbf/__gb_8py_source.html">_gb.py</a>.</p>

<p class="reference">References <a class="el" href="../../db/dbf/__gb_8py_source.html#l00065">_safe_divide()</a>.</p>

</div>
</div>
<a id="ada771f8246e218ba36a92c7ac54a7ed6" name="ada771f8246e218ba36a92c7ac54a7ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada771f8246e218ba36a92c7ac54a7ed6">&#9670;&#160;</a></span>set_huber_delta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.ensemble._gb.set_huber_delta </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>loss</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>y_true</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>raw_prediction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sample_weight</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate and set self.closs.delta based on self.quantile.</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/dbf/__gb_8py_source.html#l00266">266</a> of file <a class="el" href="../../db/dbf/__gb_8py_source.html">_gb.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9297c6c6b7e0a53f66a9d9c1ea711da6" name="a9297c6c6b7e0a53f66a9d9c1ea711da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9297c6c6b7e0a53f66a9d9c1ea711da6">&#9670;&#160;</a></span>_LOSSES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.ensemble._gb._LOSSES = _LOSSES.copy()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/dbf/__gb_8py_source.html#l00056">56</a> of file <a class="el" href="../../db/dbf/__gb_8py_source.html">_gb.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/d1d/namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="../../d7/d3c/namespacesklearn_1_1ensemble.html">ensemble</a></li><li class="navelem"><a class="el" href="../../dc/dc1/namespacesklearn_1_1ensemble_1_1__gb.html">_gb</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
