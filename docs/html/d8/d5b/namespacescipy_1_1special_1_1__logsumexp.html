<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Code Cloning Analysis: scipy.special._logsumexp Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Code Cloning Analysis
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d8/d5b/namespacescipy_1_1special_1_1__logsumexp.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">scipy.special._logsumexp Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa47ad843e49f493595379b7c18cd8bfd" id="r_aa47ad843e49f493595379b7c18cd8bfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa47ad843e49f493595379b7c18cd8bfd">logsumexp</a> (a, axis=None, b=None, keepdims=False, return_sign=False)</td></tr>
<tr class="separator:aa47ad843e49f493595379b7c18cd8bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f89d51f7a881ec9ecb760b7133a1e3b" id="r_a0f89d51f7a881ec9ecb760b7133a1e3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f89d51f7a881ec9ecb760b7133a1e3b">softmax</a> (x, axis=None)</td></tr>
<tr class="separator:a0f89d51f7a881ec9ecb760b7133a1e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5a77ca3002516553eb64d4f84a945c" id="r_aad5a77ca3002516553eb64d4f84a945c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad5a77ca3002516553eb64d4f84a945c">log_softmax</a> (x, axis=None)</td></tr>
<tr class="separator:aad5a77ca3002516553eb64d4f84a945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae32833abd4a3a56b764772806256e4db" id="r_ae32833abd4a3a56b764772806256e4db"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae32833abd4a3a56b764772806256e4db">__all__</a> = [&quot;logsumexp&quot;, &quot;softmax&quot;, &quot;log_softmax&quot;]</td></tr>
<tr class="separator:ae32833abd4a3a56b764772806256e4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aad5a77ca3002516553eb64d4f84a945c" name="aad5a77ca3002516553eb64d4f84a945c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5a77ca3002516553eb64d4f84a945c">&#9670;&#160;</a></span>log_softmax()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.special._logsumexp.log_softmax </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>axis</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the logarithm of the softmax function.

In principle::

    log_softmax(x) = log(softmax(x))

but using a more accurate implementation.

Parameters
----------
x : array_like
    Input array.
axis : int or tuple of ints, optional
    Axis to compute values along. Default is None and softmax will be
    computed over the entire array `x`.

Returns
-------
s : ndarray or scalar
    An array with the same shape as `x`. Exponential of the result will
    sum to 1 along the specified axis. If `x` is a scalar, a scalar is
    returned.

Notes
-----
`log_softmax` is more accurate than ``np.log(softmax(x))`` with inputs that
make `softmax` saturate (see examples below).

.. versionadded:: 1.5.0

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from scipy.special import log_softmax
&gt;&gt;&gt; from scipy.special import softmax
&gt;&gt;&gt; np.set_printoptions(precision=5)

&gt;&gt;&gt; x = np.array([1000.0, 1.0])

&gt;&gt;&gt; y = log_softmax(x)
&gt;&gt;&gt; y
array([   0., -999.])

&gt;&gt;&gt; with np.errstate(divide='ignore'):
...   y = np.log(softmax(x))
...
&gt;&gt;&gt; y
array([  0., -inf])
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html#l00228">228</a> of file <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html">_logsumexp.py</a>.</p>

</div>
</div>
<a id="aa47ad843e49f493595379b7c18cd8bfd" name="aa47ad843e49f493595379b7c18cd8bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47ad843e49f493595379b7c18cd8bfd">&#9670;&#160;</a></span>logsumexp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.special._logsumexp.logsumexp </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>axis</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>keepdims</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>return_sign</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the log of the sum of exponentials of input elements.

Parameters
----------
a : array_like
    Input array.
axis : None or int or tuple of ints, optional
    Axis or axes over which the sum is taken. By default `axis` is None,
    and all elements are summed.

    .. versionadded:: 0.11.0
b : array-like, optional
    Scaling factor for exp(`a`) must be of the same shape as `a` or
    broadcastable to `a`. These values may be negative in order to
    implement subtraction.

    .. versionadded:: 0.12.0
keepdims : bool, optional
    If this is set to True, the axes which are reduced are left in the
    result as dimensions with size one. With this option, the result
    will broadcast correctly against the original array.

    .. versionadded:: 0.15.0
return_sign : bool, optional
    If this is set to True, the result will be a pair containing sign
    information; if False, results that are negative will be returned
    as NaN. Default is False (no sign information).

    .. versionadded:: 0.16.0

Returns
-------
res : ndarray
    The result, ``np.log(np.sum(np.exp(a)))`` calculated in a numerically
    more stable way. If `b` is given then ``np.log(np.sum(b*np.exp(a)))``
    is returned.
sgn : ndarray
    If return_sign is True, this will be an array of floating-point
    numbers matching res and +1, 0, or -1 depending on the sign
    of the result. If False, only one result is returned.

See Also
--------
numpy.logaddexp, numpy.logaddexp2

Notes
-----
NumPy has a logaddexp function which is very similar to `logsumexp`, but
only handles two arguments. `logaddexp.reduce` is similar to this
function, but may be less stable.

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from scipy.special import logsumexp
&gt;&gt;&gt; a = np.arange(10)
&gt;&gt;&gt; logsumexp(a)
9.4586297444267107
&gt;&gt;&gt; np.log(np.sum(np.exp(a)))
9.4586297444267107

With weights

&gt;&gt;&gt; a = np.arange(10)
&gt;&gt;&gt; b = np.arange(10, 0, -1)
&gt;&gt;&gt; logsumexp(a, b=b)
9.9170178533034665
&gt;&gt;&gt; np.log(np.sum(b*np.exp(a)))
9.9170178533034647

Returning a sign flag

&gt;&gt;&gt; logsumexp([1,2],b=[1,-1],return_sign=True)
(1.5413248546129181, -1.0)

Notice that `logsumexp` does not directly support masked arrays. To use it
on a masked array, convert the mask into zero weights:

&gt;&gt;&gt; a = np.ma.array([np.log(2), 2, np.log(3)],
...                  mask=[False, True, False])
&gt;&gt;&gt; b = (~a.mask).astype(int)
&gt;&gt;&gt; logsumexp(a.data, b=b), np.log(5)
1.6094379124341005, 1.6094379124341005
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html#l00007">7</a> of file <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html">_logsumexp.py</a>.</p>

</div>
</div>
<a id="a0f89d51f7a881ec9ecb760b7133a1e3b" name="a0f89d51f7a881ec9ecb760b7133a1e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f89d51f7a881ec9ecb760b7133a1e3b">&#9670;&#160;</a></span>softmax()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.special._logsumexp.softmax </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>axis</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the softmax function.

The softmax function transforms each element of a collection by
computing the exponential of each element divided by the sum of the
exponentials of all the elements. That is, if `x` is a one-dimensional
numpy array::

    softmax(x) = np.exp(x)/sum(np.exp(x))

Parameters
----------
x : array_like
    Input array.
axis : int or tuple of ints, optional
    Axis to compute values along. Default is None and softmax will be
    computed over the entire array `x`.

Returns
-------
s : ndarray
    An array the same shape as `x`. The result will sum to 1 along the
    specified axis.

Notes
-----
The formula for the softmax function :math:`\sigma(x)` for a vector
:math:`x = \{x_0, x_1, ..., x_{n-1}\}` is

.. math:: \sigma(x)_j = \frac{e^{x_j}}{\sum_k e^{x_k}}

The `softmax` function is the gradient of `logsumexp`.

The implementation uses shifting to avoid overflow. See [1]_ for more
details.

.. versionadded:: 1.2.0

References
----------
.. [1] P. Blanchard, D.J. Higham, N.J. Higham, "Accurately computing the
   log-sum-exp and softmax functions", IMA Journal of Numerical Analysis,
   Vol.41(4), :doi:`10.1093/imanum/draa038`.

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from scipy.special import softmax
&gt;&gt;&gt; np.set_printoptions(precision=5)

&gt;&gt;&gt; x = np.array([[1, 0.5, 0.2, 3],
...               [1,  -1,   7, 3],
...               [2,  12,  13, 3]])
...

Compute the softmax transformation over the entire array.

&gt;&gt;&gt; m = softmax(x)
&gt;&gt;&gt; m
array([[  4.48309e-06,   2.71913e-06,   2.01438e-06,   3.31258e-05],
       [  4.48309e-06,   6.06720e-07,   1.80861e-03,   3.31258e-05],
       [  1.21863e-05,   2.68421e-01,   7.29644e-01,   3.31258e-05]])

&gt;&gt;&gt; m.sum()
1.0

Compute the softmax transformation along the first axis (i.e., the
columns).

&gt;&gt;&gt; m = softmax(x, axis=0)

&gt;&gt;&gt; m
array([[  2.11942e-01,   1.01300e-05,   2.75394e-06,   3.33333e-01],
       [  2.11942e-01,   2.26030e-06,   2.47262e-03,   3.33333e-01],
       [  5.76117e-01,   9.99988e-01,   9.97525e-01,   3.33333e-01]])

&gt;&gt;&gt; m.sum(axis=0)
array([ 1.,  1.,  1.,  1.])

Compute the softmax transformation along the second axis (i.e., the rows).

&gt;&gt;&gt; m = softmax(x, axis=1)
&gt;&gt;&gt; m
array([[  1.05877e-01,   6.42177e-02,   4.75736e-02,   7.82332e-01],
       [  2.42746e-03,   3.28521e-04,   9.79307e-01,   1.79366e-02],
       [  1.22094e-05,   2.68929e-01,   7.31025e-01,   3.31885e-05]])

&gt;&gt;&gt; m.sum(axis=1)
array([ 1.,  1.,  1.])
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html#l00131">131</a> of file <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html">_logsumexp.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae32833abd4a3a56b764772806256e4db" name="ae32833abd4a3a56b764772806256e4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32833abd4a3a56b764772806256e4db">&#9670;&#160;</a></span>__all__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list scipy.special._logsumexp.__all__ = [&quot;logsumexp&quot;, &quot;softmax&quot;, &quot;log_softmax&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html#l00004">4</a> of file <a class="el" href="../../d6/dc7/__logsumexp_8py_source.html">_logsumexp.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/d0f/namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="../../d3/d37/namespacescipy_1_1special.html">special</a></li><li class="navelem"><a class="el" href="../../d8/d5b/namespacescipy_1_1special_1_1__logsumexp.html">_logsumexp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
