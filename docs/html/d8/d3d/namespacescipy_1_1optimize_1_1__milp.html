<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Code Cloning Analysis: scipy.optimize._milp Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Code Cloning Analysis
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d8/d3d/namespacescipy_1_1optimize_1_1__milp.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">scipy.optimize._milp Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acbfb066026938af05903229d0a3c0dd1" id="r_acbfb066026938af05903229d0a3c0dd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbfb066026938af05903229d0a3c0dd1">_constraints_to_components</a> (constraints)</td></tr>
<tr class="separator:acbfb066026938af05903229d0a3c0dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eef2539115aa1876d81fd5f71b0cbe" id="r_ae6eef2539115aa1876d81fd5f71b0cbe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6eef2539115aa1876d81fd5f71b0cbe">_milp_iv</a> (c, integrality, bounds, constraints, options)</td></tr>
<tr class="separator:ae6eef2539115aa1876d81fd5f71b0cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf513fcc847af881e9db643f402f3f21" id="r_abf513fcc847af881e9db643f402f3f21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf513fcc847af881e9db643f402f3f21">milp</a> (c, *, integrality=None, bounds=None, constraints=None, options=None)</td></tr>
<tr class="separator:abf513fcc847af881e9db643f402f3f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acbfb066026938af05903229d0a3c0dd1" name="acbfb066026938af05903229d0a3c0dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbfb066026938af05903229d0a3c0dd1">&#9670;&#160;</a></span>_constraints_to_components()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._milp._constraints_to_components </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>constraints</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert sequence of constraints to a single set of components A, b_l, b_u.

`constraints` could be

1. A LinearConstraint
2. A tuple representing a LinearConstraint
3. An invalid object
4. A sequence of composed entirely of objects of type 1/2
5. A sequence containing at least one object of type 3

We want to accept 1, 2, and 4 and reject 3 and 5.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d77/__milp_8py_source.html#l00010">10</a> of file <a class="el" href="../../d5/d77/__milp_8py_source.html">_milp.py</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d77/__milp_8py_source.html#l00010">_constraints_to_components()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d77/__milp_8py_source.html#l00010">_constraints_to_components()</a>.</p>

</div>
</div>
<a id="ae6eef2539115aa1876d81fd5f71b0cbe" name="ae6eef2539115aa1876d81fd5f71b0cbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6eef2539115aa1876d81fd5f71b0cbe">&#9670;&#160;</a></span>_milp_iv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._milp._milp_iv </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>integrality</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>bounds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>constraints</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d77/__milp_8py_source.html#l00075">75</a> of file <a class="el" href="../../d5/d77/__milp_8py_source.html">_milp.py</a>.</p>

</div>
</div>
<a id="abf513fcc847af881e9db643f402f3f21" name="abf513fcc847af881e9db643f402f3f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf513fcc847af881e9db643f402f3f21">&#9670;&#160;</a></span>milp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._milp.milp </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>integrality</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>bounds</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>constraints</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>options</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Mixed-integer linear programming

Solves problems of the following form:

.. math::

\min_x \ &amp; c^T x \\
\mbox{such that} \ &amp; b_l \leq A x \leq b_u,\\
&amp; l \leq x \leq u, \\
&amp; x_i \in \mathbb{Z}, i \in X_i

where :math:`x` is a vector of decision variables;
:math:`c`, :math:`b_l`, :math:`b_u`, :math:`l`, and :math:`u` are vectors;
:math:`A` is a matrix, and :math:`X_i` is the set of indices of
decision variables that must be integral. (In this context, a
variable that can assume only integer values is said to be "integral";
it has an "integrality" constraint.)

Alternatively, that's:

minimize::

c @ x

such that::

b_l &lt;= A @ x &lt;= b_u
l &lt;= x &lt;= u
Specified elements of x must be integers

By default, ``l = 0`` and ``u = np.inf`` unless specified with
``bounds``.

Parameters
----------
c : 1D dense array_like
The coefficients of the linear objective function to be minimized.
`c` is converted to a double precision array before the problem is
solved.
integrality : 1D dense array_like, optional
Indicates the type of integrality constraint on each decision variable.

``0`` : Continuous variable; no integrality constraint.

``1`` : Integer variable; decision variable must be an integer
within `bounds`.

``2`` : Semi-continuous variable; decision variable must be within
`bounds` or take value ``0``.

``3`` : Semi-integer variable; decision variable must be an integer
within `bounds` or take value ``0``.

By default, all variables are continuous. `integrality` is converted
to an array of integers before the problem is solved.

bounds : scipy.optimize.Bounds, optional
Bounds on the decision variables. Lower and upper bounds are converted
to double precision arrays before the problem is solved. The
``keep_feasible`` parameter of the `Bounds` object is ignored. If
not specified, all decision variables are constrained to be
non-negative.
constraints : sequence of scipy.optimize.LinearConstraint, optional
Linear constraints of the optimization problem. Arguments may be
one of the following:

1. A single `LinearConstraint` object
2. A single tuple that can be converted to a `LinearConstraint` object
as ``LinearConstraint(*constraints)``
3. A sequence composed entirely of objects of type 1. and 2.

Before the problem is solved, all values are converted to double
precision, and the matrices of constraint coefficients are converted to
instances of `scipy.sparse.csc_array`. The ``keep_feasible`` parameter
of `LinearConstraint` objects is ignored.
options : dict, optional
A dictionary of solver options. The following keys are recognized.

disp : bool (default: ``False``)
Set to ``True`` if indicators of optimization status are to be
printed to the console during optimization.
node_limit : int, optional
The maximum number of nodes (linear program relaxations) to solve
before stopping. Default is no maximum number of nodes.
presolve : bool (default: ``True``)
Presolve attempts to identify trivial infeasibilities,
identify trivial unboundedness, and simplify the problem before
sending it to the main solver.
time_limit : float, optional
The maximum number of seconds allotted to solve the problem.
Default is no time limit.
mip_rel_gap : float, optional
Termination criterion for MIP solver: solver will terminate when
the gap between the primal objective value and the dual objective
bound, scaled by the primal objective value, is &lt;= mip_rel_gap.

Returns
-------
res : OptimizeResult
An instance of :class:`scipy.optimize.OptimizeResult`. The object
is guaranteed to have the following attributes.

status : int
An integer representing the exit status of the algorithm.

``0`` : Optimal solution found.

``1`` : Iteration or time limit reached.

``2`` : Problem is infeasible.

``3`` : Problem is unbounded.

``4`` : Other; see message for details.

success : bool
``True`` when an optimal solution is found and ``False`` otherwise.

message : str
A string descriptor of the exit status of the algorithm.

The following attributes will also be present, but the values may be
``None``, depending on the solution status.

x : ndarray
The values of the decision variables that minimize the
objective function while satisfying the constraints.
fun : float
The optimal value of the objective function ``c @ x``.
mip_node_count : int
The number of subproblems or "nodes" solved by the MILP solver.
mip_dual_bound : float
The MILP solver's final estimate of the lower bound on the optimal
solution.
mip_gap : float
The difference between the primal objective value and the dual
objective bound, scaled by the primal objective value.

Notes
-----
`milp` is a wrapper of the HiGHS linear optimization software [1]_. The
algorithm is deterministic, and it typically finds the global optimum of
moderately challenging mixed-integer linear programs (when it exists).

References
----------
.. [1] Huangfu, Q., Galabova, I., Feldmeier, M., and Hall, J. A. J.
"HiGHS - high performance software for linear optimization."
https://highs.dev/
.. [2] Huangfu, Q. and Hall, J. A. J. "Parallelizing the dual revised
simplex method." Mathematical Programming Computation, 10 (1),
119-142, 2018. DOI: 10.1007/s12532-017-0130-5

Examples
--------
Consider the problem at
https://en.wikipedia.org/wiki/Integer_programming#Example, which is
expressed as a maximization problem of two variables. Since `milp` requires
that the problem be expressed as a minimization problem, the objective
function coefficients on the decision variables are:

&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; c = -np.array([0, 1])

Note the negative sign: we maximize the original objective function
by minimizing the negative of the objective function.

We collect the coefficients of the constraints into arrays like:

&gt;&gt;&gt; A = np.array([[-1, 1], [3, 2], [2, 3]])
&gt;&gt;&gt; b_u = np.array([1, 12, 12])
&gt;&gt;&gt; b_l = np.full_like(b_u, -np.inf)

Because there is no lower limit on these constraints, we have defined a
variable ``b_l`` full of values representing negative infinity. This may
be unfamiliar to users of `scipy.optimize.linprog`, which only accepts
"less than" (or "upper bound") inequality constraints of the form
``A_ub @ x &lt;= b_u``. By accepting both ``b_l`` and ``b_u`` of constraints
``b_l &lt;= A_ub @ x &lt;= b_u``, `milp` makes it easy to specify "greater than"
inequality constraints, "less than" inequality constraints, and equality
constraints concisely.

These arrays are collected into a single `LinearConstraint` object like:

&gt;&gt;&gt; from scipy.optimize import LinearConstraint
&gt;&gt;&gt; constraints = LinearConstraint(A, b_l, b_u)

The non-negativity bounds on the decision variables are enforced by
default, so we do not need to provide an argument for `bounds`.

Finally, the problem states that both decision variables must be integers:

&gt;&gt;&gt; integrality = np.ones_like(c)

We solve the problem like:

&gt;&gt;&gt; from scipy.optimize import milp
&gt;&gt;&gt; res = milp(c=c, constraints=constraints, integrality=integrality)
&gt;&gt;&gt; res.x
[1.0, 2.0]

Note that had we solved the relaxed problem (without integrality
constraints):

&gt;&gt;&gt; res = milp(c=c, constraints=constraints)  # OR:
&gt;&gt;&gt; # from scipy.optimize import linprog; res = linprog(c, A, b_u)
&gt;&gt;&gt; res.x
[1.8, 2.8]

we would not have obtained the correct solution by rounding to the nearest
integers.

Other examples are given :ref:`in the tutorial &lt;tutorial-optimize_milp&gt;`.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d77/__milp_8py_source.html#l00151">151</a> of file <a class="el" href="../../d5/d77/__milp_8py_source.html">_milp.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/d0f/namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="../../da/d87/namespacescipy_1_1optimize.html">optimize</a></li><li class="navelem"><a class="el" href="../../d8/d3d/namespacescipy_1_1optimize_1_1__milp.html">_milp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
