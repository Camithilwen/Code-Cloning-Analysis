\doxysection{\+\_\+text\+\_\+helpers.\+py}
\hypertarget{__text__helpers_8py_source}{}\label{__text__helpers_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/matplotlib/\_text\_helpers.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/matplotlib/\_text\_helpers.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00001}\mbox{\hyperlink{namespacematplotlib_1_1__text__helpers}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00002}00002\ \textcolor{stringliteral}{Low-\/level\ text\ helper\ utilities.}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00003}00003\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00005}00005\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00007}00007\ \textcolor{keyword}{import}\ dataclasses}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00009}00009\ \textcolor{keyword}{from}\ .\ \textcolor{keyword}{import}\ \_api}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00010}00010\ \textcolor{keyword}{from}\ .ft2font\ \textcolor{keyword}{import}\ FT2Font,\ Kerning,\ LoadFlags}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00013}00013\ \textcolor{preprocessor}{@dataclasses.dataclass(frozen=True)}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00014}\mbox{\hyperlink{classmatplotlib_1_1__text__helpers_1_1LayoutItem}{00014}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classmatplotlib_1_1__text__helpers_1_1LayoutItem}{LayoutItem}}:}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00015}00015\ \ \ \ \ ft\_object:\ FT2Font}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00016}00016\ \ \ \ \ char:\ str}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00017}00017\ \ \ \ \ glyph\_idx:\ int}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00018}00018\ \ \ \ \ x:\ float}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00019}00019\ \ \ \ \ prev\_kern:\ float}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00022}00022\ \textcolor{keyword}{def\ }warn\_on\_missing\_glyph(codepoint,\ fontnames):}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00023}00023\ \ \ \ \ \_api.warn\_external(}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Glyph\ \{codepoint\}\ "{}}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}(\{chr(codepoint).encode('ascii',\ 'namereplace').decode('ascii')\})\ "{}}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}missing\ from\ font(s)\ \{fontnames\}."{}})}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00028}00028\ \ \ \ \ block\ =\ (\textcolor{stringliteral}{"{}Hebrew"{}}\ \textcolor{keywordflow}{if}\ 0x0590\ <=\ codepoint\ <=\ 0x05ff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Arabic"{}}\ \textcolor{keywordflow}{if}\ 0x0600\ <=\ codepoint\ <=\ 0x06ff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Devanagari"{}}\ \textcolor{keywordflow}{if}\ 0x0900\ <=\ codepoint\ <=\ 0x097f\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Bengali"{}}\ \textcolor{keywordflow}{if}\ 0x0980\ <=\ codepoint\ <=\ 0x09ff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Gurmukhi"{}}\ \textcolor{keywordflow}{if}\ 0x0a00\ <=\ codepoint\ <=\ 0x0a7f\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Gujarati"{}}\ \textcolor{keywordflow}{if}\ 0x0a80\ <=\ codepoint\ <=\ 0x0aff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Oriya"{}}\ \textcolor{keywordflow}{if}\ 0x0b00\ <=\ codepoint\ <=\ 0x0b7f\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Tamil"{}}\ \textcolor{keywordflow}{if}\ 0x0b80\ <=\ codepoint\ <=\ 0x0bff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Telugu"{}}\ \textcolor{keywordflow}{if}\ 0x0c00\ <=\ codepoint\ <=\ 0x0c7f\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Kannada"{}}\ \textcolor{keywordflow}{if}\ 0x0c80\ <=\ codepoint\ <=\ 0x0cff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Malayalam"{}}\ \textcolor{keywordflow}{if}\ 0x0d00\ <=\ codepoint\ <=\ 0x0d7f\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Sinhala"{}}\ \textcolor{keywordflow}{if}\ 0x0d80\ <=\ codepoint\ <=\ 0x0dff\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00041}00041\ \ \ \ \ \textcolor{keywordflow}{if}\ block:}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \_api.warn\_external(}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Matplotlib\ currently\ does\ not\ support\ \{block\}\ natively."{}})}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00046}\mbox{\hyperlink{namespacematplotlib_1_1__text__helpers_a9384530d2225b717e0f737bdef5caf27}{00046}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacematplotlib_1_1__text__helpers_a9384530d2225b717e0f737bdef5caf27}{layout}}(string,\ font,\ *,\ kern\_mode=Kerning.DEFAULT):}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00047}00047\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ Render\ *string*\ with\ *font*.}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00049}00049\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ For\ each\ character\ in\ *string*,\ yield\ a\ LayoutItem\ instance.\ When\ such\ an\ instance}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ is\ yielded,\ the\ font's\ glyph\ is\ set\ to\ the\ corresponding\ character.}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00052}00052\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ string\ :\ str}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ string\ to\ be\ rendered.}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ font\ :\ FT2Font}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00058}00058\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ font.}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00059}00059\ \textcolor{stringliteral}{\ \ \ \ kern\_mode\ :\ Kerning}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00060}00060\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ FreeType\ kerning\ mode.}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00061}00061\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ Yields}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ LayoutItem}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00066}00066\ \ \ \ \ x\ =\ 0}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00067}00067\ \ \ \ \ prev\_glyph\_idx\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00068}00068\ \ \ \ \ char\_to\_font\ =\ font.\_get\_fontmap(string)}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00069}00069\ \ \ \ \ base\_font\ =\ font}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00070}00070\ \ \ \ \ \textcolor{keywordflow}{for}\ char\ \textcolor{keywordflow}{in}\ string:}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ has\ done\ the\ fallback\ logic}}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ font\ =\ char\_to\_font.get(char,\ base\_font)}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ glyph\_idx\ =\ font.get\_char\_index(ord(char))}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ kern\ =\ (}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ base\_font.get\_kerning(prev\_glyph\_idx,\ glyph\_idx,\ kern\_mode)\ /\ 64}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ prev\_glyph\_idx\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ 0.}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ x\ +=\ kern}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ glyph\ =\ font.load\_glyph(glyph\_idx,\ flags=LoadFlags.NO\_HINTING)}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ \mbox{\hyperlink{classmatplotlib_1_1__text__helpers_1_1LayoutItem}{LayoutItem}}(font,\ char,\ glyph\_idx,\ x,\ kern)}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ x\ +=\ glyph.linearHoriAdvance\ /\ 65536}
\DoxyCodeLine{\Hypertarget{__text__helpers_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ prev\_glyph\_idx\ =\ glyph\_idx}

\end{DoxyCode}
