\doxysection{test\+\_\+hb.\+py}
\hypertarget{test__hb_8py_source}{}\label{test__hb_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/io/\_harwell\_boeing/tests/test\_hb.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/io/\_harwell\_boeing/tests/test\_hb.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00001}\mbox{\hyperlink{namespacescipy_1_1io_1_1__harwell__boeing_1_1tests_1_1test__hb}{00001}}\ \textcolor{keyword}{from}\ io\ \textcolor{keyword}{import}\ StringIO}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00002}00002\ \textcolor{keyword}{import}\ tempfile}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00004}00004\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00006}00006\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1testing}{numpy.testing}}\ \textcolor{keyword}{import}\ assert\_equal,\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00007}00007\ \ \ \ \ assert\_array\_almost\_equal\_nulp}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00009}00009\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1sparse}{scipy.sparse}}\ \textcolor{keyword}{import}\ coo\_matrix,\ csc\_matrix,\ rand}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00011}00011\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1io}{scipy.io}}\ \textcolor{keyword}{import}\ hb\_read,\ hb\_write}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00014}00014\ SIMPLE\ =\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00015}00015\ \textcolor{stringliteral}{No\ Title\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |No\ Key}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00016}00016\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ 9\ \ \ \ \ \ \ \ \ \ \ \ \ 4\ \ \ \ \ \ \ \ \ \ \ \ \ 1\ \ \ \ \ \ \ \ \ \ \ \ \ 4}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00017}00017\ \textcolor{stringliteral}{RUA\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 100\ \ \ \ \ \ \ \ \ \ \ 100\ \ \ \ \ \ \ \ \ \ \ \ 10\ \ \ \ \ \ \ \ \ \ \ \ \ 0}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00018}00018\ \textcolor{stringliteral}{(26I3)\ \ \ \ \ \ \ \ \ \ (26I3)\ \ \ \ \ \ \ \ \ \ (3E23.15)}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00019}00019\ \textcolor{stringliteral}{1\ \ 2\ \ 2\ \ 2\ \ 2\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00020}00020\ \textcolor{stringliteral}{3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00021}00021\ \textcolor{stringliteral}{3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 3\ \ 4\ \ 4\ \ 4\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 6\ \ 8\ \ 9\ \ 9\ \ 9\ \ 9}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00022}00022\ \textcolor{stringliteral}{9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ \ 9\ 11}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00023}00023\ \textcolor{stringliteral}{37\ 71\ 89\ 18\ 30\ 45\ 70\ 19\ 25\ 52}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00024}00024\ \textcolor{stringliteral}{2.971243799687726e-\/01\ \ 3.662366682877375e-\/01\ \ 4.786962174699534e-\/01}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00025}00025\ \textcolor{stringliteral}{6.490068647991184e-\/01\ \ 6.617490424831662e-\/02\ \ 8.870370343191623e-\/01}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00026}00026\ \textcolor{stringliteral}{4.196478590163001e-\/01\ \ 5.649603072111251e-\/01\ \ 9.934423887087086e-\/01}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00027}00027\ \textcolor{stringliteral}{6.912334991524289e-\/01}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00028}00028\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00030}00030\ SIMPLE\_MATRIX\ =\ \mbox{\hyperlink{classscipy_1_1sparse_1_1__coo_1_1coo__matrix}{coo\_matrix}}(}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00031}00031\ \ \ \ \ ((0.297124379969,\ 0.366236668288,\ 0.47869621747,\ 0.649006864799,}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00032}00032\ \ \ \ \ \ \ 0.0661749042483,\ 0.887037034319,\ 0.419647859016,}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00033}00033\ \ \ \ \ \ \ 0.564960307211,\ 0.993442388709,\ 0.691233499152,),}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00034}00034\ \ \ \ \ \ (np.array([[36,\ 70,\ 88,\ 17,\ 29,\ 44,\ 69,\ 18,\ 24,\ 51],}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ 4,\ 58,\ 61,\ 61,\ 72,\ 72,\ 73,\ 99,\ 99]]))))}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00038}00038\ \textcolor{keyword}{def\ }assert\_csc\_almost\_equal(r,\ l):}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00039}00039\ \ \ \ \ r\ =\ \mbox{\hyperlink{classscipy_1_1sparse_1_1__csc_1_1csc__matrix}{csc\_matrix}}(r)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00040}00040\ \ \ \ \ l\ =\ \mbox{\hyperlink{classscipy_1_1sparse_1_1__csc_1_1csc__matrix}{csc\_matrix}}(l)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00041}00041\ \ \ \ \ assert\_equal(r.indptr,\ l.indptr)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00042}00042\ \ \ \ \ assert\_equal(r.indices,\ l.indices)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00043}00043\ \ \ \ \ assert\_array\_almost\_equal\_nulp(r.data,\ l.data,\ 10000)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00046}\mbox{\hyperlink{classscipy_1_1io_1_1__harwell__boeing_1_1tests_1_1test__hb_1_1TestHBReader}{00046}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classscipy_1_1io_1_1__harwell__boeing_1_1tests_1_1test__hb_1_1TestHBReader}{TestHBReader}}:}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00047}00047\ \ \ \ \ \textcolor{keyword}{def\ }test\_simple(self):}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ m\ =\ hb\_read(\mbox{\hyperlink{classStringIO}{StringIO}}(SIMPLE))}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ assert\_csc\_almost\_equal(m,\ SIMPLE\_MATRIX)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00052}\mbox{\hyperlink{classscipy_1_1io_1_1__harwell__boeing_1_1tests_1_1test__hb_1_1TestHBReadWrite}{00052}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classscipy_1_1io_1_1__harwell__boeing_1_1tests_1_1test__hb_1_1TestHBReadWrite}{TestHBReadWrite}}:}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00054}00054\ \ \ \ \ \textcolor{keyword}{def\ }check\_save\_load(self,\ value):}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ tempfile.NamedTemporaryFile(mode=\textcolor{stringliteral}{'w+t'})\ \textcolor{keyword}{as}\ file:}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ hb\_write(file,\ value)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ file.file.seek(0)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ value\_loaded\ =\ hb\_read(file)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ assert\_csc\_almost\_equal(value,\ value\_loaded)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00061}00061\ \ \ \ \ \textcolor{keyword}{def\ }test\_simple(self):}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ random\_matrix\ =\ rand(10,\ 100,\ 0.1)}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ matrix\_format\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{'coo'},\ \textcolor{stringliteral}{'csc'},\ \textcolor{stringliteral}{'csr'},\ \textcolor{stringliteral}{'bsr'},\ \textcolor{stringliteral}{'dia'},\ \textcolor{stringliteral}{'dok'},\ \textcolor{stringliteral}{'lil'}):}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ matrix\ =\ random\_matrix.asformat(matrix\_format,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{test__hb_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classscipy_1_1io_1_1__harwell__boeing_1_1tests_1_1test__hb_1_1TestHBReadWrite_acedb3650894cf4127df0c5c0291c5ae9}{check\_save\_load}}(matrix)}

\end{DoxyCode}
