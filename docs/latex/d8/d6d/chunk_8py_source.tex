\doxysection{chunk.\+py}
\hypertarget{chunk_8py_source}{}\label{chunk_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/contourpy/chunk.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/contourpy/chunk.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00001}\mbox{\hyperlink{namespacecontourpy_1_1chunk}{00001}}\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00003}00003\ \textcolor{keyword}{import}\ math}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00006}\mbox{\hyperlink{namespacecontourpy_1_1chunk_a61b3778901f35997dcef050e3ff5dbd4}{00006}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontourpy_1_1chunk_a61b3778901f35997dcef050e3ff5dbd4}{calc\_chunk\_sizes}}(}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00007}00007\ \ \ \ \ chunk\_size:\ int\ |\ tuple[int,\ int]\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00008}00008\ \ \ \ \ chunk\_count:\ int\ |\ tuple[int,\ int]\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00009}00009\ \ \ \ \ total\_chunk\_count:\ int\ |\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00010}00010\ \ \ \ \ ny:\ int,}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00011}00011\ \ \ \ \ nx:\ int,}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00012}00012\ )\ -\/>\ tuple[int,\ int]:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00013}00013\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ chunk\ sizes.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00014}00014\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00016}00016\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ chunk\_size\ (int\ or\ tuple(int,\ int),\ optional):\ Chunk\ size\ in\ (y,\ x)\ directions,\ or\ the\ same}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00017}00017\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ size\ in\ both\ directions\ if\ only\ one\ is\ specified.\ Cannot\ be\ negative.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ chunk\_count\ (int\ or\ tuple(int,\ int),\ optional):\ Chunk\ count\ in\ (y,\ x)\ directions,\ or\ the}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ same\ count\ in\ both\ directions\ if\ only\ one\ is\ specified.\ If\ less\ than\ 1,\ set\ to\ 1.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ total\_chunk\_count\ (int,\ optional):\ Total\ number\ of\ chunks.\ If\ less\ than\ 1,\ set\ to\ 1.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ny\ (int):\ Number\ of\ grid\ points\ in\ y-\/direction.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00022}00022\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ nx\ (int):\ Number\ of\ grid\ points\ in\ x-\/direction.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00023}00023\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ Return:}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ tuple(int,\ int):\ Chunk\ sizes\ (y\_chunk\_size,\ x\_chunk\_size).}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00026}00026\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ Note:}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Zero\ or\ one\ of\ \`{}\`{}chunk\_size\`{}\`{},\ \`{}\`{}chunk\_count\`{}\`{}\ and\ \`{}\`{}total\_chunk\_count\`{}\`{}\ should\ be}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ specified.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{if}\ sum([chunk\_size\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None},\ chunk\_count\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None},\ total\_chunk\_count\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}])\ >\ 1:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Only\ one\ of\ chunk\_size,\ chunk\_count\ and\ total\_chunk\_count\ should\ be\ set"{}})}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{if}\ nx\ <\ 2\ \textcolor{keywordflow}{or}\ ny\ <\ 2:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(f\textcolor{stringliteral}{"{}(ny,\ nx)\ must\ be\ at\ least\ (2,\ 2),\ not\ (\{ny\},\ \{nx\})"{}})}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00037}00037\ \ \ \ \ \textcolor{keywordflow}{if}\ total\_chunk\_count\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ max\_chunk\_count\ =\ (nx-\/1)*(ny-\/1)}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ total\_chunk\_count\ =\ min(max(total\_chunk\_count,\ 1),\ max\_chunk\_count)}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ total\_chunk\_count\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ chunk\_size\ =\ 0}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ total\_chunk\_count\ ==\ max\_chunk\_count:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ chunk\_size\ =\ (1,\ 1)}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ factors\ =\ \mbox{\hyperlink{namespacecontourpy_1_1chunk_ae01af050d8725284bb17a211f4195a5b}{two\_factors}}(total\_chunk\_count)}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ny\ >\ nx:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ chunk\_count\ =\ factors}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ chunk\_count\ =\ (factors[1],\ factors[0])}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00051}00051\ \ \ \ \ \textcolor{keywordflow}{if}\ chunk\_count\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(chunk\_count,\ tuple):}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ y\_chunk\_count,\ x\_chunk\_count\ =\ chunk\_count}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ y\_chunk\_count\ =\ x\_chunk\_count\ =\ chunk\_count}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ x\_chunk\_count\ =\ min(max(x\_chunk\_count,\ 1),\ nx-\/1)}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ y\_chunk\_count\ =\ min(max(y\_chunk\_count,\ 1),\ ny-\/1)}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ chunk\_size\ =\ (math.ceil((ny-\/1)\ /\ y\_chunk\_count),\ math.ceil((nx-\/1)\ /\ x\_chunk\_count))}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00060}00060\ \ \ \ \ \textcolor{keywordflow}{if}\ chunk\_size\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ y\_chunk\_size\ =\ x\_chunk\_size\ =\ 0}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00062}00062\ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(chunk\_size,\ tuple):}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ y\_chunk\_size,\ x\_chunk\_size\ =\ chunk\_size}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00064}00064\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ y\_chunk\_size\ =\ x\_chunk\_size\ =\ chunk\_size}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00067}00067\ \ \ \ \ \textcolor{keywordflow}{if}\ x\_chunk\_size\ <\ 0\ \textcolor{keywordflow}{or}\ y\_chunk\_size\ <\ 0:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}chunk\_size\ cannot\ be\ negative"{}})}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00070}00070\ \ \ \ \ \textcolor{keywordflow}{return}\ y\_chunk\_size,\ x\_chunk\_size}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00073}\mbox{\hyperlink{namespacecontourpy_1_1chunk_ae01af050d8725284bb17a211f4195a5b}{00073}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontourpy_1_1chunk_ae01af050d8725284bb17a211f4195a5b}{two\_factors}}(n:\ int)\ -\/>\ tuple[int,\ int]:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00074}00074\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Split\ an\ integer\ into\ two\ integer\ factors.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00075}00075\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00076}00076\ \textcolor{stringliteral}{\ \ \ \ The\ two\ factors\ will\ be\ as\ close\ as\ possible\ to\ the\ sqrt\ of\ n,\ and\ are\ returned\ in\ decreasing}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ order.\ \ Worst\ case\ returns\ (n,\ 1).}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00078}00078\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00079}00079\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00080}00080\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ n\ (int):\ The\ integer\ to\ factorize,\ must\ be\ positive.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00081}00081\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ Return:}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00083}00083\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ tuple(int,\ int):\ The\ two\ factors\ of\ n,\ in\ decreasing\ order.}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00084}00084\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00085}00085\ \ \ \ \ \textcolor{keywordflow}{if}\ n\ <\ 0:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(f\textcolor{stringliteral}{"{}two\_factors\ expects\ positive\ integer\ not\ \{n\}"{}})}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00088}00088\ \ \ \ \ i\ =\ math.ceil(math.sqrt(n))}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00089}00089\ \ \ \ \ \textcolor{keywordflow}{while}\ n\ \%\ i\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ i\ -\/=\ 1}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00091}00091\ \ \ \ \ j\ =\ n\ //\ i}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00092}00092\ \ \ \ \ \textcolor{keywordflow}{if}\ i\ >\ j:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i,\ j}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00094}00094\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{chunk_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ j,\ i}

\end{DoxyCode}
