\doxysection{get\+\_\+averages.\+py}
\hypertarget{get__averages_8py_source}{}\label{get__averages_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/get\_averages.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/get\_averages.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00001}\mbox{\hyperlink{namespaceget__averages}{00001}}\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00002}00002\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00003}00003\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00005}00005\ labels\ =\ [}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00006}00006\ \ \ \ \ \textcolor{stringliteral}{"{}Accuracy"{}},\ \textcolor{stringliteral}{"{}Precision"{}},\ \textcolor{stringliteral}{"{}Recall"{}},\ \textcolor{stringliteral}{"{}F1-\/Score"{}},\ \textcolor{stringliteral}{"{}MSE"{}},\ \ \textcolor{comment}{\#\ First\ line}}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00007}00007\ \ \ \ \ \textcolor{stringliteral}{"{}Class\ 0\ Precision"{}},\ \textcolor{stringliteral}{"{}Class\ 0\ Recall"{}},\ \textcolor{stringliteral}{"{}Class\ 0\ F1-\/Score"{}},}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00008}00008\ \ \ \ \ \textcolor{stringliteral}{"{}Class\ 1\ Precision"{}},\ \textcolor{stringliteral}{"{}Class\ 1\ Recall"{}},\ \textcolor{stringliteral}{"{}Class\ 1\ F1-\/Score"{}},}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00009}00009\ \ \ \ \ \textcolor{stringliteral}{"{}Macro\ Avg\ Precision"{}},\ \textcolor{stringliteral}{"{}Macro\ Avg\ Recall"{}},\ \textcolor{stringliteral}{"{}Macro\ Avg\ F1-\/Score"{}},}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00010}00010\ \ \ \ \ \textcolor{stringliteral}{"{}Weighted\ Avg\ Precision"{}},\ \textcolor{stringliteral}{"{}Weighted\ Avg\ Recall"{}},\ \textcolor{stringliteral}{"{}Weighted\ Avg\ F1-\/Score"{}}}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00011}00011\ ]}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00013}00013\ \textcolor{keyword}{def\ }extract\_metrics\_from\_file(filepath):}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00014}00014\ \ \ \ \ \textcolor{keyword}{with}\ open(filepath,\ \textcolor{stringliteral}{'r'})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00015}00015\ \ \ \ \ \ \ \ \ text\ =\ f.read()}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00017}00017\ \ \ \ \ first\_line\_match\ =\ re.search(}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{r'Accuracy:\(\backslash\)s*([\(\backslash\)d.]+),\(\backslash\)s*Precision:\(\backslash\)s*([\(\backslash\)d.]+),\(\backslash\)s*Recall:\(\backslash\)s*([\(\backslash\)d.]+),\(\backslash\)s*F1-\/Score:\(\backslash\)s*([\(\backslash\)d.]+),\(\backslash\)s*MSE:\(\backslash\)s*([\(\backslash\)d.]+)'},}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ text}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00020}00020\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00021}00021\ \ \ \ \ line\_metrics\ =\ list(map(float,\ first\_line\_match.groups()))\ \textcolor{keywordflow}{if}\ first\_line\_match\ \textcolor{keywordflow}{else}\ []}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00023}00023\ \ \ \ \ table\_pattern\ =\ re.findall(}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{r'\string^\(\backslash\)s*\(\backslash\)d?\(\backslash\)s*\(\backslash\)d?\(\backslash\)s*([\(\backslash\)d.]+)\(\backslash\)s+([\(\backslash\)d.]+)\(\backslash\)s+([\(\backslash\)d.]+)\(\backslash\)s+\(\backslash\)d+'},}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ text,}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ re.MULTILINE}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00027}00027\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00028}00028\ \ \ \ \ table\_metrics\ =\ [float(val)\ \textcolor{keywordflow}{for}\ group\ \textcolor{keywordflow}{in}\ table\_pattern\ \textcolor{keywordflow}{for}\ val\ \textcolor{keywordflow}{in}\ group]}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00030}00030\ \ \ \ \ \textcolor{keywordflow}{return}\ line\_metrics\ +\ table\_metrics}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00032}00032\ \textcolor{keyword}{def\ }compute\_average\_metrics(folder\_path):}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00033}00033\ \ \ \ \ all\_metrics\ =\ []}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00035}00035\ \ \ \ \ \textcolor{keywordflow}{for}\ filename\ \textcolor{keywordflow}{in}\ os.listdir(folder\_path):}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ filename.endswith(\textcolor{stringliteral}{"{}.txt"{}}):}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ filepath\ =\ os.path.join(folder\_path,\ filename)}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ metrics\ =\ extract\_metrics\_from\_file(filepath)}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ metrics:}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ all\_metrics.append(metrics)}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ all\_metrics:}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}No\ metrics\ found."{}})}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00046}00046\ \ \ \ \ max\_len\ =\ max(len(m)\ \textcolor{keywordflow}{for}\ m\ \textcolor{keywordflow}{in}\ all\_metrics)}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00047}00047\ \ \ \ \ all\_metrics\ =\ [m\ +\ [np.nan]\ *\ (max\_len\ -\/\ len(m))\ \textcolor{keywordflow}{for}\ m\ \textcolor{keywordflow}{in}\ all\_metrics]}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00049}00049\ \ \ \ \ averages\ =\ np.nanmean(np.array(all\_metrics),\ axis=0)}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00051}00051\ \ \ \ \ print(\textcolor{stringliteral}{"{}Average\ Metrics:\(\backslash\)n"{}})}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00052}00052\ \ \ \ \ \textcolor{keywordflow}{for}\ label,\ value\ \textcolor{keywordflow}{in}\ zip(labels,\ averages):}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ print(f\textcolor{stringliteral}{"{}\{label\}:\ \{value:.4f\}"{}})}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00055}00055\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ MAIN\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00056}00056\ folder\_path\ =\ \textcolor{stringliteral}{'/Users/shreyanakum/Documents/NSF@Oulu/Code-\/Cloning-\/Analysis/src/llm-\/scripts/testing/hypothesis-\/testing/llama\_results'}}
\DoxyCodeLine{\Hypertarget{get__averages_8py_source_l00057}00057\ compute\_average\_metrics(folder\_path)}

\end{DoxyCode}
