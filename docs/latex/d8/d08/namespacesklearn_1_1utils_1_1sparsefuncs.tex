\doxysection{sklearn.\+utils.\+sparsefuncs Namespace Reference}
\hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs}{}\label{namespacesklearn_1_1utils_1_1sparsefuncs}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a306e6063b5ced42d3a087c85b8b24c39}{\+\_\+raise\+\_\+typeerror}} (X)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_ae3bdcf40f84f98759e8d7ffe5f6e1a9a}{\+\_\+raise\+\_\+error\+\_\+wrong\+\_\+axis}} (axis)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_ae293b8428cd2123e1577392811d9ba7e}{inplace\+\_\+csr\+\_\+column\+\_\+scale}} (X, scale)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a888f77b9ddd0c2077e5f4ebb7734a87c}{inplace\+\_\+csr\+\_\+row\+\_\+scale}} (X, scale)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_ac084fb785b9d33f71d528389f26b594c}{mean\+\_\+variance\+\_\+axis}} (X, axis, weights=None, return\+\_\+sum\+\_\+weights=False)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a0d77ab8f88146e7f947f458354c4d120}{incr\+\_\+mean\+\_\+variance\+\_\+axis}} (X, \texorpdfstring{$\ast$}{*}, axis, last\+\_\+mean, last\+\_\+var, last\+\_\+n, weights=None)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_ae76a5f3289b20c92186200f74d7b9400}{inplace\+\_\+column\+\_\+scale}} (X, scale)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a65f869ba95e06a7f64bc0ae64b12e7a6}{inplace\+\_\+row\+\_\+scale}} (X, scale)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a599659738194c579ff2f9bac8a5252e1}{inplace\+\_\+swap\+\_\+row\+\_\+csc}} (X, m, n)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a585504740c5142924606a6831192cab9}{inplace\+\_\+swap\+\_\+row\+\_\+csr}} (X, m, n)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a113118c0760c413c7f8b4c647d15f2ee}{inplace\+\_\+swap\+\_\+row}} (X, m, n)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a29c8d0ceb1b3a810024b37fe7aa133b4}{inplace\+\_\+swap\+\_\+column}} (X, m, n)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a111b9b968fa72d6e2212053aac4df9f7}{min\+\_\+max\+\_\+axis}} (X, axis, ignore\+\_\+nan=False)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_ab37498273ac85708d77f8a1620b3eef3}{count\+\_\+nonzero}} (X, axis=None, sample\+\_\+weight=None)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_af8057290c8a356f0e02081a6c2ac0f26}{\+\_\+get\+\_\+median}} (data, n\+\_\+zeros)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a92c513aadcfdad810fc2b214c5d45961}{\+\_\+get\+\_\+elem\+\_\+at\+\_\+rank}} (rank, data, n\+\_\+negative, n\+\_\+zeros)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a048955e044c8b4e4001f6a51c56c367a}{csc\+\_\+median\+\_\+axis\+\_\+0}} (X)
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1sparsefuncs_a7655f6313db98218d86d29e352ec6fec}{\+\_\+implicit\+\_\+column\+\_\+offset}} (X, offset)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}A collection of utilities to work with sparse matrices and arrays.\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a92c513aadcfdad810fc2b214c5d45961}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!\_get\_elem\_at\_rank@{\_get\_elem\_at\_rank}}
\index{\_get\_elem\_at\_rank@{\_get\_elem\_at\_rank}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{\_get\_elem\_at\_rank()}{\_get\_elem\_at\_rank()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a92c513aadcfdad810fc2b214c5d45961} 
sklearn.\+utils.\+sparsefuncs.\+\_\+get\+\_\+elem\+\_\+at\+\_\+rank (\begin{DoxyParamCaption}\item[{}]{rank}{, }\item[{}]{data}{, }\item[{}]{n\+\_\+negative}{, }\item[{}]{n\+\_\+zeros}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Find the value in data augmented with n_zeros for the given rank\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00678}{678}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00656}{\+\_\+get\+\_\+median()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_af8057290c8a356f0e02081a6c2ac0f26}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!\_get\_median@{\_get\_median}}
\index{\_get\_median@{\_get\_median}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{\_get\_median()}{\_get\_median()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_af8057290c8a356f0e02081a6c2ac0f26} 
sklearn.\+utils.\+sparsefuncs.\+\_\+get\+\_\+median (\begin{DoxyParamCaption}\item[{}]{data}{, }\item[{}]{n\+\_\+zeros}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Compute the median of data with n_zeros additional zeros.

This function is used to support sparse matrices; it modifies data
in-place.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00656}{656}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00678}{\+\_\+get\+\_\+elem\+\_\+at\+\_\+rank()}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00687}{csc\+\_\+median\+\_\+axis\+\_\+0()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a7655f6313db98218d86d29e352ec6fec}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!\_implicit\_column\_offset@{\_implicit\_column\_offset}}
\index{\_implicit\_column\_offset@{\_implicit\_column\_offset}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{\_implicit\_column\_offset()}{\_implicit\_column\_offset()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a7655f6313db98218d86d29e352ec6fec} 
sklearn.\+utils.\+sparsefuncs.\+\_\+implicit\+\_\+column\+\_\+offset (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{offset}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Create an implicitly offset linear operator.

This is used by PCA on sparse data to avoid densifying the whole data
matrix.

Params
------
    X : sparse matrix of shape (n_samples, n_features)
    offset : ndarray of shape (n_features,)

Returns
-------
centered : LinearOperator
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00718}{718}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_ae3bdcf40f84f98759e8d7ffe5f6e1a9a}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!\_raise\_error\_wrong\_axis@{\_raise\_error\_wrong\_axis}}
\index{\_raise\_error\_wrong\_axis@{\_raise\_error\_wrong\_axis}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{\_raise\_error\_wrong\_axis()}{\_raise\_error\_wrong\_axis()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_ae3bdcf40f84f98759e8d7ffe5f6e1a9a} 
sklearn.\+utils.\+sparsefuncs.\+\_\+raise\+\_\+error\+\_\+wrong\+\_\+axis (\begin{DoxyParamCaption}\item[{}]{axis}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00032}{32}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a306e6063b5ced42d3a087c85b8b24c39}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!\_raise\_typeerror@{\_raise\_typeerror}}
\index{\_raise\_typeerror@{\_raise\_typeerror}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{\_raise\_typeerror()}{\_raise\_typeerror()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a306e6063b5ced42d3a087c85b8b24c39} 
sklearn.\+utils.\+sparsefuncs.\+\_\+raise\+\_\+typeerror (\begin{DoxyParamCaption}\item[{}]{X}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Raises a TypeError if X is not a CSR or CSC matrix\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{25}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00176}{incr\+\_\+mean\+\_\+variance\+\_\+axis()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00291}{inplace\+\_\+column\+\_\+scale()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00336}{inplace\+\_\+row\+\_\+scale()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00517}{inplace\+\_\+swap\+\_\+column()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00472}{inplace\+\_\+swap\+\_\+row()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00098}{mean\+\_\+variance\+\_\+axis()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00566}{min\+\_\+max\+\_\+axis()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_ab37498273ac85708d77f8a1620b3eef3}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!count\_nonzero@{count\_nonzero}}
\index{count\_nonzero@{count\_nonzero}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{count\_nonzero()}{count\_nonzero()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_ab37498273ac85708d77f8a1620b3eef3} 
sklearn.\+utils.\+sparsefuncs.\+count\+\_\+nonzero (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{axis}{ = {\ttfamily None}, }\item[{}]{sample\+\_\+weight}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}A variant of X.getnnz() with extension to weighting on axis 0.

Useful in efficiently calculating multilabel metrics.

Parameters
----------
X : sparse matrix of shape (n_samples, n_labels)
    Input data. It should be of CSR format.

axis : {0, 1}, default=None
    The axis on which the data is aggregated.

sample_weight : array-like of shape (n_samples,), default=None
    Weight for each row of X.

Returns
-------
nnz : int, float, ndarray of shape (n_samples,) or ndarray of shape (n_features,)
    Number of non-zero values in the array along a given axis. Otherwise,
    the total number of non-zero values in the array is returned.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00602}{602}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a048955e044c8b4e4001f6a51c56c367a}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!csc\_median\_axis\_0@{csc\_median\_axis\_0}}
\index{csc\_median\_axis\_0@{csc\_median\_axis\_0}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{csc\_median\_axis\_0()}{csc\_median\_axis\_0()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a048955e044c8b4e4001f6a51c56c367a} 
sklearn.\+utils.\+sparsefuncs.\+csc\+\_\+median\+\_\+axis\+\_\+0 (\begin{DoxyParamCaption}\item[{}]{X}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Find the median across axis 0 of a CSC matrix.

It is equivalent to doing np.median(X, axis=0).

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Input data. It should be of CSC format.

Returns
-------
median : ndarray of shape (n_features,)
    Median.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00687}{687}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00656}{\+\_\+get\+\_\+median()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a0d77ab8f88146e7f947f458354c4d120}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!incr\_mean\_variance\_axis@{incr\_mean\_variance\_axis}}
\index{incr\_mean\_variance\_axis@{incr\_mean\_variance\_axis}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{incr\_mean\_variance\_axis()}{incr\_mean\_variance\_axis()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a0d77ab8f88146e7f947f458354c4d120} 
sklearn.\+utils.\+sparsefuncs.\+incr\+\_\+mean\+\_\+variance\+\_\+axis (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{\texorpdfstring{$\ast$}{*}}]{}{, }\item[{}]{axis}{, }\item[{}]{last\+\_\+mean}{, }\item[{}]{last\+\_\+var}{, }\item[{}]{last\+\_\+n}{, }\item[{}]{weights}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute incremental mean and variance along an axis on a CSR or CSC matrix.

last_mean, last_var are the statistics computed at the last step by this
function. Both must be initialized to 0-arrays of the proper size, i.e.
the number of features in X. last_n is the number of samples encountered
until now.

Parameters
----------
X : CSR or CSC sparse matrix of shape (n_samples, n_features)
    Input data.

axis : {0, 1}
    Axis along which the axis should be computed.

last_mean : ndarray of shape (n_features,) or (n_samples,), dtype=floating
    Array of means to update with the new data X.
    Should be of shape (n_features,) if axis=0 or (n_samples,) if axis=1.

last_var : ndarray of shape (n_features,) or (n_samples,), dtype=floating
    Array of variances to update with the new data X.
    Should be of shape (n_features,) if axis=0 or (n_samples,) if axis=1.

last_n : float or ndarray of shape (n_features,) or (n_samples,), \
        dtype=floating
    Sum of the weights seen so far, excluding the current weights
    If not float, it should be of shape (n_features,) if
    axis=0 or (n_samples,) if axis=1. If float it corresponds to
    having same weights for all samples (or features).

weights : ndarray of shape (n_samples,) or (n_features,), default=None
    If axis is set to 0 shape is (n_samples,) or
    if axis is set to 1 shape is (n_features,).
    If it is set to None, then samples are equally weighted.

    .. versionadded:: 0.24

Returns
-------
means : ndarray of shape (n_features,) or (n_samples,), dtype=floating
    Updated feature-wise means if axis = 0 or
    sample-wise means if axis = 1.

variances : ndarray of shape (n_features,) or (n_samples,), dtype=floating
    Updated feature-wise variances if axis = 0 or
    sample-wise variances if axis = 1.

n : ndarray of shape (n_features,) or (n_samples,), dtype=integral
    Updated number of seen samples per feature if axis=0
    or number of seen features per sample if axis=1.

    If weights is not None, n is a sum of the weights of the seen
    samples or features instead of the actual number of seen
    samples or features.

Notes
-----
NaNs are ignored in the algorithm.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 3, 4, 4, 4])
>>> indices = np.array([0, 1, 2, 2])
>>> data = np.array([8, 1, 2, 5])
>>> scale = np.array([2, 3, 2])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 1, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
>>> sparsefuncs.incr_mean_variance_axis(
...     csr, axis=0, last_mean=np.zeros(3), last_var=np.zeros(3), last_n=2
... )
(array([1.33, 0.167, 1.17]), array([8.88, 0.139, 3.47]),
array([6., 6., 6.]))
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00176}{176}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_ae76a5f3289b20c92186200f74d7b9400}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_column\_scale@{inplace\_column\_scale}}
\index{inplace\_column\_scale@{inplace\_column\_scale}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_column\_scale()}{inplace\_column\_scale()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_ae76a5f3289b20c92186200f74d7b9400} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+column\+\_\+scale (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{scale}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Inplace column scaling of a CSC/CSR matrix.

Scale each feature of the data matrix by multiplying with specific scale
provided by the caller assuming a (n_samples, n_features) shape.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix to normalize using the variance of the features. It should be
    of CSC or CSR format.

scale : ndarray of shape (n_features,), dtype={np.float32, np.float64}
    Array of precomputed feature-wise values to use for scaling.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 3, 4, 4, 4])
>>> indices = np.array([0, 1, 2, 2])
>>> data = np.array([8, 1, 2, 5])
>>> scale = np.array([2, 3, 2])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 1, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
>>> sparsefuncs.inplace_column_scale(csr, scale)
>>> csr.todense()
matrix([[16,  3,  4],
        [ 0,  0, 10],
        [ 0,  0,  0],
        [ 0,  0,  0]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00291}{291}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00039}{inplace\+\_\+csr\+\_\+column\+\_\+scale()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00080}{inplace\+\_\+csr\+\_\+row\+\_\+scale()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_ae293b8428cd2123e1577392811d9ba7e}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_csr\_column\_scale@{inplace\_csr\_column\_scale}}
\index{inplace\_csr\_column\_scale@{inplace\_csr\_column\_scale}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_csr\_column\_scale()}{inplace\_csr\_column\_scale()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_ae293b8428cd2123e1577392811d9ba7e} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+csr\+\_\+column\+\_\+scale (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{scale}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Inplace column scaling of a CSR matrix.

Scale each feature of the data matrix by multiplying with specific scale
provided by the caller assuming a (n_samples, n_features) shape.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix to normalize using the variance of the features.
    It should be of CSR format.

scale : ndarray of shape (n_features,), dtype={np.float32, np.float64}
    Array of precomputed feature-wise values to use for scaling.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 3, 4, 4, 4])
>>> indices = np.array([0, 1, 2, 2])
>>> data = np.array([8, 1, 2, 5])
>>> scale = np.array([2, 3, 2])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 1, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
>>> sparsefuncs.inplace_csr_column_scale(csr, scale)
>>> csr.todense()
matrix([[16,  3,  4],
        [ 0,  0, 10],
        [ 0,  0,  0],
        [ 0,  0,  0]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00039}{39}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00291}{inplace\+\_\+column\+\_\+scale()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00336}{inplace\+\_\+row\+\_\+scale()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a888f77b9ddd0c2077e5f4ebb7734a87c}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_csr\_row\_scale@{inplace\_csr\_row\_scale}}
\index{inplace\_csr\_row\_scale@{inplace\_csr\_row\_scale}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_csr\_row\_scale()}{inplace\_csr\_row\_scale()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a888f77b9ddd0c2077e5f4ebb7734a87c} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+csr\+\_\+row\+\_\+scale (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{scale}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Inplace row scaling of a CSR matrix.

Scale each sample of the data matrix by multiplying with specific scale
provided by the caller assuming a (n_samples, n_features) shape.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix to be scaled. It should be of CSR format.

scale : ndarray of float of shape (n_samples,)
    Array of precomputed sample-wise values to use for scaling.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00080}{80}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00291}{inplace\+\_\+column\+\_\+scale()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00336}{inplace\+\_\+row\+\_\+scale()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a65f869ba95e06a7f64bc0ae64b12e7a6}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_row\_scale@{inplace\_row\_scale}}
\index{inplace\_row\_scale@{inplace\_row\_scale}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_row\_scale()}{inplace\_row\_scale()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a65f869ba95e06a7f64bc0ae64b12e7a6} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+row\+\_\+scale (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{scale}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Inplace row scaling of a CSR or CSC matrix.

Scale each row of the data matrix by multiplying with specific scale
provided by the caller assuming a (n_samples, n_features) shape.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix to be scaled. It should be of CSR or CSC format.

scale : ndarray of shape (n_features,), dtype={np.float32, np.float64}
    Array of precomputed sample-wise values to use for scaling.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 2, 3, 4, 5])
>>> indices = np.array([0, 1, 2, 3, 3])
>>> data = np.array([8, 1, 2, 5, 6])
>>> scale = np.array([2, 3, 4, 5])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 1, 0, 0],
        [0, 0, 2, 0],
        [0, 0, 0, 5],
        [0, 0, 0, 6]])
>>> sparsefuncs.inplace_row_scale(csr, scale)
>>> csr.todense()
 matrix([[16,  2,  0,  0],
         [ 0,  0,  6,  0],
         [ 0,  0,  0, 20],
         [ 0,  0,  0, 30]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00336}{336}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00039}{inplace\+\_\+csr\+\_\+column\+\_\+scale()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00080}{inplace\+\_\+csr\+\_\+row\+\_\+scale()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a29c8d0ceb1b3a810024b37fe7aa133b4}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_swap\_column@{inplace\_swap\_column}}
\index{inplace\_swap\_column@{inplace\_swap\_column}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_swap\_column()}{inplace\_swap\_column()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a29c8d0ceb1b3a810024b37fe7aa133b4} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+swap\+\_\+column (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{m}{, }\item[{}]{n}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Swap two columns of a CSC/CSR matrix in-place.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix whose two columns are to be swapped. It should be of
    CSR or CSC format.

m : int
    Index of the column of X to be swapped.

n : int
    Index of the column of X to be swapped.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 2, 3, 3, 3])
>>> indices = np.array([0, 2, 2])
>>> data = np.array([8, 2, 5])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 0, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
>>> sparsefuncs.inplace_swap_column(csr, 0, 1)
>>> csr.todense()
matrix([[0, 8, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00517}{517}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00380}{inplace\+\_\+swap\+\_\+row\+\_\+csc()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00409}{inplace\+\_\+swap\+\_\+row\+\_\+csr()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a113118c0760c413c7f8b4c647d15f2ee}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_swap\_row@{inplace\_swap\_row}}
\index{inplace\_swap\_row@{inplace\_swap\_row}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_swap\_row()}{inplace\_swap\_row()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a113118c0760c413c7f8b4c647d15f2ee} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+swap\+\_\+row (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{m}{, }\item[{}]{n}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Swap two rows of a CSC/CSR matrix in-place.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix whose two rows are to be swapped. It should be of CSR or
    CSC format.

m : int
    Index of the row of X to be swapped.

n : int
    Index of the row of X to be swapped.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 2, 3, 3, 3])
>>> indices = np.array([0, 2, 2])
>>> data = np.array([8, 2, 5])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 0, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
>>> sparsefuncs.inplace_swap_row(csr, 0, 1)
>>> csr.todense()
matrix([[0, 0, 5],
        [8, 0, 2],
        [0, 0, 0],
        [0, 0, 0]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00472}{472}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}, \mbox{\hyperlink{sparsefuncs_8py_source_l00380}{inplace\+\_\+swap\+\_\+row\+\_\+csc()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00409}{inplace\+\_\+swap\+\_\+row\+\_\+csr()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a599659738194c579ff2f9bac8a5252e1}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_swap\_row\_csc@{inplace\_swap\_row\_csc}}
\index{inplace\_swap\_row\_csc@{inplace\_swap\_row\_csc}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_swap\_row\_csc()}{inplace\_swap\_row\_csc()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a599659738194c579ff2f9bac8a5252e1} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+swap\+\_\+row\+\_\+csc (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{m}{, }\item[{}]{n}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Swap two rows of a CSC matrix in-place.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix whose two rows are to be swapped. It should be of
    CSC format.

m : int
    Index of the row of X to be swapped.

n : int
    Index of the row of X to be swapped.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00380}{380}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00517}{inplace\+\_\+swap\+\_\+column()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00472}{inplace\+\_\+swap\+\_\+row()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a585504740c5142924606a6831192cab9}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!inplace\_swap\_row\_csr@{inplace\_swap\_row\_csr}}
\index{inplace\_swap\_row\_csr@{inplace\_swap\_row\_csr}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{inplace\_swap\_row\_csr()}{inplace\_swap\_row\_csr()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a585504740c5142924606a6831192cab9} 
sklearn.\+utils.\+sparsefuncs.\+inplace\+\_\+swap\+\_\+row\+\_\+csr (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{m}{, }\item[{}]{n}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Swap two rows of a CSR matrix in-place.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Matrix whose two rows are to be swapped. It should be of
    CSR format.

m : int
    Index of the row of X to be swapped.

n : int
    Index of the row of X to be swapped.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00409}{409}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



Referenced by \mbox{\hyperlink{sparsefuncs_8py_source_l00517}{inplace\+\_\+swap\+\_\+column()}}, and \mbox{\hyperlink{sparsefuncs_8py_source_l00472}{inplace\+\_\+swap\+\_\+row()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_ac084fb785b9d33f71d528389f26b594c}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!mean\_variance\_axis@{mean\_variance\_axis}}
\index{mean\_variance\_axis@{mean\_variance\_axis}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{mean\_variance\_axis()}{mean\_variance\_axis()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_ac084fb785b9d33f71d528389f26b594c} 
sklearn.\+utils.\+sparsefuncs.\+mean\+\_\+variance\+\_\+axis (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{axis}{, }\item[{}]{weights}{ = {\ttfamily None}, }\item[{}]{return\+\_\+sum\+\_\+weights}{ = {\ttfamily False}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute mean and variance along an axis on a CSR or CSC matrix.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Input data. It can be of CSR or CSC format.

axis : {0, 1}
    Axis along which the axis should be computed.

weights : ndarray of shape (n_samples,) or (n_features,), default=None
    If axis is set to 0 shape is (n_samples,) or
    if axis is set to 1 shape is (n_features,).
    If it is set to None, then samples are equally weighted.

    .. versionadded:: 0.24

return_sum_weights : bool, default=False
    If True, returns the sum of weights seen for each feature
    if `axis=0` or each sample if `axis=1`.

    .. versionadded:: 0.24

Returns
-------

means : ndarray of shape (n_features,), dtype=floating
    Feature-wise means.

variances : ndarray of shape (n_features,), dtype=floating
    Feature-wise variances.

sum_weights : ndarray of shape (n_features,), dtype=floating
    Returned if `return_sum_weights` is `True`.

Examples
--------
>>> from sklearn.utils import sparsefuncs
>>> from scipy import sparse
>>> import numpy as np
>>> indptr = np.array([0, 3, 4, 4, 4])
>>> indices = np.array([0, 1, 2, 2])
>>> data = np.array([8, 1, 2, 5])
>>> scale = np.array([2, 3, 2])
>>> csr = sparse.csr_matrix((data, indices, indptr))
>>> csr.todense()
matrix([[8, 1, 2],
        [0, 0, 5],
        [0, 0, 0],
        [0, 0, 0]])
>>> sparsefuncs.mean_variance_axis(csr, axis=0)
(array([2.  , 0.25, 1.75]), array([12.    ,  0.1875,  4.1875]))
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00098}{98}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}.

\Hypertarget{namespacesklearn_1_1utils_1_1sparsefuncs_a111b9b968fa72d6e2212053aac4df9f7}\index{sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}!min\_max\_axis@{min\_max\_axis}}
\index{min\_max\_axis@{min\_max\_axis}!sklearn.utils.sparsefuncs@{sklearn.utils.sparsefuncs}}
\doxysubsubsection{\texorpdfstring{min\_max\_axis()}{min\_max\_axis()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1sparsefuncs_a111b9b968fa72d6e2212053aac4df9f7} 
sklearn.\+utils.\+sparsefuncs.\+min\+\_\+max\+\_\+axis (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{axis}{, }\item[{}]{ignore\+\_\+nan}{ = {\ttfamily False}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute minimum and maximum along an axis on a CSR or CSC matrix.

 Optionally ignore NaN values.

Parameters
----------
X : sparse matrix of shape (n_samples, n_features)
    Input data. It should be of CSR or CSC format.

axis : {0, 1}
    Axis along which the axis should be computed.

ignore_nan : bool, default=False
    Ignore or passing through NaN values.

    .. versionadded:: 0.20

Returns
-------

mins : ndarray of shape (n_features,), dtype={np.float32, np.float64}
    Feature-wise minima.

maxs : ndarray of shape (n_features,), dtype={np.float32, np.float64}
    Feature-wise maxima.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{sparsefuncs_8py_source_l00566}{566}} of file \mbox{\hyperlink{sparsefuncs_8py_source}{sparsefuncs.\+py}}.



References \mbox{\hyperlink{sparsefuncs_8py_source_l00025}{\+\_\+raise\+\_\+typeerror()}}.

