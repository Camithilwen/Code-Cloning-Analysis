\doxysection{pandas.\+core.\+computation.\+eval Namespace Reference}
\hypertarget{namespacepandas_1_1core_1_1computation_1_1eval}{}\label{namespacepandas_1_1core_1_1computation_1_1eval}\index{pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_a3fd1dff141c544679c32fb5ffa28a2bf}{\+\_\+check\+\_\+engine}} (str\texorpdfstring{$\vert$}{|}None engine)
\item 
\mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_ac124bb0f523bcdc62468fe85d45d3587}{\+\_\+check\+\_\+parser}} (str parser)
\item 
\mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_a56eff271c576adbe955425832652ae81}{\+\_\+check\+\_\+resolvers}} (resolvers)
\item 
\mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_af6df0114084c75bd8ac5e4b95b7131f1}{\+\_\+check\+\_\+expression}} (expr)
\item 
str \mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_ae72b940e8946ac357e85a1d88c9b761d}{\+\_\+convert\+\_\+expression}} (expr)
\item 
\mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_a92434270931f75c723a94e94309030df}{\+\_\+check\+\_\+for\+\_\+locals}} (str expr, int stack\+\_\+level, str parser)
\item 
\mbox{\hyperlink{namespacepandas_1_1core_1_1computation_1_1eval_aaf0ca9ade0421fc83cf7a0de7fc19a2b}{eval}} (str\texorpdfstring{$\vert$}{|}\mbox{\hyperlink{classpandas_1_1core_1_1computation_1_1ops_1_1BinOp}{Bin\+Op}} expr, str parser="{}pandas"{}, str\texorpdfstring{$\vert$}{|}None engine=None, local\+\_\+dict=None, global\+\_\+dict=None, resolvers=(), int level=0, target=None, bool inplace=False)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Top level ``eval`` module.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_a3fd1dff141c544679c32fb5ffa28a2bf}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!\_check\_engine@{\_check\_engine}}
\index{\_check\_engine@{\_check\_engine}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{\_check\_engine()}{\_check\_engine()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_a3fd1dff141c544679c32fb5ffa28a2bf} 
 str pandas.\+core.\+computation.\+eval.\+\_\+check\+\_\+engine (\begin{DoxyParamCaption}\item[{str \texorpdfstring{$\vert$}{|} None}]{engine}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Make sure a valid engine is passed.

Parameters
----------
engine : str
    String to validate.

Raises
------
KeyError
  * If an invalid engine is passed.
ImportError
  * If numexpr was requested but doesn't exist.

Returns
-------
str
    Engine name.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{eval_8py_source_l00033}{33}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.



Referenced by \mbox{\hyperlink{eval_8py_source_l00183}{eval()}}.

\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_af6df0114084c75bd8ac5e4b95b7131f1}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!\_check\_expression@{\_check\_expression}}
\index{\_check\_expression@{\_check\_expression}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{\_check\_expression()}{\_check\_expression()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_af6df0114084c75bd8ac5e4b95b7131f1} 
pandas.\+core.\+computation.\+eval.\+\_\+check\+\_\+expression (\begin{DoxyParamCaption}\item[{}]{expr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Make sure an expression is not an empty string

Parameters
----------
expr : object
    An object that can be converted to a string

Raises
------
ValueError
  * If expr is an empty string
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{eval_8py_source_l00108}{108}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.



Referenced by \mbox{\hyperlink{eval_8py_source_l00126}{\+\_\+convert\+\_\+expression()}}, and \mbox{\hyperlink{eval_8py_source_l00183}{eval()}}.

\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_a92434270931f75c723a94e94309030df}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!\_check\_for\_locals@{\_check\_for\_locals}}
\index{\_check\_for\_locals@{\_check\_for\_locals}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{\_check\_for\_locals()}{\_check\_for\_locals()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_a92434270931f75c723a94e94309030df} 
pandas.\+core.\+computation.\+eval.\+\_\+check\+\_\+for\+\_\+locals (\begin{DoxyParamCaption}\item[{str}]{expr}{, }\item[{int}]{stack\+\_\+level}{, }\item[{str}]{parser}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{eval_8py_source_l00155}{155}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.

\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_ac124bb0f523bcdc62468fe85d45d3587}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!\_check\_parser@{\_check\_parser}}
\index{\_check\_parser@{\_check\_parser}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{\_check\_parser()}{\_check\_parser()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_ac124bb0f523bcdc62468fe85d45d3587} 
pandas.\+core.\+computation.\+eval.\+\_\+check\+\_\+parser (\begin{DoxyParamCaption}\item[{str}]{parser}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Make sure a valid parser is passed.

Parameters
----------
parser : str

Raises
------
KeyError
  * If an invalid parser is passed
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{eval_8py_source_l00078}{78}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.



Referenced by \mbox{\hyperlink{eval_8py_source_l00183}{eval()}}.

\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_a56eff271c576adbe955425832652ae81}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!\_check\_resolvers@{\_check\_resolvers}}
\index{\_check\_resolvers@{\_check\_resolvers}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{\_check\_resolvers()}{\_check\_resolvers()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_a56eff271c576adbe955425832652ae81} 
pandas.\+core.\+computation.\+eval.\+\_\+check\+\_\+resolvers (\begin{DoxyParamCaption}\item[{}]{resolvers}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{eval_8py_source_l00097}{97}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.

\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_ae72b940e8946ac357e85a1d88c9b761d}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!\_convert\_expression@{\_convert\_expression}}
\index{\_convert\_expression@{\_convert\_expression}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{\_convert\_expression()}{\_convert\_expression()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_ae72b940e8946ac357e85a1d88c9b761d} 
 str pandas.\+core.\+computation.\+eval.\+\_\+convert\+\_\+expression (\begin{DoxyParamCaption}\item[{}]{expr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Convert an object to an expression.

This function converts an object to an expression (a unicode string) and
checks to make sure it isn't empty after conversion. This is used to
convert operators to their string representation for recursive calls to
:func:`~pandas.eval`.

Parameters
----------
expr : object
    The object to be converted to a string.

Returns
-------
str
    The string representation of an object.

Raises
------
ValueError
  * If the expression is empty.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{eval_8py_source_l00126}{126}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.



References \mbox{\hyperlink{eval_8py_source_l00108}{\+\_\+check\+\_\+expression()}}.



Referenced by \mbox{\hyperlink{eval_8py_source_l00183}{eval()}}.

\Hypertarget{namespacepandas_1_1core_1_1computation_1_1eval_aaf0ca9ade0421fc83cf7a0de7fc19a2b}\index{pandas.core.computation.eval@{pandas.core.computation.eval}!eval@{eval}}
\index{eval@{eval}!pandas.core.computation.eval@{pandas.core.computation.eval}}
\doxysubsubsection{\texorpdfstring{eval()}{eval()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1core_1_1computation_1_1eval_aaf0ca9ade0421fc83cf7a0de7fc19a2b} 
pandas.\+core.\+computation.\+eval.\+eval (\begin{DoxyParamCaption}\item[{str \texorpdfstring{$\vert$}{|} \mbox{\hyperlink{classpandas_1_1core_1_1computation_1_1ops_1_1BinOp}{Bin\+Op}}}]{expr}{, }\item[{str }]{parser}{ = {\ttfamily "{}pandas"{}}, }\item[{str \texorpdfstring{$\vert$}{|} None }]{engine}{ = {\ttfamily None}, }\item[{}]{local\+\_\+dict}{ = {\ttfamily None}, }\item[{}]{global\+\_\+dict}{ = {\ttfamily None}, }\item[{}]{resolvers}{ = {\ttfamily ()}, }\item[{int }]{level}{ = {\ttfamily 0}, }\item[{}]{target}{ = {\ttfamily None}, }\item[{bool }]{inplace}{ = {\ttfamily False}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Evaluate a Python expression as a string using various backends.

The following arithmetic operations are supported: ``+``, ``-``, ``*``,
``/``, ``**``, ``%``, ``//`` (python engine only) along with the following
boolean operations: ``|`` (or), ``&`` (and), and ``~`` (not).
Additionally, the ``'pandas'`` parser allows the use of :keyword:`and`,
:keyword:`or`, and :keyword:`not` with the same semantics as the
corresponding bitwise operators.  :class:`~pandas.Series` and
:class:`~pandas.DataFrame` objects are supported and behave as they would
with plain ol' Python evaluation.

Parameters
----------
expr : str
    The expression to evaluate. This string cannot contain any Python
    `statements
    <https://docs.python.org/3/reference/simple_stmts.html#simple-statements>`__,
    only Python `expressions
    <https://docs.python.org/3/reference/simple_stmts.html#expression-statements>`__.
parser : {'pandas', 'python'}, default 'pandas'
    The parser to use to construct the syntax tree from the expression. The
    default of ``'pandas'`` parses code slightly different than standard
    Python. Alternatively, you can parse an expression using the
    ``'python'`` parser to retain strict Python semantics.  See the
    :ref:`enhancing performance <enhancingperf.eval>` documentation for
    more details.
engine : {'python', 'numexpr'}, default 'numexpr'

    The engine used to evaluate the expression. Supported engines are

    - None : tries to use ``numexpr``, falls back to ``python``
    - ``'numexpr'`` : This default engine evaluates pandas objects using
      numexpr for large speed ups in complex expressions with large frames.
    - ``'python'`` : Performs operations as if you had ``eval``'d in top
      level python. This engine is generally not that useful.

    More backends may be available in the future.
local_dict : dict or None, optional
    A dictionary of local variables, taken from locals() by default.
global_dict : dict or None, optional
    A dictionary of global variables, taken from globals() by default.
resolvers : list of dict-like or None, optional
    A list of objects implementing the ``__getitem__`` special method that
    you can use to inject an additional collection of namespaces to use for
    variable lookup. For example, this is used in the
    :meth:`~DataFrame.query` method to inject the
    ``DataFrame.index`` and ``DataFrame.columns``
    variables that refer to their respective :class:`~pandas.DataFrame`
    instance attributes.
level : int, optional
    The number of prior stack frames to traverse and add to the current
    scope. Most users will **not** need to change this parameter.
target : object, optional, default None
    This is the target object for assignment. It is used when there is
    variable assignment in the expression. If so, then `target` must
    support item assignment with string keys, and if a copy is being
    returned, it must also support `.copy()`.
inplace : bool, default False
    If `target` is provided, and the expression mutates `target`, whether
    to modify `target` inplace. Otherwise, return a copy of `target` with
    the mutation.

Returns
-------
ndarray, numeric scalar, DataFrame, Series, or None
    The completion value of evaluating the given code or None if ``inplace=True``.

Raises
------
ValueError
    There are many instances where such an error can be raised:

    - `target=None`, but the expression is multiline.
    - The expression is multiline, but not all them have item assignment.
      An example of such an arrangement is this:

      a = b + 1
      a + 2

      Here, there are expressions on different lines, making it multiline,
      but the last line has no variable assigned to the output of `a + 2`.
    - `inplace=True`, but the expression is missing item assignment.
    - Item assignment is provided, but the `target` does not support
      string item assignment.
    - Item assignment is provided and `inplace=False`, but the `target`
      does not support the `.copy()` method

See Also
--------
DataFrame.query : Evaluates a boolean expression to query the columns
        of a frame.
DataFrame.eval : Evaluate a string describing operations on
        DataFrame columns.

Notes
-----
The ``dtype`` of any objects involved in an arithmetic ``%`` operation are
recursively cast to ``float64``.

See the :ref:`enhancing performance <enhancingperf.eval>` documentation for
more details.

Examples
--------
>>> df = pd.DataFrame({"animal": ["dog", "pig"], "age": [10, 20]})
>>> df
  animal  age
0    dog   10
1    pig   20

We can add a new column using ``pd.eval``:

>>> pd.eval("double_age = df.age * 2", target=df)
  animal  age  double_age
0    dog   10          20
1    pig   20          40
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{eval_8py_source_l00173}{173}} of file \mbox{\hyperlink{eval_8py_source}{eval.\+py}}.



References \mbox{\hyperlink{eval_8py_source_l00033}{\+\_\+check\+\_\+engine()}}, \mbox{\hyperlink{eval_8py_source_l00108}{\+\_\+check\+\_\+expression()}}, \mbox{\hyperlink{eval_8py_source_l00078}{\+\_\+check\+\_\+parser()}}, and \mbox{\hyperlink{eval_8py_source_l00126}{\+\_\+convert\+\_\+expression()}}.

