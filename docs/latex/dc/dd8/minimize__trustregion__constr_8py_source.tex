\doxysection{minimize\+\_\+trustregion\+\_\+constr.\+py}
\hypertarget{minimize__trustregion__constr_8py_source}{}\label{minimize__trustregion__constr_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/optimize/\_trustregion\_constr/minimize\_trustregion\_constr.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/optimize/\_trustregion\_constr/minimize\_trustregion\_constr.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00001}\mbox{\hyperlink{namespacescipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr}{00001}}\ \textcolor{keyword}{import}\ time}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00002}00002\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00003}00003\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1sparse_1_1linalg}{scipy.sparse.linalg}}\ \textcolor{keyword}{import}\ LinearOperator}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00004}00004\ \textcolor{keyword}{from}\ ..\_differentiable\_functions\ \textcolor{keyword}{import}\ VectorFunction}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00005}00005\ \textcolor{keyword}{from}\ ..\_constraints\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00006}00006\ \ \ \ \ NonlinearConstraint,\ LinearConstraint,\ PreparedConstraint,\ Bounds,\ strict\_bounds)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00007}00007\ \textcolor{keyword}{from}\ ..\_hessian\_update\_strategy\ \textcolor{keyword}{import}\ BFGS}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00008}00008\ \textcolor{keyword}{from}\ ..\_optimize\ \textcolor{keyword}{import}\ OptimizeResult}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00009}00009\ \textcolor{keyword}{from}\ ..\_differentiable\_functions\ \textcolor{keyword}{import}\ ScalarFunction}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00010}00010\ \textcolor{keyword}{from}\ .equality\_constrained\_sqp\ \textcolor{keyword}{import}\ equality\_constrained\_sqp}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00011}00011\ \textcolor{keyword}{from}\ .canonical\_constraint\ \textcolor{keyword}{import}\ (CanonicalConstraint,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00012}00012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ initial\_constraints\_as\_canonical)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00013}00013\ \textcolor{keyword}{from}\ .tr\_interior\_point\ \textcolor{keyword}{import}\ tr\_interior\_point}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00014}00014\ \textcolor{keyword}{from}\ .report\ \textcolor{keyword}{import}\ BasicReport,\ SQPReport,\ IPReport}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00017}00017\ TERMINATION\_MESSAGES\ =\ \{}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00018}00018\ \ \ \ \ 0:\ \textcolor{stringliteral}{"{}The\ maximum\ number\ of\ function\ evaluations\ is\ exceeded."{}},}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00019}00019\ \ \ \ \ 1:\ \textcolor{stringliteral}{"{}\`{}gtol`\ termination\ condition\ is\ satisfied."{}},}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00020}00020\ \ \ \ \ 2:\ \textcolor{stringliteral}{"{}\`{}xtol`\ termination\ condition\ is\ satisfied."{}},}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00021}00021\ \ \ \ \ 3:\ \textcolor{stringliteral}{"{}\`{}callback`\ function\ requested\ termination."{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00022}00022\ \}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00025}\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator}{00025}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator}{HessianLinearOperator}}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00026}00026\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ LinearOperator\ from\ hessp"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00027}00027\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ hessp,\ n):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator_aa475d27f58316ce47854ca0b361f67a7}{hessp}}\ =\ hessp}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator_ae7395c9dfeb397b0f11000c63f5113be}{n}}\ =\ n}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00031}00031\ \ \ \ \ \textcolor{keyword}{def\ }\_\_call\_\_(self,\ x,\ *args):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }matvec(p):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator_aa475d27f58316ce47854ca0b361f67a7}{hessp}}(x,\ p,\ *args)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classscipy_1_1sparse_1_1linalg_1_1__interface_1_1LinearOperator}{LinearOperator}}((self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator_ae7395c9dfeb397b0f11000c63f5113be}{n}},\ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator_ae7395c9dfeb397b0f11000c63f5113be}{n}}),\ matvec=matvec)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00038}\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian}{00038}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian}{LagrangianHessian}}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00039}00039\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}The\ Hessian\ of\ the\ Lagrangian\ as\ LinearOperator.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00040}00040\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00041}00041\ \textcolor{stringliteral}{\ \ \ \ The\ Lagrangian\ is\ computed\ as\ the\ objective\ function\ plus\ all\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00042}00042\ \textcolor{stringliteral}{\ \ \ \ constraints\ multiplied\ with\ some\ numbers\ (Lagrange\ multipliers).}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00043}00043\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00044}00044\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ n,\ objective\_hess,\ constraints\_hess):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_a203bef2833ace8f0e2989ede451613b2}{n}}\ =\ n}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_a14cabc9f14dd150b2b28751e6d2eb474}{objective\_hess}}\ =\ objective\_hess}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_ab65b1224095b8c491ca3652f37bdc5bc}{constraints\_hess}}\ =\ constraints\_hess}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00049}00049\ \ \ \ \ \textcolor{keyword}{def\ }\_\_call\_\_(self,\ x,\ v\_eq=np.empty(0),\ v\_ineq=np.empty(0)):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ H\_objective\ =\ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_a14cabc9f14dd150b2b28751e6d2eb474}{objective\_hess}}(x)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ H\_constraints\ =\ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_ab65b1224095b8c491ca3652f37bdc5bc}{constraints\_hess}}(x,\ v\_eq,\ v\_ineq)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }matvec(p):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ H\_objective.dot(p)\ +\ H\_constraints.dot(p)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classscipy_1_1sparse_1_1linalg_1_1__interface_1_1LinearOperator}{LinearOperator}}((self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_a203bef2833ace8f0e2989ede451613b2}{n}},\ self.\mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian_a203bef2833ace8f0e2989ede451613b2}{n}}),\ matvec)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00059}00059\ \textcolor{keyword}{def\ }update\_state\_sqp(state,\ x,\ last\_iteration\_failed,\ objective,\ prepared\_constraints,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\_time,\ tr\_radius,\ constr\_penalty,\ cg\_info):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00061}00061\ \ \ \ \ state.nit\ +=\ 1}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00062}00062\ \ \ \ \ state.nfev\ =\ objective.nfev}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00063}00063\ \ \ \ \ state.njev\ =\ objective.ngev}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00064}00064\ \ \ \ \ state.nhev\ =\ objective.nhev}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00065}00065\ \ \ \ \ state.constr\_nfev\ =\ [c.fun.nfev\ \textcolor{keywordflow}{if}\ isinstance(c.fun,\ VectorFunction)\ \textcolor{keywordflow}{else}\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00067}00067\ \ \ \ \ state.constr\_njev\ =\ [c.fun.njev\ \textcolor{keywordflow}{if}\ isinstance(c.fun,\ VectorFunction)\ \textcolor{keywordflow}{else}\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00069}00069\ \ \ \ \ state.constr\_nhev\ =\ [c.fun.nhev\ \textcolor{keywordflow}{if}\ isinstance(c.fun,\ VectorFunction)\ \textcolor{keywordflow}{else}\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00072}00072\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ last\_iteration\_failed:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ state.x\ =\ x}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ state.fun\ =\ objective.f}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ state.grad\ =\ objective.g}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ state.v\ =\ [c.fun.v\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ state.constr\ =\ [c.fun.f\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ state.jac\ =\ [c.fun.J\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Compute\ Lagrangian\ Gradient}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ state.lagrangian\_grad\ =\ np.copy(state.grad)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ state.lagrangian\_grad\ +=\ c.fun.J.T.dot(c.fun.v)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ state.optimality\ =\ np.linalg.norm(state.lagrangian\_grad,\ np.inf)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Compute\ maximum\ constraint\ violation}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ state.constr\_violation\ =\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(prepared\_constraints)):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ lb,\ ub\ =\ prepared\_constraints[i].bounds}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ state.constr[i]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_violation\ =\ np.max([state.constr\_violation,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ np.max(lb\ -\/\ c),}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ np.max(c\ -\/\ ub)])}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00093}00093\ \ \ \ \ state.execution\_time\ =\ time.time()\ -\/\ start\_time}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00094}00094\ \ \ \ \ state.tr\_radius\ =\ tr\_radius}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00095}00095\ \ \ \ \ state.constr\_penalty\ =\ constr\_penalty}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00096}00096\ \ \ \ \ state.cg\_niter\ +=\ cg\_info[\textcolor{stringliteral}{"{}niter"{}}]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00097}00097\ \ \ \ \ state.cg\_stop\_cond\ =\ cg\_info[\textcolor{stringliteral}{"{}stop\_cond"{}}]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00099}00099\ \ \ \ \ \textcolor{keywordflow}{return}\ state}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00102}00102\ \textcolor{keyword}{def\ }update\_state\_ip(state,\ x,\ last\_iteration\_failed,\ objective,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prepared\_constraints,\ start\_time,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tr\_radius,\ constr\_penalty,\ cg\_info,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ barrier\_parameter,\ barrier\_tolerance):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00106}00106\ \ \ \ \ state\ =\ update\_state\_sqp(state,\ x,\ last\_iteration\_failed,\ objective,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prepared\_constraints,\ start\_time,\ tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ constr\_penalty,\ cg\_info)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00109}00109\ \ \ \ \ state.barrier\_parameter\ =\ barrier\_parameter}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00110}00110\ \ \ \ \ state.barrier\_tolerance\ =\ barrier\_tolerance}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00111}00111\ \ \ \ \ \textcolor{keywordflow}{return}\ state}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00114}\mbox{\hyperlink{namespacescipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_a82cc749eafe159a942bb11eeee7962b2}{00114}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacescipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_a82cc749eafe159a942bb11eeee7962b2}{\_minimize\_trustregion\_constr}}(fun,\ x0,\ args,\ grad,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hess,\ hessp,\ bounds,\ constraints,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ xtol=1e-\/8,\ gtol=1e-\/8,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ barrier\_tol=1e-\/8,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sparse\_jacobian=None,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback=None,\ maxiter=1000,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ verbose=0,\ finite\_diff\_rel\_step=None,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ initial\_constr\_penalty=1.0,\ initial\_tr\_radius=1.0,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ initial\_barrier\_parameter=0.1,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ initial\_barrier\_tolerance=0.1,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ factorization\_method=None,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ disp=False):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00126}00126\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Minimize\ a\ scalar\ function\ subject\ to\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00127}00127\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00128}00128\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00129}00129\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00130}00130\ \textcolor{stringliteral}{\ \ \ \ gtol\ :\ float,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00131}00131\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Tolerance\ for\ termination\ by\ the\ norm\ of\ the\ Lagrangian\ gradient.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00132}00132\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ algorithm\ will\ terminate\ when\ both\ the\ infinity\ norm\ (i.e.,\ max}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00133}00133\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ abs\ value)\ of\ the\ Lagrangian\ gradient\ and\ the\ constraint\ violation}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00134}00134\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ are\ smaller\ than\ \`{}\`{}gtol\`{}\`{}.\ Default\ is\ 1e-\/8.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00135}00135\ \textcolor{stringliteral}{\ \ \ \ xtol\ :\ float,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00136}00136\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Tolerance\ for\ termination\ by\ the\ change\ of\ the\ independent\ variable.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00137}00137\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ algorithm\ will\ terminate\ when\ \`{}\`{}tr\_radius\ <\ xtol\`{}\`{},\ where}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}tr\_radius\`{}\`{}\ is\ the\ radius\ of\ the\ trust\ region\ used\ in\ the\ algorithm.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Default\ is\ 1e-\/8.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ barrier\_tol\ :\ float,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00141}00141\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Threshold\ on\ the\ barrier\ parameter\ for\ the\ algorithm\ termination.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ When\ inequality\ constraints\ are\ present,\ the\ algorithm\ will\ terminate}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00143}00143\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ only\ when\ the\ barrier\ parameter\ is\ less\ than\ \`{}barrier\_tol\`{}.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Default\ is\ 1e-\/8.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00145}00145\ \textcolor{stringliteral}{\ \ \ \ sparse\_jacobian\ :\ \{bool,\ None\},\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00146}00146\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Determines\ how\ to\ represent\ Jacobians\ of\ the\ constraints.\ If\ bool,}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00147}00147\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ then\ Jacobians\ of\ all\ the\ constraints\ will\ be\ converted\ to\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00148}00148\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ corresponding\ format.\ If\ None\ (default),\ then\ Jacobians\ won't\ be}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00149}00149\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ converted,\ but\ the\ algorithm\ can\ proceed\ only\ if\ they\ all\ have\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00150}00150\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ same\ format.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00151}00151\ \textcolor{stringliteral}{\ \ \ \ initial\_tr\_radius:\ float,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00152}00152\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Initial\ trust\ radius.\ The\ trust\ radius\ gives\ the\ maximum\ distance}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00153}00153\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ between\ solution\ points\ in\ consecutive\ iterations.\ It\ reflects\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00154}00154\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ trust\ the\ algorithm\ puts\ in\ the\ local\ approximation\ of\ the\ optimization}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00155}00155\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ problem.\ For\ an\ accurate\ local\ approximation\ the\ trust-\/region\ should\ be}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00156}00156\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ large\ and\ for\ an\ \ approximation\ valid\ only\ close\ to\ the\ current\ point\ it}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00157}00157\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ should\ be\ a\ small\ one.\ The\ trust\ radius\ is\ automatically\ updated\ throughout}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00158}00158\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ optimization\ process,\ with\ \`{}\`{}initial\_tr\_radius\`{}\`{}\ being\ its\ initial\ value.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00159}00159\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Default\ is\ 1\ (recommended\ in\ [1]\_,\ p.\ 19).}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00160}00160\ \textcolor{stringliteral}{\ \ \ \ initial\_constr\_penalty\ :\ float,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00161}00161\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Initial\ constraints\ penalty\ parameter.\ The\ penalty\ parameter\ is\ used\ for}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00162}00162\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ balancing\ the\ requirements\ of\ decreasing\ the\ objective\ function}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00163}00163\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ and\ satisfying\ the\ constraints.\ It\ is\ used\ for\ defining\ the\ merit\ function:}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00164}00164\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}merit\_function(x)\ =\ fun(x)\ +\ constr\_penalty\ *\ constr\_norm\_l2(x)\`{}\`{},}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00165}00165\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ where\ \`{}\`{}constr\_norm\_l2(x)\`{}\`{}\ is\ the\ l2\ norm\ of\ a\ vector\ containing\ all}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00166}00166\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ constraints.\ The\ merit\ function\ is\ used\ for\ accepting\ or\ rejecting}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00167}00167\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ trial\ points\ and\ \`{}\`{}constr\_penalty\`{}\`{}\ weights\ the\ two\ conflicting\ goals}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00168}00168\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ of\ reducing\ objective\ function\ and\ constraints.\ The\ penalty\ is\ automatically}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00169}00169\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ updated\ throughout\ the\ optimization\ \ process,\ with}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00170}00170\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}initial\_constr\_penalty\`{}\`{}\ being\ its\ \ initial\ value.\ Default\ is\ 1}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00171}00171\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ (recommended\ in\ [1]\_,\ p\ 19).}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00172}00172\ \textcolor{stringliteral}{\ \ \ \ initial\_barrier\_parameter,\ initial\_barrier\_tolerance:\ float,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00173}00173\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Initial\ barrier\ parameter\ and\ initial\ tolerance\ for\ the\ barrier\ subproblem.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00174}00174\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Both\ are\ used\ only\ when\ inequality\ constraints\ are\ present.\ For\ dealing\ with}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00175}00175\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ optimization\ problems\ \`{}\`{}min\_x\ f(x)\`{}\`{}\ subject\ to\ inequality\ constraints}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00176}00176\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}c(x)\ <=\ 0\`{}\`{}\ the\ algorithm\ introduces\ slack\ variables,\ solving\ the\ problem}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00177}00177\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}min\_(x,s)\ f(x)\ +\ barrier\_parameter*sum(ln(s))\`{}\`{}\ subject\ to\ the\ equality}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00178}00178\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ constraints\ \ \`{}\`{}c(x)\ +\ s\ =\ 0\`{}\`{}\ instead\ of\ the\ original\ problem.\ This\ subproblem}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00179}00179\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ is\ solved\ for\ decreasing\ values\ of\ \`{}\`{}barrier\_parameter\`{}\`{}\ and\ with\ decreasing}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00180}00180\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ tolerances\ for\ the\ termination,\ starting\ with\ \`{}\`{}initial\_barrier\_parameter\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00181}00181\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ for\ the\ barrier\ parameter\ and\ \`{}\`{}initial\_barrier\_tolerance\`{}\`{}\ for\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00182}00182\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ barrier\ tolerance.\ Default\ is\ 0.1\ for\ both\ values\ (recommended\ in\ [1]\_\ p.\ 19).}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00183}00183\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Also\ note\ that\ \`{}\`{}barrier\_parameter\`{}\`{}\ and\ \`{}\`{}barrier\_tolerance\`{}\`{}\ are\ updated}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00184}00184\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ with\ the\ same\ prefactor.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00185}00185\ \textcolor{stringliteral}{\ \ \ \ factorization\_method\ :\ string\ or\ None,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00186}00186\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Method\ to\ factorize\ the\ Jacobian\ of\ the\ constraints.\ Use\ None\ (default)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00187}00187\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ for\ the\ auto\ selection\ or\ one\ of:}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00188}00188\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00189}00189\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ -\/\ 'NormalEquation'\ (requires\ scikit-\/sparse)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00190}00190\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ -\/\ 'AugmentedSystem'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00191}00191\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ -\/\ 'QRFactorization'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00192}00192\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ -\/\ 'SVDFactorization'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00193}00193\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00194}00194\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ methods\ 'NormalEquation'\ and\ 'AugmentedSystem'\ can\ be\ used\ only}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00195}00195\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ with\ sparse\ constraints.\ The\ projections\ required\ by\ the\ algorithm}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00196}00196\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ will\ be\ computed\ using,\ respectively,\ the\ normal\ equation\ \ and\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00197}00197\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ augmented\ system\ approaches\ explained\ in\ [1]\_.\ 'NormalEquation'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00198}00198\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ computes\ the\ Cholesky\ factorization\ of\ \`{}\`{}A\ A.T\`{}\`{}\ and\ 'AugmentedSystem'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00199}00199\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ performs\ the\ LU\ factorization\ of\ an\ augmented\ system.\ They\ usually}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00200}00200\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ provide\ similar\ results.\ 'AugmentedSystem'\ is\ used\ by\ default\ for}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00201}00201\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ sparse\ matrices.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00202}00202\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00203}00203\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ methods\ 'QRFactorization'\ and\ 'SVDFactorization'\ can\ be\ used}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00204}00204\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ only\ with\ dense\ constraints.\ They\ compute\ the\ required\ projections}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00205}00205\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ using,\ respectively,\ QR\ and\ SVD\ factorizations.\ The\ 'SVDFactorization'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00206}00206\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ method\ can\ cope\ with\ Jacobian\ matrices\ with\ deficient\ row\ rank\ and\ will}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00207}00207\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ be\ used\ whenever\ other\ factorization\ methods\ fail\ (which\ may\ imply\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00208}00208\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ conversion\ of\ sparse\ matrices\ to\ a\ dense\ format\ when\ required).}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00209}00209\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ By\ default,\ 'QRFactorization'\ is\ used\ for\ dense\ matrices.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00210}00210\ \textcolor{stringliteral}{\ \ \ \ finite\_diff\_rel\_step\ :\ None\ or\ array\_like,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00211}00211\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Relative\ step\ size\ for\ the\ finite\ difference\ approximation.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00212}00212\ \textcolor{stringliteral}{\ \ \ \ maxiter\ :\ int,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00213}00213\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Maximum\ number\ of\ algorithm\ iterations.\ Default\ is\ 1000.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00214}00214\ \textcolor{stringliteral}{\ \ \ \ verbose\ :\ \{0,\ 1,\ 2\},\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00215}00215\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Level\ of\ algorithm's\ verbosity:}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00216}00216\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00217}00217\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 0\ (default)\ :\ work\ silently.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00218}00218\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 1\ :\ display\ a\ termination\ report.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00219}00219\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 2\ :\ display\ progress\ during\ iterations.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00220}00220\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 3\ :\ display\ progress\ during\ iterations\ (more\ complete\ report).}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00221}00221\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00222}00222\ \textcolor{stringliteral}{\ \ \ \ disp\ :\ bool,\ optional}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00223}00223\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ True\ (default),\ then\ \`{}verbose\`{}\ will\ be\ set\ to\ 1\ if\ it\ was\ 0.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00224}00224\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00225}00225\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00226}00226\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00227}00227\ \textcolor{stringliteral}{\ \ \ \ \`{}OptimizeResult\`{}\ with\ the\ fields\ documented\ below.\ Note\ the\ following:}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00228}00228\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00229}00229\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 1.\ All\ values\ corresponding\ to\ the\ constraints\ are\ ordered\ as\ they}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00230}00230\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ were\ passed\ to\ the\ solver.\ And\ values\ corresponding\ to\ \`{}bounds\`{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00231}00231\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ constraints\ are\ put\ *after*\ other\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00232}00232\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 2.\ All\ numbers\ of\ function,\ Jacobian\ or\ Hessian\ evaluations\ correspond}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00233}00233\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ to\ numbers\ of\ actual\ Python\ function\ calls.\ It\ means,\ for\ example,}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00234}00234\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ that\ if\ a\ Jacobian\ is\ estimated\ by\ finite\ differences,\ then\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00235}00235\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ number\ of\ Jacobian\ evaluations\ will\ be\ zero\ and\ the\ number\ of}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00236}00236\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ function\ evaluations\ will\ be\ incremented\ by\ all\ calls\ during\ the}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00237}00237\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ finite\ difference\ estimation.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00238}00238\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00239}00239\ \textcolor{stringliteral}{\ \ \ \ x\ :\ ndarray,\ shape\ (n,)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00240}00240\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Solution\ found.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00241}00241\ \textcolor{stringliteral}{\ \ \ \ optimality\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00242}00242\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Infinity\ norm\ of\ the\ Lagrangian\ gradient\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00243}00243\ \textcolor{stringliteral}{\ \ \ \ constr\_violation\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00244}00244\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Maximum\ constraint\ violation\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00245}00245\ \textcolor{stringliteral}{\ \ \ \ fun\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00246}00246\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Objective\ function\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00247}00247\ \textcolor{stringliteral}{\ \ \ \ grad\ :\ ndarray,\ shape\ (n,)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00248}00248\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Gradient\ of\ the\ objective\ function\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00249}00249\ \textcolor{stringliteral}{\ \ \ \ lagrangian\_grad\ :\ ndarray,\ shape\ (n,)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00250}00250\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Gradient\ of\ the\ Lagrangian\ function\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00251}00251\ \textcolor{stringliteral}{\ \ \ \ nit\ :\ int}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00252}00252\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Total\ number\ of\ iterations.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00253}00253\ \textcolor{stringliteral}{\ \ \ \ nfev\ :\ integer}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00254}00254\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ the\ objective\ function\ evaluations.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00255}00255\ \textcolor{stringliteral}{\ \ \ \ njev\ :\ integer}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00256}00256\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ the\ objective\ function\ gradient\ evaluations.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00257}00257\ \textcolor{stringliteral}{\ \ \ \ nhev\ :\ integer}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00258}00258\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ the\ objective\ function\ Hessian\ evaluations.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00259}00259\ \textcolor{stringliteral}{\ \ \ \ cg\_niter\ :\ int}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00260}00260\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Total\ number\ of\ the\ conjugate\ gradient\ method\ iterations.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00261}00261\ \textcolor{stringliteral}{\ \ \ \ method\ :\ \{'equality\_constrained\_sqp',\ 'tr\_interior\_point'\}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00262}00262\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Optimization\ method\ used.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00263}00263\ \textcolor{stringliteral}{\ \ \ \ constr\ :\ list\ of\ ndarray}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00264}00264\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ List\ of\ constraint\ values\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00265}00265\ \textcolor{stringliteral}{\ \ \ \ jac\ :\ list\ of\ \{ndarray,\ sparse\ matrix\}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00266}00266\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ List\ of\ the\ Jacobian\ matrices\ of\ the\ constraints\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00267}00267\ \textcolor{stringliteral}{\ \ \ \ v\ :\ list\ of\ ndarray}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00268}00268\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ List\ of\ the\ Lagrange\ multipliers\ for\ the\ constraints\ at\ the\ solution.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00269}00269\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ For\ an\ inequality\ constraint\ a\ positive\ multiplier\ means\ that\ the\ upper}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00270}00270\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ bound\ is\ active,\ a\ negative\ multiplier\ means\ that\ the\ lower\ bound\ is}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00271}00271\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ active\ and\ if\ a\ multiplier\ is\ zero\ it\ means\ the\ constraint\ is\ not}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00272}00272\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ active.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00273}00273\ \textcolor{stringliteral}{\ \ \ \ constr\_nfev\ :\ list\ of\ int}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00274}00274\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ constraint\ evaluations\ for\ each\ of\ the\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00275}00275\ \textcolor{stringliteral}{\ \ \ \ constr\_njev\ :\ list\ of\ int}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00276}00276\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ Jacobian\ matrix\ evaluations\ for\ each\ of\ the\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00277}00277\ \textcolor{stringliteral}{\ \ \ \ constr\_nhev\ :\ list\ of\ int}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00278}00278\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ Hessian\ evaluations\ for\ each\ of\ the\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00279}00279\ \textcolor{stringliteral}{\ \ \ \ tr\_radius\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00280}00280\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Radius\ of\ the\ trust\ region\ at\ the\ last\ iteration.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00281}00281\ \textcolor{stringliteral}{\ \ \ \ constr\_penalty\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00282}00282\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Penalty\ parameter\ at\ the\ last\ iteration,\ see\ \`{}initial\_constr\_penalty\`{}.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00283}00283\ \textcolor{stringliteral}{\ \ \ \ barrier\_tolerance\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00284}00284\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Tolerance\ for\ the\ barrier\ subproblem\ at\ the\ last\ iteration.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00285}00285\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Only\ for\ problems\ with\ inequality\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00286}00286\ \textcolor{stringliteral}{\ \ \ \ barrier\_parameter\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00287}00287\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Barrier\ parameter\ at\ the\ last\ iteration.\ Only\ for\ problems}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00288}00288\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ with\ inequality\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00289}00289\ \textcolor{stringliteral}{\ \ \ \ execution\_time\ :\ float}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00290}00290\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Total\ execution\ time.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00291}00291\ \textcolor{stringliteral}{\ \ \ \ message\ :\ str}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00292}00292\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Termination\ message.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00293}00293\ \textcolor{stringliteral}{\ \ \ \ status\ :\ \{0,\ 1,\ 2,\ 3\}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00294}00294\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Termination\ status:}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00295}00295\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00296}00296\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 0\ :\ The\ maximum\ number\ of\ function\ evaluations\ is\ exceeded.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00297}00297\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 1\ :\ \`{}gtol\`{}\ termination\ condition\ is\ satisfied.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00298}00298\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 2\ :\ \`{}xtol\`{}\ termination\ condition\ is\ satisfied.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00299}00299\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 3\ :\ \`{}callback\`{}\ function\ requested\ termination.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00300}00300\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00301}00301\ \textcolor{stringliteral}{\ \ \ \ cg\_stop\_cond\ :\ int}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00302}00302\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Reason\ for\ CG\ subproblem\ termination\ at\ the\ last\ iteration:}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00303}00303\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00304}00304\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 0\ :\ CG\ subproblem\ not\ evaluated.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00305}00305\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 1\ :\ Iteration\ limit\ was\ reached.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00306}00306\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 2\ :\ Reached\ the\ trust-\/region\ boundary.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00307}00307\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 3\ :\ Negative\ curvature\ detected.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00308}00308\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ *\ 4\ :\ Tolerance\ was\ satisfied.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00309}00309\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00310}00310\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00311}00311\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00312}00312\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ Conn,\ A.\ R.,\ Gould,\ N.\ I.,\ \&\ Toint,\ P.\ L.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00313}00313\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ Trust\ region\ methods.\ 2000.\ Siam.\ pp.\ 19.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00314}00314\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00315}00315\ \ \ \ \ x0\ =\ np.atleast\_1d(x0).astype(float)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00316}00316\ \ \ \ \ n\_vars\ =\ np.size(x0)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00317}00317\ \ \ \ \ \textcolor{keywordflow}{if}\ hess\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ callable(hessp):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ hess\ =\ \mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1HessianLinearOperator}{HessianLinearOperator}}(hessp,\ n\_vars)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ hess\ =\ \mbox{\hyperlink{classscipy_1_1optimize_1_1__hessian__update__strategy_1_1BFGS}{BFGS}}()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00322}00322\ \ \ \ \ \textcolor{keywordflow}{if}\ disp\ \textcolor{keywordflow}{and}\ verbose\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ verbose\ =\ 1}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00324}00324\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00325}00325\ \ \ \ \ \textcolor{keywordflow}{if}\ bounds\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ modified\_lb\ =\ np.nextafter(bounds.lb,\ -\/np.inf,\ where=bounds.lb\ >\ -\/np.inf)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ modified\_ub\ =\ np.nextafter(bounds.ub,\ np.inf,\ where=bounds.ub\ <\ np.inf)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ modified\_lb\ =\ np.where(np.isfinite(bounds.lb),\ modified\_lb,\ bounds.lb)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ modified\_ub\ =\ np.where(np.isfinite(bounds.ub),\ modified\_ub,\ bounds.ub)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00330}00330\ \ \ \ \ \ \ \ \ bounds\ =\ \mbox{\hyperlink{classscipy_1_1optimize_1_1__constraints_1_1Bounds}{Bounds}}(modified\_lb,\ modified\_ub,\ keep\_feasible=bounds.keep\_feasible)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ finite\_diff\_bounds\ =\ strict\_bounds(bounds.lb,\ bounds.ub,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bounds.keep\_feasible,\ n\_vars)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00333}00333\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ finite\_diff\_bounds\ =\ (-\/np.inf,\ np.inf)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00335}00335\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00336}00336\ \ \ \ \ \textcolor{comment}{\#\ Define\ Objective\ Function}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00337}00337\ \ \ \ \ objective\ =\ \mbox{\hyperlink{classscipy_1_1optimize_1_1__differentiable__functions_1_1ScalarFunction}{ScalarFunction}}(fun,\ x0,\ args,\ grad,\ hess,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ finite\_diff\_rel\_step,\ finite\_diff\_bounds)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00339}00339\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00340}00340\ \ \ \ \ \textcolor{comment}{\#\ Put\ constraints\ in\ list\ format\ when\ needed.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00341}00341\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(constraints,\ (NonlinearConstraint,\ LinearConstraint)):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ constraints\ =\ [constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00343}00343\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00344}00344\ \ \ \ \ \textcolor{comment}{\#\ Prepare\ constraints.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00345}00345\ \ \ \ \ prepared\_constraints\ =\ [}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classscipy_1_1optimize_1_1__constraints_1_1PreparedConstraint}{PreparedConstraint}}(c,\ x0,\ sparse\_jacobian,\ finite\_diff\_bounds)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00348}00348\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00349}00349\ \ \ \ \ \textcolor{comment}{\#\ Check\ that\ all\ constraints\ are\ either\ sparse\ or\ dense.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00350}00350\ \ \ \ \ n\_sparse\ =\ sum(c.fun.sparse\_jacobian\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00351}00351\ \ \ \ \ \textcolor{keywordflow}{if}\ 0\ <\ n\_sparse\ <\ len(prepared\_constraints):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}All\ constraints\ must\ have\ the\ same\ kind\ of\ the\ "{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Jacobian\ -\/-\/-\/\ either\ all\ sparse\ or\ all\ dense.\ "{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}You\ can\ set\ the\ sparsity\ globally\ by\ setting\ "{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\`{}sparse\_jacobian`\ to\ either\ True\ of\ False."{}})}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00356}00356\ \ \ \ \ \textcolor{keywordflow}{if}\ prepared\_constraints:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ sparse\_jacobian\ =\ n\_sparse\ >\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00358}00358\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00359}00359\ \ \ \ \ \textcolor{keywordflow}{if}\ bounds\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sparse\_jacobian\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ sparse\_jacobian\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00362}00362\ \ \ \ \ \ \ \ \ prepared\_constraints.append(\mbox{\hyperlink{classscipy_1_1optimize_1_1__constraints_1_1PreparedConstraint}{PreparedConstraint}}(bounds,\ x0,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00363}00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sparse\_jacobian))}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00364}00364\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00365}00365\ \ \ \ \ \textcolor{comment}{\#\ Concatenate\ initial\ constraints\ to\ the\ canonical\ form.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00366}00366\ \ \ \ \ c\_eq0,\ c\_ineq0,\ J\_eq0,\ J\_ineq0\ =\ initial\_constraints\_as\_canonical(}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ n\_vars,\ prepared\_constraints,\ sparse\_jacobian)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00368}00368\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00369}00369\ \ \ \ \ \textcolor{comment}{\#\ Prepare\ all\ canonical\ constraints\ and\ concatenate\ it\ into\ one.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00370}00370\ \ \ \ \ canonical\_all\ =\ [CanonicalConstraint.from\_PreparedConstraint(c)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00372}00372\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00373}00373\ \ \ \ \ \textcolor{keywordflow}{if}\ len(canonical\_all)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ canonical\ =\ CanonicalConstraint.empty(n\_vars)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00375}00375\ \ \ \ \ \textcolor{keywordflow}{elif}\ len(canonical\_all)\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ canonical\ =\ canonical\_all[0]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00377}00377\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ canonical\ =\ CanonicalConstraint.concatenate(canonical\_all,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sparse\_jacobian)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00380}00380\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00381}00381\ \ \ \ \ \textcolor{comment}{\#\ Generate\ the\ Hessian\ of\ the\ Lagrangian.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00382}00382\ \ \ \ \ lagrangian\_hess\ =\ \mbox{\hyperlink{classscipy_1_1optimize_1_1__trustregion__constr_1_1minimize__trustregion__constr_1_1LagrangianHessian}{LagrangianHessian}}(n\_vars,\ objective.hess,\ canonical.hess)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00383}00383\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00384}00384\ \ \ \ \ \textcolor{comment}{\#\ Choose\ appropriate\ method}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00385}00385\ \ \ \ \ \textcolor{keywordflow}{if}\ canonical.n\_ineq\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ method\ =\ \textcolor{stringliteral}{'equality\_constrained\_sqp'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00387}00387\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ method\ =\ \textcolor{stringliteral}{'tr\_interior\_point'}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00389}00389\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00390}00390\ \ \ \ \ \textcolor{comment}{\#\ Construct\ OptimizeResult}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00391}00391\ \ \ \ \ state\ =\ \mbox{\hyperlink{classscipy_1_1optimize_1_1__optimize_1_1OptimizeResult}{OptimizeResult}}(}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ nit=0,\ nfev=0,\ njev=0,\ nhev=0,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ cg\_niter=0,\ cg\_stop\_cond=0,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ fun=objective.f,\ grad=objective.g,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ lagrangian\_grad=np.copy(objective.g),}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00396}00396\ \ \ \ \ \ \ \ \ constr=[c.fun.f\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints],}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00397}00397\ \ \ \ \ \ \ \ \ jac=[c.fun.J\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints],}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ constr\_nfev=[0\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints],}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ constr\_njev=[0\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints],}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00400}00400\ \ \ \ \ \ \ \ \ constr\_nhev=[0\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints],}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ v=[c.fun.v\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ prepared\_constraints],}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00402}00402\ \ \ \ \ \ \ \ \ method=method)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00403}00403\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00404}00404\ \ \ \ \ \textcolor{comment}{\#\ Start\ counting}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00405}00405\ \ \ \ \ start\_time\ =\ time.time()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00407}00407\ \ \ \ \ \textcolor{comment}{\#\ Define\ stop\ criteria}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00408}00408\ \ \ \ \ \textcolor{keywordflow}{if}\ method\ ==\ \textcolor{stringliteral}{'equality\_constrained\_sqp'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00409}00409\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }stop\_criteria(state,\ x,\ last\_iteration\_failed,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ optimality,\ constr\_violation,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tr\_radius,\ constr\_penalty,\ cg\_info):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ state\ =\ update\_state\_sqp(state,\ x,\ last\_iteration\_failed,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ objective,\ prepared\_constraints,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\_time,\ tr\_radius,\ constr\_penalty,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cg\_info)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ verbose\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BasicReport.print\_iteration(state.nit,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.nfev,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.cg\_niter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.fun,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.optimality,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_violation)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SQPReport.print\_iteration(state.nit,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.nfev,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.cg\_niter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.fun,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.optimality,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_violation,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_penalty,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.cg\_stop\_cond)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ state.niter\ =\ state.nit\ \ \textcolor{comment}{\#\ Alias\ for\ callback\ (backward-\/compatibility)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ callback\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback\_stop\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback\_stop\ =\ callback(state)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ StopIteration:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback\_stop\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ callback\_stop:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 3}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ state.optimality\ <\ gtol\ \textcolor{keywordflow}{and}\ state.constr\_violation\ <\ gtol:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 1}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ state.tr\_radius\ <\ xtol:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 2}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ state.nit\ >=\ maxiter:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ state.status\ \textcolor{keywordflow}{in}\ (0,\ 1,\ 2,\ 3)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00452}00452\ \ \ \ \ \textcolor{keywordflow}{elif}\ method\ ==\ \textcolor{stringliteral}{'tr\_interior\_point'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00453}00453\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }stop\_criteria(state,\ x,\ last\_iteration\_failed,\ tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ constr\_penalty,\ cg\_info,\ barrier\_parameter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ barrier\_tolerance):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ state\ =\ update\_state\_ip(state,\ x,\ last\_iteration\_failed,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ objective,\ prepared\_constraints,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\_time,\ tr\_radius,\ constr\_penalty,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00459}00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cg\_info,\ barrier\_parameter,\ barrier\_tolerance)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00460}00460\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ verbose\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00461}00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BasicReport.print\_iteration(state.nit,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00462}00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.nfev,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00463}00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.cg\_niter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00464}00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.fun,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.optimality,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00467}00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_violation)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00468}00468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00469}00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IPReport.print\_iteration(state.nit,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00470}00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.nfev,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00471}00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.cg\_niter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.fun,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.optimality,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_violation,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.constr\_penalty,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.barrier\_parameter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.cg\_stop\_cond)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ state.niter\ =\ state.nit\ \ \textcolor{comment}{\#\ Alias\ for\ callback\ (backward\ compatibility)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ callback\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback\_stop\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback\_stop\ =\ callback(state)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ StopIteration:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callback\_stop\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ callback\_stop:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 3}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ state.optimality\ <\ gtol\ \textcolor{keywordflow}{and}\ state.constr\_violation\ <\ gtol:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 1}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ (state.tr\_radius\ <\ xtol}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ state.barrier\_parameter\ <\ barrier\_tol):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 2}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ state.nit\ >=\ maxiter:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.status\ =\ 0}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ state.status\ \textcolor{keywordflow}{in}\ (0,\ 1,\ 2,\ 3)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00498}00498\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00499}00499\ \ \ \ \ \textcolor{keywordflow}{if}\ verbose\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00500}00500\ \ \ \ \ \ \ \ \ BasicReport.print\_header()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00501}00501\ \ \ \ \ \textcolor{keywordflow}{elif}\ verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ method\ ==\ \textcolor{stringliteral}{'equality\_constrained\_sqp'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ SQPReport.print\_header()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ method\ ==\ \textcolor{stringliteral}{'tr\_interior\_point'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ IPReport.print\_header()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00506}00506\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00507}00507\ \ \ \ \ \textcolor{comment}{\#\ Call\ inferior\ function\ to\ do\ the\ optimization}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00508}00508\ \ \ \ \ \textcolor{keywordflow}{if}\ method\ ==\ \textcolor{stringliteral}{'equality\_constrained\_sqp'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }fun\_and\_constr(x):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00510}00510\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ objective.fun(x)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ c\_eq,\ \_\ =\ canonical.fun(x)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00512}00512\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f,\ c\_eq}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00513}00513\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00514}00514\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }grad\_and\_jac(x):}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \ \ \ \ g\ =\ objective.grad(x)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ J\_eq,\ \_\ =\ canonical.jac(x)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ g,\ J\_eq}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00518}00518\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ \_,\ result\ =\ equality\_constrained\_sqp(}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00520}00520\ \ \ \ \ \ \ \ \ \ \ \ \ fun\_and\_constr,\ grad\_and\_jac,\ lagrangian\_hess,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00521}00521\ \ \ \ \ \ \ \ \ \ \ \ \ x0,\ objective.f,\ objective.g,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00522}00522\ \ \ \ \ \ \ \ \ \ \ \ \ c\_eq0,\ J\_eq0,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00523}00523\ \ \ \ \ \ \ \ \ \ \ \ \ stop\_criteria,\ state,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00524}00524\ \ \ \ \ \ \ \ \ \ \ \ \ initial\_constr\_penalty,\ initial\_tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00525}00525\ \ \ \ \ \ \ \ \ \ \ \ \ factorization\_method)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00526}00526\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00527}00527\ \ \ \ \ \textcolor{keywordflow}{elif}\ method\ ==\ \textcolor{stringliteral}{'tr\_interior\_point'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00528}00528\ \ \ \ \ \ \ \ \ \_,\ result\ =\ tr\_interior\_point(}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00529}00529\ \ \ \ \ \ \ \ \ \ \ \ \ objective.fun,\ objective.grad,\ lagrangian\_hess,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ \ \ \ \ n\_vars,\ canonical.n\_ineq,\ canonical.n\_eq,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ \ \ \ \ canonical.fun,\ canonical.jac,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00532}00532\ \ \ \ \ \ \ \ \ \ \ \ \ x0,\ objective.f,\ objective.g,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00533}00533\ \ \ \ \ \ \ \ \ \ \ \ \ c\_ineq0,\ J\_ineq0,\ c\_eq0,\ J\_eq0,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00534}00534\ \ \ \ \ \ \ \ \ \ \ \ \ stop\_criteria,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00535}00535\ \ \ \ \ \ \ \ \ \ \ \ \ canonical.keep\_feasible,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00536}00536\ \ \ \ \ \ \ \ \ \ \ \ \ xtol,\ state,\ initial\_barrier\_parameter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00537}00537\ \ \ \ \ \ \ \ \ \ \ \ \ initial\_barrier\_tolerance,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00538}00538\ \ \ \ \ \ \ \ \ \ \ \ \ initial\_constr\_penalty,\ initial\_tr\_radius,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00539}00539\ \ \ \ \ \ \ \ \ \ \ \ \ factorization\_method)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00540}00540\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00541}00541\ \ \ \ \ \textcolor{comment}{\#\ Status\ 3\ occurs\ when\ the\ callback\ function\ requests\ termination,}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00542}00542\ \ \ \ \ \textcolor{comment}{\#\ this\ is\ assumed\ to\ not\ be\ a\ success.}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00543}00543\ \ \ \ \ result.success\ =\ \textcolor{keyword}{True}\ \textcolor{keywordflow}{if}\ result.status\ \textcolor{keywordflow}{in}\ (1,\ 2)\ \textcolor{keywordflow}{else}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00544}00544\ \ \ \ \ result.message\ =\ TERMINATION\_MESSAGES[result.status]}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00545}00545\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00546}00546\ \ \ \ \ \textcolor{comment}{\#\ Alias\ (for\ backward\ compatibility\ with\ 1.1.0)}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00547}00547\ \ \ \ \ result.niter\ =\ result.nit}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00548}00548\ }
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00549}00549\ \ \ \ \ \textcolor{keywordflow}{if}\ verbose\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00550}00550\ \ \ \ \ \ \ \ \ BasicReport.print\_footer()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00551}00551\ \ \ \ \ \textcolor{keywordflow}{elif}\ verbose\ >\ 2:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00552}00552\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ method\ ==\ \textcolor{stringliteral}{'equality\_constrained\_sqp'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00553}00553\ \ \ \ \ \ \ \ \ \ \ \ \ SQPReport.print\_footer()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00554}00554\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ method\ ==\ \textcolor{stringliteral}{'tr\_interior\_point'}:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00555}00555\ \ \ \ \ \ \ \ \ \ \ \ \ IPReport.print\_footer()}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00556}00556\ \ \ \ \ \textcolor{keywordflow}{if}\ verbose\ >=\ 1:}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00557}00557\ \ \ \ \ \ \ \ \ print(result.message)}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00558}00558\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Number\ of\ iterations:\ \{\},\ function\ evaluations:\ \{\},\ "{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00559}00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}CG\ iterations:\ \{\},\ optimality:\ \{:.2e\},\ "{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00560}00560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}constraint\ violation:\ \{:.2e\},\ execution\ time:\ \{:4.2\}\ s."{}}}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00561}00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .format(result.nit,\ result.nfev,\ result.cg\_niter,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00562}00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.optimality,\ result.constr\_violation,}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00563}00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.execution\_time))}
\DoxyCodeLine{\Hypertarget{minimize__trustregion__constr_8py_source_l00564}00564\ \ \ \ \ \textcolor{keywordflow}{return}\ result}

\end{DoxyCode}
