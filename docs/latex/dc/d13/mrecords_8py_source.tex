\doxysection{mrecords.\+py}
\hypertarget{mrecords_8py_source}{}\label{mrecords_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/ma/mrecords.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/ma/mrecords.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00001}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}:mod:\`{}numpy.ma..mrecords\`{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00002}00002\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00003}00003\ \textcolor{stringliteral}{Defines\ the\ equivalent\ of\ :class:\`{}numpy.recarrays\`{}\ for\ masked\ arrays,}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00004}00004\ \textcolor{stringliteral}{where\ fields\ can\ be\ accessed\ as\ attributes.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00005}00005\ \textcolor{stringliteral}{Note\ that\ :class:\`{}numpy.ma.MaskedArray\`{}\ already\ supports\ structured\ datatypes}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00006}00006\ \textcolor{stringliteral}{and\ the\ masking\ of\ individual\ fields.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00007}00007\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00008}00008\ \textcolor{stringliteral}{..\ moduleauthor::\ Pierre\ Gerard-\/Marchant}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00009}00009\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00010}00010\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00011}00011\ \textcolor{comment}{\#\ \ We\ should\ make\ sure\ that\ no\ field\ is\ called\ '\_mask','mask','\_fieldmask',}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00012}00012\ \textcolor{comment}{\#\ \ or\ whatever\ restricted\ keywords.\ \ An\ idea\ would\ be\ to\ no\ bother\ in\ the}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00013}00013\ \textcolor{comment}{\#\ \ first\ place,\ and\ then\ rename\ the\ invalid\ fields\ with\ a\ trailing}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00014}00014\ \textcolor{comment}{\#\ \ underscore.\ Maybe\ we\ could\ just\ overload\ the\ parser\ function\ ?}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00016}00016\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1ma}{numpy.ma}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00017}00017\ \ \ \ \ MAError,\ MaskedArray,\ masked,\ nomask,\ masked\_array,\ getdata,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00018}00018\ \ \ \ \ getmaskarray,\ filled}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00019}00019\ )}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00020}00020\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacenumpy_1_1ma}{numpy.ma}}\ \textcolor{keyword}{as}\ ma}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00021}00021\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00023}00023\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00024}00024\ \textcolor{keyword}{from}\ numpy\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00025}00025\ \ \ \ \ bool\_,\ dtype,\ ndarray,\ recarray,\ array\ \textcolor{keyword}{as}\ narray}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00026}00026\ )}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00027}00027\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1core_1_1records}{numpy.core.records}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00028}00028\ \ \ \ \ fromarrays\ \textcolor{keyword}{as}\ recfromarrays,\ fromrecords\ \textcolor{keyword}{as}\ recfromrecords}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00029}00029\ )}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00031}00031\ \_byteorderconv\ =\ np.core.records.\_byteorderconv}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00034}00034\ \_check\_fill\_value\ =\ ma.core.\_check\_fill\_value}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00037}00037\ \_\_all\_\_\ =\ [}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00038}00038\ \ \ \ \ \textcolor{stringliteral}{'MaskedRecords'},\ \textcolor{stringliteral}{'mrecarray'},\ \textcolor{stringliteral}{'fromarrays'},\ \textcolor{stringliteral}{'fromrecords'},}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00039}00039\ \ \ \ \ \textcolor{stringliteral}{'fromtextfile'},\ \textcolor{stringliteral}{'addfield'},}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00040}00040\ ]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00042}00042\ reserved\_fields\ =\ [\textcolor{stringliteral}{'\_data'},\ \textcolor{stringliteral}{'\_mask'},\ \textcolor{stringliteral}{'\_fieldmask'},\ \textcolor{stringliteral}{'dtype'}]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00045}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a68e13ae5aaa382bd25d4a5a464429278}{00045}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a68e13ae5aaa382bd25d4a5a464429278}{\_checknames}}(descr,\ names=None):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00046}00046\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00047}00047\ \textcolor{stringliteral}{\ \ \ \ Checks\ that\ field\ names\ \`{}\`{}descr\`{}\`{}\ are\ not\ reserved\ keywords.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00048}00048\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ If\ this\ is\ the\ case,\ a\ default\ 'f\%i'\ is\ substituted.\ \ If\ the\ argument}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \`{}names\`{}\ is\ not\ None,\ updates\ the\ field\ names\ to\ valid\ names.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00051}00051\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00053}00053\ \ \ \ \ ndescr\ =\ len(descr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00054}00054\ \ \ \ \ default\_names\ =\ [\textcolor{stringliteral}{'f\%i'}\ \%\ i\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(ndescr)]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00055}00055\ \ \ \ \ \textcolor{keywordflow}{if}\ names\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ new\_names\ =\ default\_names}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(names,\ (tuple,\ list)):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ new\_names\ =\ names}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(names,\ str):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ new\_names\ =\ names.split(\textcolor{stringliteral}{','})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classNameError}{NameError}}(f\textcolor{stringliteral}{'illegal\ input\ names\ \{names!r\}'})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ nnames\ =\ len(new\_names)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ nnames\ <\ ndescr:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ new\_names\ +=\ default\_names[nnames:]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00067}00067\ \ \ \ \ ndescr\ =\ []}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00068}00068\ \ \ \ \ \textcolor{keywordflow}{for}\ (n,\ d,\ t)\ \textcolor{keywordflow}{in}\ zip(new\_names,\ default\_names,\ descr.descr):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ n\ \textcolor{keywordflow}{in}\ reserved\_fields:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ t[0]\ \textcolor{keywordflow}{in}\ reserved\_fields:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ndescr.append((d,\ t[1]))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ndescr.append(t)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ ndescr.append((n,\ t[1]))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00076}00076\ \ \ \ \ \textcolor{keywordflow}{return}\ np.dtype(ndescr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00079}00079\ \textcolor{keyword}{def\ }\_get\_fieldmask(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00080}00080\ \ \ \ \ mdescr\ =\ [(n,\ \textcolor{stringliteral}{'|b1'})\ \textcolor{keywordflow}{for}\ n\ \textcolor{keywordflow}{in}\ self.dtype.names]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00081}00081\ \ \ \ \ fdmask\ =\ np.empty(self.shape,\ dtype=mdescr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00082}00082\ \ \ \ \ fdmask.flat\ =\ tuple([\textcolor{keyword}{False}]\ *\ len(mdescr))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00083}00083\ \ \ \ \ \textcolor{keywordflow}{return}\ fdmask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00086}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords}{00086}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords}{MaskedRecords}}(\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray}{MaskedArray}}):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00087}00087\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00088}00088\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00089}00089\ \textcolor{stringliteral}{\ \ \ \ Attributes}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00091}00091\ \textcolor{stringliteral}{\ \ \ \ \_data\ :\ recarray}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00092}00092\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Underlying\ data,\ as\ a\ record\ array.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00093}00093\ \textcolor{stringliteral}{\ \ \ \ \_mask\ :\ boolean\ array}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Mask\ of\ the\ records.\ A\ record\ is\ masked\ when\ all\ its\ fields\ are}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00095}00095\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ masked.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00096}00096\ \textcolor{stringliteral}{\ \ \ \ \_fieldmask\ :\ boolean\ recarray}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00097}00097\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Record\ array\ of\ booleans,\ setting\ the\ mask\ of\ each\ individual\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00098}00098\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ of\ each\ record.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00099}00099\ \textcolor{stringliteral}{\ \ \ \ \_fill\_value\ :\ record}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Filling\ values\ for\ each\ field.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00101}00101\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00104}00104\ \ \ \ \ \textcolor{keyword}{def\ }\_\_new\_\_(cls,\ shape,\ dtype=None,\ buf=None,\ offset=0,\ strides=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ formats=None,\ names=None,\ titles=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byteorder=None,\ aligned=False,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask=nomask,\ hard\_mask=False,\ fill\_value=None,\ keep\_mask=True,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ copy=False,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ **options):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ self\ =\ recarray.\_\_new\_\_(cls,\ shape,\ dtype=dtype,\ buf=buf,\ offset=offset,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ strides=strides,\ formats=formats,\ names=names,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ titles=titles,\ byteorder=byteorder,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aligned=aligned,)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ mdtype\ =\ ma.make\_mask\_descr(self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ mask\ \textcolor{keywordflow}{is}\ nomask\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{not}\ np.size(mask):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ keep\_mask:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}\ =\ tuple([\textcolor{keyword}{False}]\ *\ len(mdtype))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ np.array(mask,\ copy=copy)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ mask.shape\ !=\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ad0f463ffbec4ea19450b0bd3e4184db5}{shape}}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (nd,\ nm)\ =\ (self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a9a254706e66ac3d198690e7f2d134b85}{size}},\ mask.size)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ nm\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ np.resize(mask,\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ad0f463ffbec4ea19450b0bd3e4184db5}{shape}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ nm\ ==\ nd:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ np.reshape(mask,\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ad0f463ffbec4ea19450b0bd3e4184db5}{shape}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ \textcolor{stringliteral}{"{}Mask\ and\ data\ not\ compatible:\ data\ size\ is\ \%i,\ "{}}\ +\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mask\ size\ is\ \%i."{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MAError}{MAError}}(msg\ \%\ (nd,\ nm))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ keep\_mask:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a5b8b81a291ccf03ef4c0dfa1ef0424fc}{\_\_setmask\_\_}}(mask)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ab33ff845c272512a3cacb4824cd65b9b}{\_sharedmask}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ mask.dtype\ ==\ mdtype:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_mask\ =\ mask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_mask\ =\ np.array([tuple([m]\ *\ len(mdtype))\ \textcolor{keywordflow}{for}\ m\ \textcolor{keywordflow}{in}\ mask],}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=mdtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}\ =\ \_mask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00144}00144\ \ \ \ \ \textcolor{keyword}{def\ }\_\_array\_finalize\_\_(self,\ obj):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Make\ sure\ we\ have\ a\ \_fieldmask\ by\ default}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \_mask\ =\ getattr(obj,\ \textcolor{stringliteral}{'\_mask'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ objmask\ =\ getattr(obj,\ \textcolor{stringliteral}{'\_mask'},\ nomask)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \_dtype\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'dtype'})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ objmask\ \textcolor{keywordflow}{is}\ nomask:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_mask\ =\ ma.make\_mask\_none(self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ad0f463ffbec4ea19450b0bd3e4184db5}{shape}},\ dtype=\_dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mdescr\ =\ ma.make\_mask\_descr(\_dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_mask\ =\ narray([tuple([m]\ *\ len(mdescr))\ \textcolor{keywordflow}{for}\ m\ \textcolor{keywordflow}{in}\ objmask],}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=mdescr).\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(recarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Update\ some\ of\ the\ attributes}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \_dict\ =\ self.\_\_dict\_\_}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \_dict.update(\_mask=\_mask)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae72f75f5f94d353867dc20ad2a1b5a34}{\_update\_from}}(obj)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_dict[\textcolor{stringliteral}{'\_baseclass'}]\ ==\ ndarray:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \_dict[\textcolor{stringliteral}{'\_baseclass'}]\ =\ recarray}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00164}00164\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00165}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a2f2d727736eb29f6398b027d6425b43d}{00165}}\ \ \ \ \ \textcolor{keyword}{def\ }\_data(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00167}00167\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ the\ data\ as\ a\ recarray.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00168}00168\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00169}00169\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ndarray.view(self,\ recarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00172}00172\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00173}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a86740bf00acd10f45b9034f07e874d54}{00173}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a86740bf00acd10f45b9034f07e874d54}{\_fieldmask}}(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00175}00175\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Alias\ to\ mask.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00176}00176\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00177}00177\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00180}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a68e17bb9dc2203add18d3b53a4831baa}{00180}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a68e17bb9dc2203add18d3b53a4831baa}{\_\_len\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00182}00182\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ the\ length}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00183}00183\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00184}00184\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ have\ more\ than\ one\ record}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a3a3697709a9acc80fed315849f7d494e}{ndim}}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ len(self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a3ea872c72cf9c35240bf06669ad018da}{\_data}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ have\ only\ one\ record:\ return\ the\ nb\ of\ fields}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ len(self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00191}00191\ \ \ \ \ \textcolor{keyword}{def\ }\_\_getattribute\_\_(self,\ attr):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ object.\_\_getattribute\_\_(self,\ attr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ AttributeError:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ attr\ must\ be\ a\ fieldname}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ fielddict\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'dtype'}).fields}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ res\ =\ fielddict[attr][:2]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (TypeError,\ KeyError)\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classAttributeError}{AttributeError}}(}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'record\ array\ has\ no\ attribute\ \{attr\}'})\ \textcolor{keyword}{from}\ e}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ So\ far,\ so\ good}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ \_localdict\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'\_\_dict\_\_'})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \_data\ =\ ndarray.view(self,\ \_localdict[\textcolor{stringliteral}{'\_baseclass'}])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ obj\ =\ \_data.getfield(*res)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ obj.dtype.names\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classNotImplementedError}{NotImplementedError}}(\textcolor{stringliteral}{"{}MaskedRecords\ is\ currently\ limited\ to"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}simple\ records."{}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Get\ some\ special\ attributes}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00211}00211\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Reset\ the\ object's\ mask}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ hasmasked\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ \_mask\ =\ \_localdict.get(\textcolor{stringliteral}{'\_mask'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_mask\ =\ \_mask[attr]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ IndexError:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Couldn't\ find\ a\ mask:\ use\ the\ default\ (nomask)}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ tp\_len\ =\ len(\_mask.dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ hasmasked\ =\ \_mask.view((bool,\ ((tp\_len,)\ \textcolor{keywordflow}{if}\ tp\_len\ \textcolor{keywordflow}{else}\ ()))).any()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (obj.shape\ \textcolor{keywordflow}{or}\ hasmasked):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ obj\ =\ obj.view(MaskedArray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_baseclass\ =\ ndarray}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_isfield\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_mask\ =\ \_mask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Reset\ the\ field\ values}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \_fill\_value\ =\ \_localdict.get(\textcolor{stringliteral}{'\_fill\_value'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_fill\_value\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_fill\_value\ =\ \_fill\_value[attr]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_fill\_value\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ obj\ =\ obj.item()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ obj}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00238}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a594ffe9297c8cff664edbb20bcc7af30}{00238}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a594ffe9297c8cff664edbb20bcc7af30}{\_\_setattr\_\_}}(self,\ attr,\ val):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00240}00240\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sets\ the\ attribute\ attr\ to\ the\ value\ val.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00241}00241\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00242}00242\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Should\ we\ call\ \_\_setmask\_\_\ first\ ?}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00244}00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ attr\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{'mask'},\ \textcolor{stringliteral}{'fieldmask'}]:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a5b8b81a291ccf03ef4c0dfa1ef0424fc}{\_\_setmask\_\_}}(val)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Create\ a\ shortcut\ (so\ that\ we\ don't\ have\ to\ call\ getattr\ all\ the\ time)}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \_localdict\ =\ object.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'\_\_dict\_\_'})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Check\ whether\ we're\ creating\ a\ new\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00250}00250\ \ \ \ \ \ \ \ \ newattr\ =\ attr\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ \_localdict}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Is\ attr\ a\ generic\ attribute\ ?}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ ret\ =\ object.\_\_setattr\_\_(self,\ attr,\ val)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Not\ a\ generic\ attribute:\ exit\ if\ it's\ not\ a\ valid\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ fielddict\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'dtype'}).fields\ \textcolor{keywordflow}{or}\ \{\}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ optinfo\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'\_optinfo'})\ \textcolor{keywordflow}{or}\ \{\}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (attr\ \textcolor{keywordflow}{in}\ fielddict\ \textcolor{keywordflow}{or}\ attr\ \textcolor{keywordflow}{in}\ optinfo):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00260}00260\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ list\ of\ names}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ fielddict\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'dtype'}).fields\ \textcolor{keywordflow}{or}\ \{\}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Check\ the\ attribute}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ attr\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ fielddict:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ newattr:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ just\ added\ this\ one\ or\ this\ setattr\ worked\ on\ an}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ internal\ attribute.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ object.\_\_delattr\_\_(self,\ attr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Let's\ try\ to\ set\ the\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ res\ =\ fielddict[attr][:2]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (TypeError,\ KeyError)\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classAttributeError}{AttributeError}}(}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{'record\ array\ has\ no\ attribute\ \{attr\}'})\ \textcolor{keyword}{from}\ e}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00279}00279\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ val\ \textcolor{keywordflow}{is}\ masked:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \_fill\_value\ =\ \_localdict[\textcolor{stringliteral}{'\_fill\_value'}]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \_fill\_value\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dval\ =\ \_localdict[\textcolor{stringliteral}{'\_fill\_value'}][attr]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dval\ =\ val}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ mval\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00287}00287\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ dval\ =\ \mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a2fe03a489be34b4fd8ed7b135adf070b}{filled}}(val)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ mval\ =\ \mbox{\hyperlink{namespacenumpy_1_1ma_1_1core_adb1639d29d31fafd121ba5ac18236508}{getmaskarray}}(val)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ obj\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'\_data'}).setfield(dval,\ *res)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00291}00291\ \ \ \ \ \ \ \ \ \_localdict[\textcolor{stringliteral}{'\_mask'}].\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a490e9a75fca00153531c29f46ae668de}{\_\_setitem\_\_}}(attr,\ mval)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00292}00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ obj}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00293}00293\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00294}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a0e8bb09832b4d055da4dfd73455a4017}{00294}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a0e8bb09832b4d055da4dfd73455a4017}{\_\_getitem\_\_}}(self,\ indx):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00296}00296\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ all\ the\ fields\ sharing\ the\ same\ fieldname\ base.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00297}00297\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00298}00298\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ fieldname\ base\ is\ either\ \`{}\_data\`{}\ or\ \`{}\_mask\`{}.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00299}00299\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00300}00300\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \_localdict\ =\ self.\_\_dict\_\_}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \_mask\ =\ ndarray.\_\_getattribute\_\_(self,\ \textcolor{stringliteral}{'\_mask'})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00303}00303\ \ \ \ \ \ \ \ \ \_data\ =\ ndarray.view(self,\ \_localdict[\textcolor{stringliteral}{'\_baseclass'}])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ want\ a\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00305}00305\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(indx,\ str):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Make\ sure\ \_sharedmask\ is\ True\ to\ propagate\ back\ to\ \_fieldmask}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Don't\ use\ \_set\_mask,\ there\ are\ some\ copies\ being\ made\ that}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ break\ propagation\ Don't\ force\ the\ mask\ to\ nomask,\ that\ wreaks}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ easy\ masking}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ obj\ =\ \_data[indx].\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(MaskedArray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_mask\ =\ \_mask[indx]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_sharedmask\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ fval\ =\ \_localdict[\textcolor{stringliteral}{'\_fill\_value'}]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ fval\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ obj.\_fill\_value\ =\ fval[indx]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Force\ to\ masked\ if\ the\ mask\ is\ True}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ obj.ndim\ \textcolor{keywordflow}{and}\ obj.\_mask:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ masked}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ obj}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ want\ some\ elements.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ First,\ the\ data.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ obj\ =\ np.array(\_data[indx],\ copy=\textcolor{keyword}{False}).\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(mrecarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ obj.\_mask\ =\ np.array(\_mask[indx],\ copy=\textcolor{keyword}{False}).\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(recarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ obj}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00325}00325\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00326}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a490e9a75fca00153531c29f46ae668de}{00326}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a490e9a75fca00153531c29f46ae668de}{\_\_setitem\_\_}}(self,\ indx,\ value):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00328}00328\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sets\ the\ given\ record\ to\ value.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00329}00329\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00330}00330\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ MaskedArray.\_\_setitem\_\_(self,\ indx,\ value)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(indx,\ str):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}[indx]\ =\ ma.getmaskarray(value)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00334}00334\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00335}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a5e0804991222cae7ea534aa5e8a80523}{00335}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a5e0804991222cae7ea534aa5e8a80523}{\_\_str\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00336}00336\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00337}00337\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Calculates\ the\ string\ representation.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00338}00338\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00339}00339\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00340}00340\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a9a254706e66ac3d198690e7f2d134b85}{size}}\ >\ 1:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ mstr\ =\ [f\textcolor{stringliteral}{"{}(\{','.join([str(i)\ for\ i\ in\ s])\})"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ zip(*[getattr(self,\ f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}}.names])]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}[\{',\ '.join(mstr)\}]"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ mstr\ =\ [f\textcolor{stringliteral}{"{}\{','.join([str(i)\ for\ i\ in\ s])\}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ zip([getattr(self,\ f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}}.names])]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}(\{',\ '.join(mstr)\})"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00348}00348\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00349}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_af5e1b561ebead943ade700f2a015a796}{00349}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_af5e1b561ebead943ade700f2a015a796}{\_\_repr\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00351}00351\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Calculates\ the\ repr\ representation.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00352}00352\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00353}00353\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \_names\ =\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}}.names}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ fmt\ =\ \textcolor{stringliteral}{"{}\%\%\%is\ :\ \%\%s"{}}\ \%\ (\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_afa60374e493251eb7b74508d6b7cf02c}{max}}([len(n)\ \textcolor{keywordflow}{for}\ n\ \textcolor{keywordflow}{in}\ \_names])\ +\ 4,)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ reprstr\ =\ [fmt\ \%\ (f,\ getattr(self,\ f))\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}}.names]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ reprstr.insert(0,\ \textcolor{stringliteral}{'masked\_records('})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ reprstr.extend([fmt\ \%\ (\textcolor{stringliteral}{'\ \ \ \ fill\_value'},\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a4163711b2717238c0493739e3afea1bd}{fill\_value}}),}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'\ \ \ \ \ \ \ \ \ \ \ \ \ \ )'}])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ str(\textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(reprstr))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00361}00361\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00362}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{00362}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(self,\ dtype=None,\ type=None):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00363}00363\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00364}00364\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ a\ view\ of\ the\ mrecarray.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00365}00365\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00366}00366\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ OK,\ basic\ copy-\/paste\ from\ MaskedArray.view.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ dtype\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ type\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ ndarray.view(self)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ ndarray.view(self,\ type)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Here\ again.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ type\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ issubclass(dtype,\ ndarray):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ ndarray.view(self,\ dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ ndarray.view(self,\ dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ OK,\ there's\ the\ change}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ TypeError:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype\ =\ np.dtype(dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ we\ need\ to\ revert\ to\ MaskedArray,\ but\ keeping\ the\ possibility}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ of\ subclasses\ (eg,\ TimeSeriesRecords),\ so\ we'll\ force\ a\ type}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00385}00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ set\ to\ the\ first\ parent}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ dtype.fields\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ basetype\ =\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ac7a429b7eb2e57e5503ca5f27f9c20e6}{\_\_class\_\_}}.\_\_bases\_\_[0]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ self.\_\_array\_\_().\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(dtype,\ basetype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output.\_update\_from(self)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ ndarray.view(self,\ dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ output.\_fill\_value\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ ndarray.view(self,\ dtype,\ type)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Update\ the\ mask,\ just\ like\ in\ MaskedArray.view}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00396}00396\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (getattr(output,\ \textcolor{stringliteral}{'\_mask'},\ nomask)\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ nomask):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00397}00397\ \ \ \ \ \ \ \ \ \ \ \ \ mdtype\ =\ ma.make\_mask\_descr(output.dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ \ \ \ \ output.\_mask\ =\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}.\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(mdtype,\ ndarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ \ \ \ \ output.\_mask.shape\ =\ output.shape}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00400}00400\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ output}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00401}00401\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00402}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a2677b4b077c673bcf584851d672307ad}{00402}}\ \ \ \ \ \textcolor{keyword}{def\ }harden\_mask(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00403}00403\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00404}00404\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Forces\ the\ mask\ to\ hard.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00405}00405\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00406}00406\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00407}00407\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ac1374b7302f5fd2fe01a168019690c4a}{\_hardmask}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00408}00408\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00409}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a8db9b36263eea5fd58a2dbbb5b197ef4}{00409}}\ \ \ \ \ \textcolor{keyword}{def\ }soften\_mask(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00411}00411\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Forces\ the\ mask\ to\ soft}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00412}00412\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00413}00413\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ac1374b7302f5fd2fe01a168019690c4a}{\_hardmask}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00415}00415\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00416}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a6ce83e055970d85812c3e5e45245c3bc}{00416}}\ \ \ \ \ \textcolor{keyword}{def\ }copy(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00418}00418\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ a\ copy\ of\ the\ masked\ record.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00419}00419\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00420}00420\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ copied\ =\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a3ea872c72cf9c35240bf06669ad018da}{\_data}}.copy().\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7e2d4cd7a014e408467c9e93b18d0610}{view}}(type(self))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ copied.\_mask\ =\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}.copy()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ copied}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00424}00424\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00425}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a59cce878a6fecf827965b0ce2ac84d25}{00425}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a59cce878a6fecf827965b0ce2ac84d25}{tolist}}(self,\ fill\_value=None):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00427}00427\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Return\ the\ data\ portion\ of\ the\ array\ as\ a\ list.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00428}00428\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00429}00429\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Data\ items\ are\ converted\ to\ the\ nearest\ compatible\ Python\ type.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00430}00430\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Masked\ values\ are\ converted\ to\ fill\_value.\ If\ fill\_value\ is\ None,}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00431}00431\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ corresponding\ entries\ in\ the\ output\ list\ will\ be\ \`{}\`{}None\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00432}00432\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00433}00433\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ fill\_value\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a2fe03a489be34b4fd8ed7b135adf070b}{filled}}(fill\_value).\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a59cce878a6fecf827965b0ce2ac84d25}{tolist}}()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ result\ =\ narray(self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a2fe03a489be34b4fd8ed7b135adf070b}{filled}}().\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a59cce878a6fecf827965b0ce2ac84d25}{tolist}}(),\ dtype=object)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ mask\ =\ narray(self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}.\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a59cce878a6fecf827965b0ce2ac84d25}{tolist}}())}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ result[mask]\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result.tolist()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00440}00440\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00441}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a25d23546813ae95a4ac747c83012e607}{00441}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a25d23546813ae95a4ac747c83012e607}{\_\_getstate\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ the\ internal\ state\ of\ the\ masked\ array.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00443}00443\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00444}00444\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ is\ for\ pickling.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00445}00445\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00446}00446\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ state\ =\ (1,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ad0f463ffbec4ea19450b0bd3e4184db5}{shape}},}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}},}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.flags.fnc,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a3ea872c72cf9c35240bf06669ad018da}{\_data}}.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_af8fb4a0471c632a351a6e6dd11aac785}{tobytes}}(),}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00452}00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ae01579e4ad76686b27fbfba2e4c1f2fa}{\_mask}}.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_af8fb4a0471c632a351a6e6dd11aac785}{tobytes}}(),}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00453}00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a44022b754d35b14af72aa91ce45653b2}{\_fill\_value}},}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ state}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00456}00456\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00457}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a98e0cf5e1fe9ebe8743f3d5f3b1b7c73}{00457}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a98e0cf5e1fe9ebe8743f3d5f3b1b7c73}{\_\_setstate\_\_}}(self,\ state):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00459}00459\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Restore\ the\ internal\ state\ of\ the\ masked\ array.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00460}00460\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00461}00461\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ is\ for\ pickling.\ \ \`{}\`{}state\`{}\`{}\ is\ typically\ the\ output\ of\ the}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00462}00462\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}\_\_getstate\_\_\`{}\`{}\ output,\ and\ is\ a\ 5-\/tuple:}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00463}00463\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00464}00464\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ class\ name}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00465}00465\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ a\ tuple\ giving\ the\ shape\ of\ the\ data}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00466}00466\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ a\ typecode\ for\ the\ data}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00467}00467\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ a\ binary\ string\ for\ the\ data}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00468}00468\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ a\ binary\ string\ for\ the\ mask.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00469}00469\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00470}00470\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00471}00471\ \ \ \ \ \ \ \ \ (ver,\ shp,\ typ,\ isf,\ raw,\ msk,\ flv)\ =\ state}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ ndarray.\_\_setstate\_\_(self,\ (shp,\ typ,\ isf,\ raw))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ mdtype\ =\ \mbox{\hyperlink{namespacedtype}{dtype}}([(k,\ bool\_)\ \textcolor{keywordflow}{for}\ (k,\ \_)\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_acaf5e9f1356ae9652fc4eddef5878b18}{dtype}}.descr])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ self.\_\_dict\_\_[\textcolor{stringliteral}{'\_mask'}].\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a98e0cf5e1fe9ebe8743f3d5f3b1b7c73}{\_\_setstate\_\_}}((shp,\ mdtype,\ isf,\ msk))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a4163711b2717238c0493739e3afea1bd}{fill\_value}}\ =\ flv}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00476}00476\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00477}\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7253ef1a298b40b5b3b07d31cab4aefd}{00477}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1ma_1_1mrecords_1_1MaskedRecords_a7253ef1a298b40b5b3b07d31cab4aefd}{\_\_reduce\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00479}00479\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Return\ a\ 3-\/tuple\ for\ pickling\ a\ MaskedArray.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00480}00480\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00481}00481\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00482}00482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\_mrreconstruct,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_ac7a429b7eb2e57e5503ca5f27f9c20e6}{\_\_class\_\_}},\ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a2c5f1b8c9c3cfaa7ed859fc2b95247aa}{\_baseclass}},\ (0,),\ \textcolor{stringliteral}{'b'},),}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classnumpy_1_1ma_1_1core_1_1MaskedArray_a621ed594c40e98e7d99e032a23a1d59c}{\_\_getstate\_\_}}())}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00485}00485\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00486}00486\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00487}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_abf3c61009f5ebae0e15b6203af47040a}{00487}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_abf3c61009f5ebae0e15b6203af47040a}{\_mrreconstruct}}(subtype,\ baseclass,\ baseshape,\ basetype,):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00488}00488\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00489}00489\ \textcolor{stringliteral}{\ \ \ \ Build\ a\ new\ MaskedArray\ from\ the\ information\ stored\ in\ a\ pickle.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00490}00490\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00491}00491\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00492}00492\ \ \ \ \ \_data\ =\ ndarray.\_\_new\_\_(baseclass,\ baseshape,\ basetype).view(subtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00493}00493\ \ \ \ \ \_mask\ =\ ndarray.\_\_new\_\_(ndarray,\ baseshape,\ \textcolor{stringliteral}{'b1'})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00494}00494\ \ \ \ \ \textcolor{keywordflow}{return}\ subtype.\_\_new\_\_(subtype,\ \_data,\ mask=\_mask,\ dtype=basetype,)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00495}00495\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00496}00496\ mrecarray\ =\ MaskedRecords}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00497}00497\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00498}00498\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00499}00499\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00502}00502\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00503}00503\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00504}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_ab43d191ac82715000ccf366314aae85f}{00504}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_ab43d191ac82715000ccf366314aae85f}{fromarrays}}(arraylist,\ dtype=None,\ shape=None,\ formats=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ names=None,\ titles=None,\ aligned=False,\ byteorder=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fill\_value=None):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00507}00507\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00508}00508\ \textcolor{stringliteral}{\ \ \ \ Creates\ a\ mrecarray\ from\ a\ (flat)\ list\ of\ masked\ arrays.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00509}00509\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00510}00510\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00511}00511\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00512}00512\ \textcolor{stringliteral}{\ \ \ \ arraylist\ :\ sequence}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00513}00513\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ list\ of\ (masked)\ arrays.\ Each\ element\ of\ the\ sequence\ is\ first\ converted}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00514}00514\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ a\ masked\ array\ if\ needed.\ If\ a\ 2D\ array\ is\ passed\ as\ argument,\ it\ is}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00515}00515\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ processed\ line\ by\ line}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00516}00516\ \textcolor{stringliteral}{\ \ \ \ dtype\ :\ \{None,\ dtype\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00517}00517\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Data\ type\ descriptor.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00518}00518\ \textcolor{stringliteral}{\ \ \ \ shape\ :\ \{None,\ integer\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00519}00519\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ records.\ If\ None,\ shape\ is\ defined\ from\ the\ shape\ of\ the}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00520}00520\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ first\ array\ in\ the\ list.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00521}00521\ \textcolor{stringliteral}{\ \ \ \ formats\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00522}00522\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ formats\ for\ each\ individual\ field.\ If\ None,\ the\ formats\ will}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00523}00523\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ be\ autodetected\ by\ inspecting\ the\ fields\ and\ selecting\ the\ highest\ dtype}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00524}00524\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ possible.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00525}00525\ \textcolor{stringliteral}{\ \ \ \ names\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00526}00526\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ the\ names\ of\ each\ field.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00527}00527\ \textcolor{stringliteral}{\ \ \ \ fill\_value\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00528}00528\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ data\ to\ be\ used\ as\ filling\ values.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00529}00529\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00530}00530\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00531}00531\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00532}00532\ \textcolor{stringliteral}{\ \ \ \ Lists\ of\ tuples\ should\ be\ preferred\ over\ lists\ of\ lists\ for\ faster\ processing.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00533}00533\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00534}00534\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00535}00535\ \ \ \ \ datalist\ =\ [\mbox{\hyperlink{namespacenumpy_1_1ma_1_1core_a4c058cfe52befdaf7bc1beb8c06e3b0d}{getdata}}(x)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ arraylist]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00536}00536\ \ \ \ \ masklist\ =\ [np.atleast\_1d(\mbox{\hyperlink{namespacenumpy_1_1ma_1_1core_adb1639d29d31fafd121ba5ac18236508}{getmaskarray}}(x))\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ arraylist]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00537}00537\ \ \ \ \ \_array\ =\ recfromarrays(datalist,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00538}00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=dtype,\ shape=shape,\ formats=formats,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00539}00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ names=names,\ titles=titles,\ aligned=aligned,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00540}00540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ byteorder=byteorder).view(mrecarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00541}00541\ \ \ \ \ \_array.\_mask.flat\ =\ list(zip(*masklist))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00542}00542\ \ \ \ \ \textcolor{keywordflow}{if}\ fill\_value\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ \_array.fill\_value\ =\ fill\_value}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00544}00544\ \ \ \ \ \textcolor{keywordflow}{return}\ \_array}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00545}00545\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00546}00546\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00547}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_ac7679539c6cbd33be844de86aaf20c59}{00547}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_ac7679539c6cbd33be844de86aaf20c59}{fromrecords}}(reclist,\ dtype=None,\ shape=None,\ formats=None,\ names=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00548}00548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ titles=None,\ aligned=False,\ byteorder=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00549}00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fill\_value=None,\ mask=nomask):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00550}00550\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00551}00551\ \textcolor{stringliteral}{\ \ \ \ Creates\ a\ MaskedRecords\ from\ a\ list\ of\ records.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00552}00552\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00553}00553\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00554}00554\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00555}00555\ \textcolor{stringliteral}{\ \ \ \ reclist\ :\ sequence}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00556}00556\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ list\ of\ records.\ Each\ element\ of\ the\ sequence\ is\ first\ converted}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00557}00557\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ a\ masked\ array\ if\ needed.\ If\ a\ 2D\ array\ is\ passed\ as\ argument,\ it\ is}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00558}00558\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ processed\ line\ by\ line}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00559}00559\ \textcolor{stringliteral}{\ \ \ \ dtype\ :\ \{None,\ dtype\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00560}00560\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Data\ type\ descriptor.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00561}00561\ \textcolor{stringliteral}{\ \ \ \ shape\ :\ \{None,int\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00562}00562\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Number\ of\ records.\ If\ None,\ \`{}\`{}shape\`{}\`{}\ is\ defined\ from\ the\ shape\ of\ the}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00563}00563\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ first\ array\ in\ the\ list.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00564}00564\ \textcolor{stringliteral}{\ \ \ \ formats\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00565}00565\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ formats\ for\ each\ individual\ field.\ If\ None,\ the\ formats\ will}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00566}00566\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ be\ autodetected\ by\ inspecting\ the\ fields\ and\ selecting\ the\ highest\ dtype}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00567}00567\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ possible.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00568}00568\ \textcolor{stringliteral}{\ \ \ \ names\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00569}00569\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ the\ names\ of\ each\ field.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00570}00570\ \textcolor{stringliteral}{\ \ \ \ fill\_value\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00571}00571\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ data\ to\ be\ used\ as\ filling\ values.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00572}00572\ \textcolor{stringliteral}{\ \ \ \ mask\ :\ \{nomask,\ sequence\},\ optional.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00573}00573\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ External\ mask\ to\ apply\ on\ the\ data.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00574}00574\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00575}00575\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00576}00576\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00577}00577\ \textcolor{stringliteral}{\ \ \ \ Lists\ of\ tuples\ should\ be\ preferred\ over\ lists\ of\ lists\ for\ faster\ processing.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00578}00578\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00579}00579\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00580}00580\ \ \ \ \ \textcolor{comment}{\#\ Grab\ the\ initial\ \_fieldmask,\ if\ needed:}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00581}00581\ \ \ \ \ \_mask\ =\ getattr(reclist,\ \textcolor{stringliteral}{'\_mask'},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00582}00582\ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ list\ of\ records.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00583}00583\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(reclist,\ ndarray):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00584}00584\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Make\ sure\ we\ don't\ have\ some\ hidden\ mask}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00585}00585\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(reclist,\ MaskedArray):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00586}00586\ \ \ \ \ \ \ \ \ \ \ \ \ reclist\ =\ reclist.filled().view(ndarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00587}00587\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Grab\ the\ initial\ dtype,\ just\ in\ case}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00588}00588\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ dtype\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00589}00589\ \ \ \ \ \ \ \ \ \ \ \ \ dtype\ =\ reclist.dtype}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00590}00590\ \ \ \ \ \ \ \ \ reclist\ =\ reclist.tolist()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00591}00591\ \ \ \ \ mrec\ =\ recfromrecords(reclist,\ dtype=dtype,\ shape=shape,\ formats=formats,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00592}00592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ names=names,\ titles=titles,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00593}00593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aligned=aligned,\ byteorder=byteorder).view(mrecarray)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00594}00594\ \ \ \ \ \textcolor{comment}{\#\ Set\ the\ fill\_value\ if\ needed}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00595}00595\ \ \ \ \ \textcolor{keywordflow}{if}\ fill\_value\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00596}00596\ \ \ \ \ \ \ \ \ mrec.fill\_value\ =\ fill\_value}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00597}00597\ \ \ \ \ \textcolor{comment}{\#\ Now,\ let's\ deal\ w/\ the\ mask}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00598}00598\ \ \ \ \ \textcolor{keywordflow}{if}\ mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ nomask:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00599}00599\ \ \ \ \ \ \ \ \ mask\ =\ np.array(mask,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00600}00600\ \ \ \ \ \ \ \ \ maskrecordlength\ =\ len(mask.dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00601}00601\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ maskrecordlength:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00602}00602\ \ \ \ \ \ \ \ \ \ \ \ \ mrec.\_mask.flat\ =\ mask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00603}00603\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mask.ndim\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00604}00604\ \ \ \ \ \ \ \ \ \ \ \ \ mrec.\_mask.flat\ =\ [tuple(m)\ \textcolor{keywordflow}{for}\ m\ \textcolor{keywordflow}{in}\ mask]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00605}00605\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00606}00606\ \ \ \ \ \ \ \ \ \ \ \ \ mrec.\_\_setmask\_\_(mask)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00607}00607\ \ \ \ \ \textcolor{keywordflow}{if}\ \_mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00608}00608\ \ \ \ \ \ \ \ \ mrec.\_mask[:]\ =\ \_mask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00609}00609\ \ \ \ \ \textcolor{keywordflow}{return}\ mrec}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00610}00610\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00611}00611\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00612}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a92d74f417cb061c8401460ac6ff5e39c}{00612}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a92d74f417cb061c8401460ac6ff5e39c}{\_guessvartypes}}(arr):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00613}00613\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00614}00614\ \textcolor{stringliteral}{\ \ \ \ Tries\ to\ guess\ the\ dtypes\ of\ the\ str\_\ ndarray\ \`{}arr\`{}.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00615}00615\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00616}00616\ \textcolor{stringliteral}{\ \ \ \ Guesses\ by\ testing\ element-\/wise\ conversion.\ Returns\ a\ list\ of\ dtypes.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00617}00617\ \textcolor{stringliteral}{\ \ \ \ The\ array\ is\ first\ converted\ to\ ndarray.\ If\ the\ array\ is\ 2D,\ the\ test}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00618}00618\ \textcolor{stringliteral}{\ \ \ \ is\ performed\ on\ the\ first\ line.\ An\ exception\ is\ raised\ if\ the\ file\ is}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00619}00619\ \textcolor{stringliteral}{\ \ \ \ 3D\ or\ more.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00620}00620\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00621}00621\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00622}00622\ \ \ \ \ vartypes\ =\ []}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00623}00623\ \ \ \ \ arr\ =\ np.asarray(arr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00624}00624\ \ \ \ \ \textcolor{keywordflow}{if}\ arr.ndim\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00625}00625\ \ \ \ \ \ \ \ \ arr\ =\ arr[0]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00626}00626\ \ \ \ \ \textcolor{keywordflow}{elif}\ arr.ndim\ >\ 2:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00627}00627\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}The\ array\ should\ be\ 2D\ at\ most!"{}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00628}00628\ \ \ \ \ \textcolor{comment}{\#\ Start\ the\ conversion\ loop.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00629}00629\ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ arr:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00630}00630\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00631}00631\ \ \ \ \ \ \ \ \ \ \ \ \ int(f)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00632}00632\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (ValueError,\ TypeError):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00633}00633\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00634}00634\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float(f)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00635}00635\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (ValueError,\ TypeError):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00636}00636\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00637}00637\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ complex(f)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00638}00638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (ValueError,\ TypeError):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00639}00639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vartypes.append(arr.dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00640}00640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00641}00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vartypes.append(np.dtype(complex))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00642}00642\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00643}00643\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vartypes.append(np.dtype(float))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00644}00644\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00645}00645\ \ \ \ \ \ \ \ \ \ \ \ \ vartypes.append(np.dtype(int))}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00646}00646\ \ \ \ \ \textcolor{keywordflow}{return}\ vartypes}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00647}00647\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00648}00648\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00649}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a22873edcee19db441943bb08a5bd835a}{00649}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a22873edcee19db441943bb08a5bd835a}{openfile}}(fname):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00650}00650\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00651}00651\ \textcolor{stringliteral}{\ \ \ \ Opens\ the\ file\ handle\ of\ file\ \`{}fname\`{}.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00652}00652\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00653}00653\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00654}00654\ \ \ \ \ \textcolor{comment}{\#\ A\ file\ handle}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00655}00655\ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(fname,\ \textcolor{stringliteral}{'readline'}):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00656}00656\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fname}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00657}00657\ \ \ \ \ \textcolor{comment}{\#\ Try\ to\ open\ the\ file\ and\ guess\ its\ type}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00658}00658\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00659}00659\ \ \ \ \ \ \ \ \ f\ =\ open(fname)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00660}00660\ \ \ \ \ \textcolor{keywordflow}{except}\ FileNotFoundError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00661}00661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classFileNotFoundError}{FileNotFoundError}}(f\textcolor{stringliteral}{"{}No\ such\ file:\ '\{fname\}'"{}})\ \textcolor{keyword}{from}\ e}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00662}00662\ \ \ \ \ \textcolor{keywordflow}{if}\ f.readline()[:2]\ !=\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)x"{}}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00663}00663\ \ \ \ \ \ \ \ \ f.seek(0,\ 0)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00664}00664\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00665}00665\ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00666}00666\ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classNotImplementedError}{NotImplementedError}}(\textcolor{stringliteral}{"{}Wow,\ binary\ file"{}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00667}00667\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00668}00668\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00669}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_adc046e3dc04341420aaeb27d5216ca76}{00669}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_adc046e3dc04341420aaeb27d5216ca76}{fromtextfile}}(fname,\ delimiter=None,\ commentchar='\#',\ missingchar='',}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00670}00670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ varnames=None,\ vartypes=None,}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00671}00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *,\ delimitor=np.\_NoValue):\ \ \textcolor{comment}{\#\ backwards\ compatibility}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00672}00672\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00673}00673\ \textcolor{stringliteral}{\ \ \ \ Creates\ a\ mrecarray\ from\ data\ stored\ in\ the\ file\ \`{}filename\`{}.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00674}00674\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00675}00675\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00676}00676\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00677}00677\ \textcolor{stringliteral}{\ \ \ \ fname\ :\ \{file\ name/handle\}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00678}00678\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Handle\ of\ an\ opened\ file.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00679}00679\ \textcolor{stringliteral}{\ \ \ \ delimiter\ :\ \{None,\ string\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00680}00680\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Alphanumeric\ character\ used\ to\ separate\ columns\ in\ the\ file.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00681}00681\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ None,\ any\ (group\ of)\ white\ spacestring(s)\ will\ be\ used.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00682}00682\ \textcolor{stringliteral}{\ \ \ \ commentchar\ :\ \{'\#',\ string\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00683}00683\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Alphanumeric\ character\ used\ to\ mark\ the\ start\ of\ a\ comment.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00684}00684\ \textcolor{stringliteral}{\ \ \ \ missingchar\ :\ \{'',\ string\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00685}00685\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ String\ indicating\ missing\ data,\ and\ used\ to\ create\ the\ masks.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00686}00686\ \textcolor{stringliteral}{\ \ \ \ varnames\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00687}00687\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ the\ variable\ names.\ If\ None,\ a\ list\ will\ be\ created\ from}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00688}00688\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ first\ non\ empty\ line\ of\ the\ file.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00689}00689\ \textcolor{stringliteral}{\ \ \ \ vartypes\ :\ \{None,\ sequence\},\ optional}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00690}00690\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence\ of\ the\ variables\ dtypes.\ If\ None,\ it\ will\ be\ estimated\ from}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00691}00691\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ first\ non-\/commented\ line.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00692}00692\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00693}00693\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00694}00694\ \textcolor{stringliteral}{\ \ \ \ Ultra\ simple:\ the\ varnames\ are\ in\ the\ header,\ one\ line"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00695}00695\ \ \ \ \ \textcolor{keywordflow}{if}\ delimitor\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ np.\_NoValue:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00696}00696\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ delimiter\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00697}00697\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(\textcolor{stringliteral}{"{}fromtextfile()\ got\ multiple\ values\ for\ argument\ "{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00698}00698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}'delimiter'"{}})}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00699}00699\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ NumPy\ 1.22.0,\ 2021-\/09-\/23}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00700}00700\ \ \ \ \ \ \ \ \ warnings.warn(\textcolor{stringliteral}{"{}The\ 'delimitor'\ keyword\ argument\ of\ "{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00701}00701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}numpy.ma.mrecords.fromtextfile()\ is\ deprecated\ "{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00702}00702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}since\ NumPy\ 1.22.0,\ use\ 'delimiter'\ instead."{}},}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00703}00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DeprecationWarning,\ stacklevel=2)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00704}00704\ \ \ \ \ \ \ \ \ delimiter\ =\ delimitor}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00705}00705\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00706}00706\ \ \ \ \ \textcolor{comment}{\#\ Try\ to\ open\ the\ file.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00707}00707\ \ \ \ \ ftext\ =\ \mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a22873edcee19db441943bb08a5bd835a}{openfile}}(fname)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00708}00708\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00709}00709\ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ first\ non-\/empty\ line\ as\ the\ varnames}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00710}00710\ \ \ \ \ \textcolor{keywordflow}{while}\ \textcolor{keyword}{True}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00711}00711\ \ \ \ \ \ \ \ \ line\ =\ ftext.readline()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00712}00712\ \ \ \ \ \ \ \ \ firstline\ =\ line[:line.find(commentchar)].strip()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00713}00713\ \ \ \ \ \ \ \ \ \_varnames\ =\ firstline.split(delimiter)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00714}00714\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(\_varnames)\ >\ 1:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00715}00715\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00716}00716\ \ \ \ \ \textcolor{keywordflow}{if}\ varnames\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00717}00717\ \ \ \ \ \ \ \ \ varnames\ =\ \_varnames}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00718}00718\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00719}00719\ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ data.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00720}00720\ \ \ \ \ \_variables\ =\ masked\_array([line.strip().\mbox{\hyperlink{namespacenumpy_1_1lib_1_1shape__base_ad006c162baf5c4ae852b8b7a912732c0}{split}}(delimiter)\ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ ftext}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00721}00721\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ line[0]\ !=\ commentchar\ \textcolor{keywordflow}{and}\ len(line)\ >\ 1])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00722}00722\ \ \ \ \ (\_,\ nfields)\ =\ \_variables.shape}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00723}00723\ \ \ \ \ ftext.close()}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00724}00724\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00725}00725\ \ \ \ \ \textcolor{comment}{\#\ Try\ to\ guess\ the\ dtype.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00726}00726\ \ \ \ \ \textcolor{keywordflow}{if}\ vartypes\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00727}00727\ \ \ \ \ \ \ \ \ vartypes\ =\ \mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a92d74f417cb061c8401460ac6ff5e39c}{\_guessvartypes}}(\_variables[0])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00728}00728\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00729}00729\ \ \ \ \ \ \ \ \ vartypes\ =\ [np.dtype(v)\ \textcolor{keywordflow}{for}\ v\ \textcolor{keywordflow}{in}\ vartypes]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00730}00730\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(vartypes)\ !=\ nfields:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00731}00731\ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ \textcolor{stringliteral}{"{}Attempting\ to\ \%i\ dtypes\ for\ \%i\ fields!"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00732}00732\ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ Reverting\ to\ default."{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00733}00733\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(msg\ \%\ (len(vartypes),\ nfields),\ stacklevel=2)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00734}00734\ \ \ \ \ \ \ \ \ \ \ \ \ vartypes\ =\ \mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a92d74f417cb061c8401460ac6ff5e39c}{\_guessvartypes}}(\_variables[0])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00735}00735\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00736}00736\ \ \ \ \ \textcolor{comment}{\#\ Construct\ the\ descriptor.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00737}00737\ \ \ \ \ mdescr\ =\ [(n,\ f)\ \textcolor{keywordflow}{for}\ (n,\ f)\ \textcolor{keywordflow}{in}\ zip(varnames,\ vartypes)]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00738}00738\ \ \ \ \ mfillv\ =\ [ma.default\_fill\_value(f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ vartypes]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00739}00739\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00740}00740\ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ data\ and\ the\ mask.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00741}00741\ \ \ \ \ \textcolor{comment}{\#\ We\ just\ need\ a\ list\ of\ masked\_arrays.\ It's\ easier\ to\ create\ it\ like\ that:}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00742}00742\ \ \ \ \ \_mask\ =\ (\_variables.T\ ==\ missingchar)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00743}00743\ \ \ \ \ \_datalist\ =\ [masked\_array(a,\ mask=m,\ dtype=t,\ fill\_value=f)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00744}00744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (a,\ m,\ t,\ f)\ \textcolor{keywordflow}{in}\ zip(\_variables.T,\ \_mask,\ vartypes,\ mfillv)]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00745}00745\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00746}00746\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_ab43d191ac82715000ccf366314aae85f}{fromarrays}}(\_datalist,\ dtype=mdescr)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00747}00747\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00748}00748\ }
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00749}\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a9e597e56b466573582f685d159ad17df}{00749}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1ma_1_1mrecords_a9e597e56b466573582f685d159ad17df}{addfield}}(mrecord,\ newfield,\ newfieldname=None):}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00750}00750\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adds\ a\ new\ field\ to\ the\ masked\ record\ array}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00751}00751\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00752}00752\ \textcolor{stringliteral}{\ \ \ \ Uses\ \`{}newfield\`{}\ as\ data\ and\ \`{}newfieldname\`{}\ as\ name.\ If\ \`{}newfieldname\`{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00753}00753\ \textcolor{stringliteral}{\ \ \ \ is\ None,\ the\ new\ field\ name\ is\ set\ to\ 'fi',\ where\ \`{}i\`{}\ is\ the\ number\ of}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00754}00754\ \textcolor{stringliteral}{\ \ \ \ existing\ fields.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00755}00755\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00756}00756\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00757}00757\ \ \ \ \ \_data\ =\ mrecord.\_data}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00758}00758\ \ \ \ \ \_mask\ =\ mrecord.\_mask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00759}00759\ \ \ \ \ \textcolor{keywordflow}{if}\ newfieldname\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{or}\ newfieldname\ \textcolor{keywordflow}{in}\ reserved\_fields:}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00760}00760\ \ \ \ \ \ \ \ \ newfieldname\ =\ \textcolor{stringliteral}{'f\%i'}\ \%\ len(\_data.dtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00761}00761\ \ \ \ \ newfield\ =\ ma.array(newfield)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00762}00762\ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ new\ data.}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00763}00763\ \ \ \ \ \textcolor{comment}{\#\ Create\ a\ new\ empty\ recarray}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00764}00764\ \ \ \ \ newdtype\ =\ np.dtype(\_data.dtype.descr\ +\ [(newfieldname,\ newfield.dtype)])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00765}00765\ \ \ \ \ newdata\ =\ \mbox{\hyperlink{classnumpy_1_1core_1_1records_1_1recarray}{recarray}}(\_data.shape,\ newdtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00766}00766\ \ \ \ \ \textcolor{comment}{\#\ Add\ the\ existing\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00767}00767\ \ \ \ \ [newdata.setfield(\_data.getfield(*f),\ *f)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00768}00768\ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ \_data.dtype.fields.values()]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00769}00769\ \ \ \ \ \textcolor{comment}{\#\ Add\ the\ new\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00770}00770\ \ \ \ \ newdata.setfield(newfield.\_data,\ *newdata.dtype.fields[newfieldname])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00771}00771\ \ \ \ \ newdata\ =\ newdata.view(MaskedRecords)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00772}00772\ \ \ \ \ \textcolor{comment}{\#\ Get\ the\ new\ mask}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00773}00773\ \ \ \ \ \textcolor{comment}{\#\ Create\ a\ new\ empty\ recarray}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00774}00774\ \ \ \ \ newmdtype\ =\ np.dtype([(n,\ bool\_)\ \textcolor{keywordflow}{for}\ n\ \textcolor{keywordflow}{in}\ newdtype.names])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00775}00775\ \ \ \ \ newmask\ =\ \mbox{\hyperlink{classnumpy_1_1core_1_1records_1_1recarray}{recarray}}(\_data.shape,\ newmdtype)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00776}00776\ \ \ \ \ \textcolor{comment}{\#\ Add\ the\ old\ masks}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00777}00777\ \ \ \ \ [newmask.setfield(\_mask.getfield(*f),\ *f)}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00778}00778\ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ \_mask.dtype.fields.values()]}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00779}00779\ \ \ \ \ \textcolor{comment}{\#\ Add\ the\ mask\ of\ the\ new\ field}}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00780}00780\ \ \ \ \ newmask.setfield(\mbox{\hyperlink{namespacenumpy_1_1ma_1_1core_adb1639d29d31fafd121ba5ac18236508}{getmaskarray}}(newfield),}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00781}00781\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *newmask.dtype.fields[newfieldname])}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00782}00782\ \ \ \ \ newdata.\_mask\ =\ newmask}
\DoxyCodeLine{\Hypertarget{mrecords_8py_source_l00783}00783\ \ \ \ \ \textcolor{keywordflow}{return}\ newdata}

\end{DoxyCode}
