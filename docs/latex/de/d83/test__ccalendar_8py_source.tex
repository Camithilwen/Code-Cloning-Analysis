\doxysection{test\+\_\+ccalendar.\+py}
\hypertarget{test__ccalendar_8py_source}{}\label{test__ccalendar_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pandas/tests/tslibs/test\_ccalendar.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pandas/tests/tslibs/test\_ccalendar.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00001}\mbox{\hyperlink{namespacepandas_1_1tests_1_1tslibs_1_1test__ccalendar}{00001}}\ \textcolor{keyword}{from}\ datetime\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00002}00002\ \ \ \ \ date,}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00003}00003\ \ \ \ \ datetime,}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00004}00004\ )}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00006}00006\ \textcolor{keyword}{from}\ hypothesis\ \textcolor{keyword}{import}\ given}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00007}00007\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00008}00008\ \textcolor{keyword}{import}\ pytest}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00010}00010\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1__libs_1_1tslibs}{pandas.\_libs.tslibs}}\ \textcolor{keyword}{import}\ ccalendar}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00012}00012\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1__testing_1_1__hypothesis}{pandas.\_testing.\_hypothesis}}\ \textcolor{keyword}{import}\ DATETIME\_IN\_PD\_TIMESTAMP\_RANGE\_NO\_TZ}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00015}00015\ \textcolor{preprocessor}{@pytest.mark.parametrize}(}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00016}00016\ \ \ \ \ \textcolor{stringliteral}{"{}date\_tuple,expected"{}},}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00017}00017\ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ ((2001,\ 3,\ 1),\ 60),}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ ((2004,\ 3,\ 1),\ 61),}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ ((1907,\ 12,\ 31),\ 365),\ \ \textcolor{comment}{\#\ End-\/of-\/year,\ non-\/leap\ year.}}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ ((2004,\ 12,\ 31),\ 366),\ \ \textcolor{comment}{\#\ End-\/of-\/year,\ leap\ year.}}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00022}00022\ \ \ \ \ ],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00023}00023\ )}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00024}00024\ \textcolor{keyword}{def\ }test\_get\_day\_of\_year\_numeric(date\_tuple,\ expected):}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00025}00025\ \ \ \ \ \textcolor{keyword}{assert}\ ccalendar.get\_day\_of\_year(*date\_tuple)\ ==\ expected}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00028}00028\ \textcolor{keyword}{def\ }test\_get\_day\_of\_year\_dt():}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00029}00029\ \ \ \ \ dt\ =\ datetime.fromordinal(1\ +\ np.random.default\_rng(2).integers(365\ *\ 4000))}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00030}00030\ \ \ \ \ result\ =\ ccalendar.get\_day\_of\_year(dt.year,\ dt.month,\ dt.day)}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00032}00032\ \ \ \ \ expected\ =\ (dt\ -\/\ dt.replace(month=1,\ day=1)).days\ +\ 1}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00033}00033\ \ \ \ \ \textcolor{keyword}{assert}\ result\ ==\ expected}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00036}00036\ \textcolor{preprocessor}{@pytest.mark.parametrize}(}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00037}00037\ \ \ \ \ \textcolor{stringliteral}{"{}input\_date\_tuple,\ expected\_iso\_tuple"{}},}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00038}00038\ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ [(2020,\ 1,\ 1),\ (2020,\ 1,\ 3)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ [(2019,\ 12,\ 31),\ (2020,\ 1,\ 2)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ [(2019,\ 12,\ 30),\ (2020,\ 1,\ 1)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ [(2009,\ 12,\ 31),\ (2009,\ 53,\ 4)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ [(2010,\ 1,\ 1),\ (2009,\ 53,\ 5)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ [(2010,\ 1,\ 3),\ (2009,\ 53,\ 7)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ [(2010,\ 1,\ 4),\ (2010,\ 1,\ 1)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ [(2006,\ 1,\ 1),\ (2005,\ 52,\ 7)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ [(2005,\ 12,\ 31),\ (2005,\ 52,\ 6)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ [(2008,\ 12,\ 28),\ (2008,\ 52,\ 7)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ [(2008,\ 12,\ 29),\ (2009,\ 1,\ 1)],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00050}00050\ \ \ \ \ ],}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00051}00051\ )}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00052}00052\ \textcolor{keyword}{def\ }test\_dt\_correct\_iso\_8601\_year\_week\_and\_day(input\_date\_tuple,\ expected\_iso\_tuple):}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00053}00053\ \ \ \ \ result\ =\ ccalendar.get\_iso\_calendar(*input\_date\_tuple)}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00054}00054\ \ \ \ \ expected\_from\_date\_isocalendar\ =\ date(*input\_date\_tuple).isocalendar()}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00055}00055\ \ \ \ \ \textcolor{keyword}{assert}\ result\ ==\ expected\_from\_date\_isocalendar}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00056}00056\ \ \ \ \ \textcolor{keyword}{assert}\ result\ ==\ expected\_iso\_tuple}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00059}00059\ \textcolor{preprocessor}{@given(DATETIME\_IN\_PD\_TIMESTAMP\_RANGE\_NO\_TZ)}}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00060}00060\ \textcolor{keyword}{def\ }test\_isocalendar(dt):}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00061}00061\ \ \ \ \ expected\ =\ dt.isocalendar()}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00062}00062\ \ \ \ \ result\ =\ ccalendar.get\_iso\_calendar(dt.year,\ dt.month,\ dt.day)}
\DoxyCodeLine{\Hypertarget{test__ccalendar_8py_source_l00063}00063\ \ \ \ \ \textcolor{keyword}{assert}\ result\ ==\ expected}

\end{DoxyCode}
