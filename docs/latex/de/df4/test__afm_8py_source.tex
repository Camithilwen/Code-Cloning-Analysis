\doxysection{test\+\_\+afm.\+py}
\hypertarget{test__afm_8py_source}{}\label{test__afm_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/matplotlib/tests/test\_afm.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/matplotlib/tests/test\_afm.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00001}\mbox{\hyperlink{namespacematplotlib_1_1tests_1_1test__afm}{00001}}\ \textcolor{keyword}{from}\ io\ \textcolor{keyword}{import}\ BytesIO}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00002}00002\ \textcolor{keyword}{import}\ pytest}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00003}00003\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00005}00005\ \textcolor{keyword}{from}\ matplotlib\ \textcolor{keyword}{import}\ \_afm}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00006}00006\ \textcolor{keyword}{from}\ matplotlib\ \textcolor{keyword}{import}\ font\_manager\ \textcolor{keyword}{as}\ fm}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00009}00009\ \textcolor{comment}{\#\ See\ note\ in\ afm.py\ re:\ use\ of\ comma\ as\ decimal\ separator\ in\ the}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00010}00010\ \textcolor{comment}{\#\ UnderlineThickness\ field\ and\ re:\ use\ of\ non-\/ASCII\ characters\ in\ the\ Notice}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00011}00011\ \textcolor{comment}{\#\ field.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00012}00012\ AFM\_TEST\_DATA\ =\ b\textcolor{stringliteral}{"{}"{}"{}StartFontMetrics\ 2.0}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00013}00013\ \textcolor{stringliteral}{Comment\ Comments\ are\ ignored.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00014}00014\ \textcolor{stringliteral}{Comment\ Creation\ Date:Mon\ Nov\ 13\ 12:34:11\ GMT\ 2017}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00015}00015\ \textcolor{stringliteral}{FontName\ MyFont-\/Bold}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00016}00016\ \textcolor{stringliteral}{EncodingScheme\ FontSpecific}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00017}00017\ \textcolor{stringliteral}{FullName\ My\ Font\ Bold}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00018}00018\ \textcolor{stringliteral}{FamilyName\ Test\ Fonts}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00019}00019\ \textcolor{stringliteral}{Weight\ Bold}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00020}00020\ \textcolor{stringliteral}{ItalicAngle\ 0.0}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00021}00021\ \textcolor{stringliteral}{IsFixedPitch\ false}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00022}00022\ \textcolor{stringliteral}{UnderlinePosition\ -\/100}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00023}00023\ \textcolor{stringliteral}{UnderlineThickness\ 56,789}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00024}00024\ \textcolor{stringliteral}{Version\ 001.000}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00025}00025\ \textcolor{stringliteral}{Notice\ Copyright\ \(\backslash\)xa9\ 2017\ No\ one.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00026}00026\ \textcolor{stringliteral}{FontBBox\ 0\ -\/321\ 1234\ 369}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00027}00027\ \textcolor{stringliteral}{StartCharMetrics\ 3}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00028}00028\ \textcolor{stringliteral}{C\ 0\ ;\ WX\ 250\ ;\ N\ space\ ;\ B\ 0\ 0\ 0\ 0\ ;}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00029}00029\ \textcolor{stringliteral}{C\ 42\ ;\ WX\ 1141\ ;\ N\ foo\ ;\ B\ 40\ 60\ 800\ 360\ ;}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00030}00030\ \textcolor{stringliteral}{C\ 99\ ;\ WX\ 583\ ;\ N\ bar\ ;\ B\ 40\ -\/10\ 543\ 210\ ;}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00031}00031\ \textcolor{stringliteral}{EndCharMetrics}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00032}00032\ \textcolor{stringliteral}{EndFontMetrics}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00033}00033\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00036}00036\ \textcolor{keyword}{def\ }test\_nonascii\_str():}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00037}00037\ \ \ \ \ \textcolor{comment}{\#\ This\ tests\ that\ we\ also\ decode\ bytes\ as\ utf-\/8\ properly.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00038}00038\ \ \ \ \ \textcolor{comment}{\#\ Else,\ font\ files\ with\ non\ ascii\ characters\ fail\ to\ load.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00039}00039\ \ \ \ \ inp\_str\ =\ \textcolor{stringliteral}{"{}привет"{}}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00040}00040\ \ \ \ \ byte\_str\ =\ inp\_str.encode(\textcolor{stringliteral}{"{}utf8"{}})}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00042}00042\ \ \ \ \ ret\ =\ \_afm.\_to\_str(byte\_str)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00043}00043\ \ \ \ \ \textcolor{keyword}{assert}\ ret\ ==\ inp\_str}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00046}00046\ \textcolor{keyword}{def\ }test\_parse\_header():}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00047}00047\ \ \ \ \ fh\ =\ \mbox{\hyperlink{classBytesIO}{BytesIO}}(AFM\_TEST\_DATA)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00048}00048\ \ \ \ \ header\ =\ \_afm.\_parse\_header(fh)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00049}00049\ \ \ \ \ \textcolor{keyword}{assert}\ header\ ==\ \{}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'StartFontMetrics'}:\ 2.0,}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'FontName'}:\ \textcolor{stringliteral}{'MyFont-\/Bold'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'EncodingScheme'}:\ \textcolor{stringliteral}{'FontSpecific'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'FullName'}:\ \textcolor{stringliteral}{'My\ Font\ Bold'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'FamilyName'}:\ \textcolor{stringliteral}{'Test\ Fonts'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'Weight'}:\ \textcolor{stringliteral}{'Bold'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'ItalicAngle'}:\ 0.0,}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'IsFixedPitch'}:\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'UnderlinePosition'}:\ -\/100,}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'UnderlineThickness'}:\ 56.789,}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'Version'}:\ \textcolor{stringliteral}{'001.000'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'Notice'}:\ b\textcolor{stringliteral}{'Copyright\ \(\backslash\)xa9\ 2017\ No\ one.'},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'FontBBox'}:\ [0,\ -\/321,\ 1234,\ 369],}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'StartCharMetrics'}:\ 3,}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00064}00064\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00067}00067\ \textcolor{keyword}{def\ }test\_parse\_char\_metrics():}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00068}00068\ \ \ \ \ fh\ =\ \mbox{\hyperlink{classBytesIO}{BytesIO}}(AFM\_TEST\_DATA)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00069}00069\ \ \ \ \ \_afm.\_parse\_header(fh)\ \ \textcolor{comment}{\#\ position}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00070}00070\ \ \ \ \ metrics\ =\ \_afm.\_parse\_char\_metrics(fh)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00071}00071\ \ \ \ \ \textcolor{keyword}{assert}\ metrics\ ==\ (}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \{0:\ (250.0,\ \textcolor{stringliteral}{'space'},\ [0,\ 0,\ 0,\ 0]),}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ 42:\ (1141.0,\ \textcolor{stringliteral}{'foo'},\ [40,\ 60,\ 800,\ 360]),}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \ 99:\ (583.0,\ \textcolor{stringliteral}{'bar'},\ [40,\ -\/10,\ 543,\ 210]),}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \{\textcolor{stringliteral}{'space'}:\ (250.0,\ \textcolor{stringliteral}{'space'},\ [0,\ 0,\ 0,\ 0]),}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'foo'}:\ (1141.0,\ \textcolor{stringliteral}{'foo'},\ [40,\ 60,\ 800,\ 360]),}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'bar'}:\ (583.0,\ \textcolor{stringliteral}{'bar'},\ [40,\ -\/10,\ 543,\ 210]),}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \})}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00082}00082\ \textcolor{keyword}{def\ }test\_get\_familyname\_guessed():}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00083}00083\ \ \ \ \ fh\ =\ \mbox{\hyperlink{classBytesIO}{BytesIO}}(AFM\_TEST\_DATA)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00084}00084\ \ \ \ \ font\ =\ \mbox{\hyperlink{classmatplotlib_1_1__afm_1_1AFM}{\_afm.AFM}}(fh)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00085}00085\ \ \ \ \ del\ font.\_header[b\textcolor{stringliteral}{'FamilyName'}]\ \ \textcolor{comment}{\#\ remove\ FamilyName,\ so\ we\ have\ to\ guess}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00086}00086\ \ \ \ \ \textcolor{keyword}{assert}\ font.get\_familyname()\ ==\ \textcolor{stringliteral}{'My\ Font'}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00089}00089\ \textcolor{keyword}{def\ }test\_font\_manager\_weight\_normalization():}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00090}00090\ \ \ \ \ font\ =\ \mbox{\hyperlink{classmatplotlib_1_1__afm_1_1AFM}{\_afm.AFM}}(\mbox{\hyperlink{classBytesIO}{BytesIO}}(}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ AFM\_TEST\_DATA.replace(b\textcolor{stringliteral}{"{}Weight\ Bold\(\backslash\)n"{}},\ b\textcolor{stringliteral}{"{}Weight\ Custom\(\backslash\)n"{}})))}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00092}00092\ \ \ \ \ \textcolor{keyword}{assert}\ fm.afmFontProperty(\textcolor{stringliteral}{"{}"{}},\ font).weight\ ==\ \textcolor{stringliteral}{"{}normal"{}}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00095}00095\ \textcolor{preprocessor}{@pytest.mark.parametrize}(}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00096}00096\ \ \ \ \ \textcolor{stringliteral}{"{}afm\_data"{}},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00097}00097\ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{"{}"{}"{}nope}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00099}00099\ \textcolor{stringliteral}{really\ nope"{}"{}"{}},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{"{}"{}"{}StartFontMetrics\ 2.0}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00101}00101\ \textcolor{stringliteral}{Comment\ Comments\ are\ ignored.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00102}00102\ \textcolor{stringliteral}{Comment\ Creation\ Date:Mon\ Nov\ 13\ 12:34:11\ GMT\ 2017}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00103}00103\ \textcolor{stringliteral}{FontName\ MyFont-\/Bold}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00104}00104\ \textcolor{stringliteral}{EncodingScheme\ FontSpecific"{}"{}"{}},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00105}00105\ \ \ \ \ ],}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00106}00106\ )}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00107}00107\ \textcolor{keyword}{def\ }test\_bad\_afm(afm\_data):}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00108}00108\ \ \ \ \ fh\ =\ \mbox{\hyperlink{classBytesIO}{BytesIO}}(afm\_data)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00109}00109\ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(RuntimeError):}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \_afm.\_parse\_header(fh)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00113}00113\ \textcolor{preprocessor}{@pytest.mark.parametrize}(}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00114}00114\ \ \ \ \ \textcolor{stringliteral}{"{}afm\_data"{}},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00115}00115\ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{"{}"{}"{}StartFontMetrics\ 2.0}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00117}00117\ \textcolor{stringliteral}{Comment\ Comments\ are\ ignored.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00118}00118\ \textcolor{stringliteral}{Comment\ Creation\ Date:Mon\ Nov\ 13\ 12:34:11\ GMT\ 2017}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00119}00119\ \textcolor{stringliteral}{Aardvark\ bob}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00120}00120\ \textcolor{stringliteral}{FontName\ MyFont-\/Bold}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00121}00121\ \textcolor{stringliteral}{EncodingScheme\ FontSpecific}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00122}00122\ \textcolor{stringliteral}{StartCharMetrics\ 3"{}"{}"{}},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{"{}"{}"{}StartFontMetrics\ 2.0}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00124}00124\ \textcolor{stringliteral}{Comment\ Comments\ are\ ignored.}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00125}00125\ \textcolor{stringliteral}{Comment\ Creation\ Date:Mon\ Nov\ 13\ 12:34:11\ GMT\ 2017}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00126}00126\ \textcolor{stringliteral}{ItalicAngle\ zero\ degrees}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00127}00127\ \textcolor{stringliteral}{FontName\ MyFont-\/Bold}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00128}00128\ \textcolor{stringliteral}{EncodingScheme\ FontSpecific}}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00129}00129\ \textcolor{stringliteral}{StartCharMetrics\ 3"{}"{}"{}},}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00130}00130\ \ \ \ \ ],}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00131}00131\ )}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00132}00132\ \textcolor{keyword}{def\ }test\_malformed\_header(afm\_data,\ caplog):}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00133}00133\ \ \ \ \ fh\ =\ \mbox{\hyperlink{classBytesIO}{BytesIO}}(afm\_data)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00134}00134\ \ \ \ \ \textcolor{keyword}{with}\ caplog.at\_level(logging.ERROR):}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ \_afm.\_parse\_header(fh)}
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{test__afm_8py_source_l00137}00137\ \ \ \ \ \textcolor{keyword}{assert}\ len(caplog.records)\ ==\ 1}

\end{DoxyCode}
