\doxysection{sklearn.\+utils.\+graph Namespace Reference}
\hypertarget{namespacesklearn_1_1utils_1_1graph}{}\label{namespacesklearn_1_1utils_1_1graph}\index{sklearn.utils.graph@{sklearn.utils.graph}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1graph_ad0c0f6a5fe36f8bc40e0e0aea838b8ab}{single\+\_\+source\+\_\+shortest\+\_\+path\+\_\+length}} (graph, source, \texorpdfstring{$\ast$}{*}, cutoff=None)
\begin{DoxyCompactList}\small\item\em Path and connected component analysis. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesklearn_1_1utils_1_1graph_a3b43ec8cd94c0c57d9cb529d73bd8a67}{\+\_\+fix\+\_\+connected\+\_\+components}} (X, graph, n\+\_\+connected\+\_\+components, component\+\_\+labels, mode="{}distance"{}, metric="{}euclidean"{}, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}kwargs)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Graph utilities and algorithms.\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacesklearn_1_1utils_1_1graph_a3b43ec8cd94c0c57d9cb529d73bd8a67}\index{sklearn.utils.graph@{sklearn.utils.graph}!\_fix\_connected\_components@{\_fix\_connected\_components}}
\index{\_fix\_connected\_components@{\_fix\_connected\_components}!sklearn.utils.graph@{sklearn.utils.graph}}
\doxysubsubsection{\texorpdfstring{\_fix\_connected\_components()}{\_fix\_connected\_components()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1graph_a3b43ec8cd94c0c57d9cb529d73bd8a67} 
sklearn.\+utils.\+graph.\+\_\+fix\+\_\+connected\+\_\+components (\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{graph}{, }\item[{}]{n\+\_\+connected\+\_\+components}{, }\item[{}]{component\+\_\+labels}{, }\item[{}]{mode}{ = {\ttfamily "{}distance"{}}, }\item[{}]{metric}{ = {\ttfamily "{}euclidean"{}}, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{kwargs}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Add connections to sparse graph to connect unconnected components.

For each pair of unconnected components, compute all pairwise distances
from one component to the other, and add a connection on the closest pair
of samples. This is a hacky way to get a graph with a single connected
component, which is necessary for example to compute a shortest path
between all pairs of samples in the graph.

Parameters
----------
X : array of shape (n_samples, n_features) or (n_samples, n_samples)
    Features to compute the pairwise distances. If `metric =
    "precomputed"`, X is the matrix of pairwise distances.

graph : sparse matrix of shape (n_samples, n_samples)
    Graph of connection between samples.

n_connected_components : int
    Number of connected components, as computed by
    `scipy.sparse.csgraph.connected_components`.

component_labels : array of shape (n_samples)
    Labels of connected components, as computed by
    `scipy.sparse.csgraph.connected_components`.

mode : {'connectivity', 'distance'}, default='distance'
    Type of graph matrix: 'connectivity' corresponds to the connectivity
    matrix with ones and zeros, and 'distance' corresponds to the distances
    between neighbors according to the given metric.

metric : str
    Metric used in `sklearn.metrics.pairwise.pairwise_distances`.

kwargs : kwargs
    Keyword arguments passed to
    `sklearn.metrics.pairwise.pairwise_distances`.

Returns
-------
graph : sparse matrix of shape (n_samples, n_samples)
    Graph of connection between samples, with a single connected component.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{graph_8py_source_l00079}{79}} of file \mbox{\hyperlink{graph_8py_source}{graph.\+py}}.

\Hypertarget{namespacesklearn_1_1utils_1_1graph_ad0c0f6a5fe36f8bc40e0e0aea838b8ab}\index{sklearn.utils.graph@{sklearn.utils.graph}!single\_source\_shortest\_path\_length@{single\_source\_shortest\_path\_length}}
\index{single\_source\_shortest\_path\_length@{single\_source\_shortest\_path\_length}!sklearn.utils.graph@{sklearn.utils.graph}}
\doxysubsubsection{\texorpdfstring{single\_source\_shortest\_path\_length()}{single\_source\_shortest\_path\_length()}}
{\footnotesize\ttfamily \label{namespacesklearn_1_1utils_1_1graph_ad0c0f6a5fe36f8bc40e0e0aea838b8ab} 
sklearn.\+utils.\+graph.\+single\+\_\+source\+\_\+shortest\+\_\+path\+\_\+length (\begin{DoxyParamCaption}\item[{}]{graph}{, }\item[{}]{source}{, }\item[{\texorpdfstring{$\ast$}{*}}]{}{, }\item[{}]{cutoff}{ = {\ttfamily None}}\end{DoxyParamCaption})}



Path and connected component analysis. 

Code adapted from networkx

\begin{DoxyVerb}Return the length of the shortest path from source to all reachable nodes.

Parameters
----------
graph : {array-like, sparse matrix} of shape (n_nodes, n_nodes)
    Adjacency matrix of the graph. Sparse matrix of format LIL is
    preferred.

source : int
   Start node for path.

cutoff : int, default=None
    Depth to stop the search - only paths of length <= cutoff are returned.

Returns
-------
paths : dict
    Reachable end nodes mapped to length of path from source,
    i.e. `{end: path_length}`.

Examples
--------
>>> from sklearn.utils.graph import single_source_shortest_path_length
>>> import numpy as np
>>> graph = np.array([[ 0, 1, 0, 0],
...                   [ 1, 0, 1, 0],
...                   [ 0, 1, 0, 0],
...                   [ 0, 0, 0, 0]])
>>> single_source_shortest_path_length(graph, 0)
{0: 0, 1: 1, 2: 2}
>>> graph = np.ones((6, 6))
>>> sorted(single_source_shortest_path_length(graph, 2).items())
[(0, 1), (1, 1), (2, 0), (3, 1), (4, 1), (5, 1)]
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{graph_8py_source_l00024}{24}} of file \mbox{\hyperlink{graph_8py_source}{graph.\+py}}.

