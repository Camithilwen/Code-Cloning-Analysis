\doxysection{font\+Tools.\+var\+Lib.\+feature\+Vars Namespace Reference}
\hypertarget{namespacefontTools_1_1varLib_1_1featureVars}{}\label{namespacefontTools_1_1varLib_1_1featureVars}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classfontTools_1_1varLib_1_1featureVars_1_1ShifterVisitor}{Shifter\+Visitor}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a1a660cd1c7eb6f5046096d05152012c1}{add\+Feature\+Variations}} (font, conditional\+Substitutions, feature\+Tag="{}rvrn"{})
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a870ccccb419e302160eb51c945fbc094}{\+\_\+existing\+Variable\+Features}} (table)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a7fd05d756d391ca0a77856b79b3d450d}{\+\_\+check\+Substitution\+Glyphs\+Exist}} (glyph\+Names, substitutions)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a98455ef199d9013baf64572e88095604}{overlay\+Feature\+Variations}} (conditional\+Substitutions)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_ad4bd21f345e0baaaf925d482efa4d004}{overlay\+Box}} (top, bot)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_ab0f4124cf2154bc8fcc734f94b1999d8}{cleanup\+Box}} (box)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a2db79079995931eaaedf5007c504bf00}{add\+Feature\+Variations\+Raw}} (font, table, conditional\+Substitutions, feature\+Tag="{}rvrn"{})
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_aa3abda32a4614269287cb36afcbeb11e}{build\+GSUB}} ()
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_acd511c6d4af6324ff25fa997792aab0b}{make\+Substitutions\+Hashable}} (conditional\+Substitutions)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_aace29a7db222d8b47bd6ce269c23dccb}{visit}} (visitor, obj, attr, value)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a963078fcf8a17fd5359054e705320fe4}{build\+Substitution\+Lookups}} (gsub, all\+Substitutions, process\+Last=False)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_abeeec6b6cec97d63c63e8fc438c0457c}{build\+Feature\+Variations}} (feature\+Variation\+Records)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a812b8ccc3d259dce927a918c62ecb05c}{build\+Feature\+Record}} (feature\+Tag, lookup\+List\+Indices)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a7f152e80d7e173306b7743e0c808b7aa}{build\+Feature\+Variation\+Record}} (condition\+Table, substitution\+Records)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_affa50ed71fc354a331f772d998b11bad}{build\+Feature\+Table\+Substitution\+Record}} (feature\+Index, lookup\+List\+Indices)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_acfb52f6a7fb266da42b04dfd886d0b89}{build\+Condition\+Table}} (axis\+Index, filter\+Range\+Min\+Value, filter\+Range\+Max\+Value)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a25c4d0f9d0481e4c6d9a976782d9105f}{find\+Feature\+Variation\+Record}} (feature\+Variations, condition\+Table)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a71bbc76b3ecb3a9ce0dd4de99e99e156}{sort\+Feature\+List}} (table)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_a0dca2df9f8535a3e301d2520a9af8561}{remap\+Features}} (table, feature\+Remap)
\item 
\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1featureVars_aeffe07cebc1e166a12f872c422d83a0d}{\+\_\+remap\+Lang\+Sys}} (lang\+Sys, feature\+Remap)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Module to build FeatureVariation tables:
https://docs.microsoft.com/en-us/typography/opentype/spec/chapter2#featurevariations-table

NOTE: The API is experimental and subject to change.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a7fd05d756d391ca0a77856b79b3d450d}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!\_checkSubstitutionGlyphsExist@{\_checkSubstitutionGlyphsExist}}
\index{\_checkSubstitutionGlyphsExist@{\_checkSubstitutionGlyphsExist}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{\_checkSubstitutionGlyphsExist()}{\_checkSubstitutionGlyphsExist()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a7fd05d756d391ca0a77856b79b3d450d} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+\_\+check\+Substitution\+Glyphs\+Exist (\begin{DoxyParamCaption}\item[{}]{glyph\+Names}{, }\item[{}]{substitutions}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{featureVars_8py_source_l00109}{109}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a870ccccb419e302160eb51c945fbc094}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!\_existingVariableFeatures@{\_existingVariableFeatures}}
\index{\_existingVariableFeatures@{\_existingVariableFeatures}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{\_existingVariableFeatures()}{\_existingVariableFeatures()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a870ccccb419e302160eb51c945fbc094} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+\_\+existing\+Variable\+Features (\begin{DoxyParamCaption}\item[{}]{table}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{featureVars_8py_source_l00099}{99}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_aeffe07cebc1e166a12f872c422d83a0d}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!\_remapLangSys@{\_remapLangSys}}
\index{\_remapLangSys@{\_remapLangSys}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{\_remapLangSys()}{\_remapLangSys()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_aeffe07cebc1e166a12f872c422d83a0d} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+\_\+remap\+Lang\+Sys (\begin{DoxyParamCaption}\item[{}]{lang\+Sys}{, }\item[{}]{feature\+Remap}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{featureVars_8py_source_l00686}{686}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a1a660cd1c7eb6f5046096d05152012c1}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!addFeatureVariations@{addFeatureVariations}}
\index{addFeatureVariations@{addFeatureVariations}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{addFeatureVariations()}{addFeatureVariations()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a1a660cd1c7eb6f5046096d05152012c1} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+add\+Feature\+Variations (\begin{DoxyParamCaption}\item[{}]{font}{, }\item[{}]{conditional\+Substitutions}{, }\item[{}]{feature\+Tag}{ = {\ttfamily "{}rvrn"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Add conditional substitutions to a Variable Font.

The `conditionalSubstitutions` argument is a list of (Region, Substitutions)
tuples.

A Region is a list of Boxes. A Box is a dict mapping axisTags to
(minValue, maxValue) tuples. Irrelevant axes may be omitted and they are
interpretted as extending to end of axis in each direction.  A Box represents
an orthogonal 'rectangular' subset of an N-dimensional design space.
A Region represents a more complex subset of an N-dimensional design space,
ie. the union of all the Boxes in the Region.
For efficiency, Boxes within a Region should ideally not overlap, but
functionality is not compromised if they do.

The minimum and maximum values are expressed in normalized coordinates.

A Substitution is a dict mapping source glyph names to substitute glyph names.

Example:

# >>> f = TTFont(srcPath)
# >>> condSubst = [
# ...     # A list of (Region, Substitution) tuples.
# ...     ([{"wdth": (0.5, 1.0)}], {"cent": "cent.rvrn"}),
# ...     ([{"wght": (0.5, 1.0)}], {"dollar": "dollar.rvrn"}),
# ... ]
# >>> addFeatureVariations(f, condSubst)
# >>> f.save(dstPath)

The `featureTag` parameter takes either a str or a iterable of str (the single str
is kept for backwards compatibility), and defines which feature(s) will be
associated with the feature variations.
Note, if this is "rvrn", then the substitution lookup will be inserted at the
beginning of the lookup list so that it is processed before others, otherwise
for any other feature tags it will be appended last.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00018}{18}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



References \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}, \mbox{\hyperlink{featureVars_8py_source_l00482}{build\+GSUB()}}, \mbox{\hyperlink{featureVars_8py_source_l00550}{build\+Substitution\+Lookups()}}, \mbox{\hyperlink{featureVars_8py_source_l00515}{make\+Substitutions\+Hashable()}}, and \mbox{\hyperlink{featureVars_8py_source_l00122}{overlay\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a2db79079995931eaaedf5007c504bf00}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!addFeatureVariationsRaw@{addFeatureVariationsRaw}}
\index{addFeatureVariationsRaw@{addFeatureVariationsRaw}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{addFeatureVariationsRaw()}{addFeatureVariationsRaw()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a2db79079995931eaaedf5007c504bf00} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+add\+Feature\+Variations\+Raw (\begin{DoxyParamCaption}\item[{}]{font}{, }\item[{}]{table}{, }\item[{}]{conditional\+Substitutions}{, }\item[{}]{feature\+Tag}{ = {\ttfamily "{}rvrn"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Low level implementation of addFeatureVariations that directly
models the possibilities of the FeatureVariations table.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00351}{351}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



References \mbox{\hyperlink{featureVars_8py_source_l00626}{build\+Condition\+Table()}}, \mbox{\hyperlink{featureVars_8py_source_l00590}{build\+Feature\+Record()}}, \mbox{\hyperlink{featureVars_8py_source_l00616}{build\+Feature\+Table\+Substitution\+Record()}}, \mbox{\hyperlink{featureVars_8py_source_l00600}{build\+Feature\+Variation\+Record()}}, \mbox{\hyperlink{featureVars_8py_source_l00581}{build\+Feature\+Variations()}}, \mbox{\hyperlink{featureVars_8py_source_l00636}{find\+Feature\+Variation\+Record()}}, and \mbox{\hyperlink{featureVars_8py_source_l00651}{sort\+Feature\+List()}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00018}{add\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_acfb52f6a7fb266da42b04dfd886d0b89}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildConditionTable@{buildConditionTable}}
\index{buildConditionTable@{buildConditionTable}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildConditionTable()}{buildConditionTable()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_acfb52f6a7fb266da42b04dfd886d0b89} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+Condition\+Table (\begin{DoxyParamCaption}\item[{}]{axis\+Index}{, }\item[{}]{filter\+Range\+Min\+Value}{, }\item[{}]{filter\+Range\+Max\+Value}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a ConditionTable.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00626}{626}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a812b8ccc3d259dce927a918c62ecb05c}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildFeatureRecord@{buildFeatureRecord}}
\index{buildFeatureRecord@{buildFeatureRecord}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildFeatureRecord()}{buildFeatureRecord()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a812b8ccc3d259dce927a918c62ecb05c} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+Feature\+Record (\begin{DoxyParamCaption}\item[{}]{feature\+Tag}{, }\item[{}]{lookup\+List\+Indices}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a FeatureRecord.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00590}{590}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_affa50ed71fc354a331f772d998b11bad}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildFeatureTableSubstitutionRecord@{buildFeatureTableSubstitutionRecord}}
\index{buildFeatureTableSubstitutionRecord@{buildFeatureTableSubstitutionRecord}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildFeatureTableSubstitutionRecord()}{buildFeatureTableSubstitutionRecord()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_affa50ed71fc354a331f772d998b11bad} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+Feature\+Table\+Substitution\+Record (\begin{DoxyParamCaption}\item[{}]{feature\+Index}{, }\item[{}]{lookup\+List\+Indices}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a FeatureTableSubstitutionRecord.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00616}{616}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a7f152e80d7e173306b7743e0c808b7aa}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildFeatureVariationRecord@{buildFeatureVariationRecord}}
\index{buildFeatureVariationRecord@{buildFeatureVariationRecord}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildFeatureVariationRecord()}{buildFeatureVariationRecord()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a7f152e80d7e173306b7743e0c808b7aa} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+Feature\+Variation\+Record (\begin{DoxyParamCaption}\item[{}]{condition\+Table}{, }\item[{}]{substitution\+Records}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a FeatureVariationRecord.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00600}{600}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_abeeec6b6cec97d63c63e8fc438c0457c}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildFeatureVariations@{buildFeatureVariations}}
\index{buildFeatureVariations@{buildFeatureVariations}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildFeatureVariations()}{buildFeatureVariations()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_abeeec6b6cec97d63c63e8fc438c0457c} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+Feature\+Variations (\begin{DoxyParamCaption}\item[{}]{feature\+Variation\+Records}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build the FeatureVariations subtable.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00581}{581}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_aa3abda32a4614269287cb36afcbeb11e}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildGSUB@{buildGSUB}}
\index{buildGSUB@{buildGSUB}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildGSUB()}{buildGSUB()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_aa3abda32a4614269287cb36afcbeb11e} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+GSUB (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a GSUB table from scratch.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00482}{482}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00018}{add\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a963078fcf8a17fd5359054e705320fe4}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!buildSubstitutionLookups@{buildSubstitutionLookups}}
\index{buildSubstitutionLookups@{buildSubstitutionLookups}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{buildSubstitutionLookups()}{buildSubstitutionLookups()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a963078fcf8a17fd5359054e705320fe4} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+build\+Substitution\+Lookups (\begin{DoxyParamCaption}\item[{}]{gsub}{, }\item[{}]{all\+Substitutions}{, }\item[{}]{process\+Last}{ = {\ttfamily False}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build the lookups for the glyph substitutions, return a dict mapping
the substitution to lookup indices.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00550}{550}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00018}{add\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_ab0f4124cf2154bc8fcc734f94b1999d8}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!cleanupBox@{cleanupBox}}
\index{cleanupBox@{cleanupBox}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{cleanupBox()}{cleanupBox()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_ab0f4124cf2154bc8fcc734f94b1999d8} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+cleanup\+Box (\begin{DoxyParamCaption}\item[{}]{box}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a sparse copy of `box`, without redundant (default) values.

>>> cleanupBox({})
{}
>>> cleanupBox({'wdth': (0.0, 1.0)})
{'wdth': (0.0, 1.0)}
>>> cleanupBox({'wdth': (-1.0, 1.0)})
{}
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00332}{332}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00122}{overlay\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a25c4d0f9d0481e4c6d9a976782d9105f}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!findFeatureVariationRecord@{findFeatureVariationRecord}}
\index{findFeatureVariationRecord@{findFeatureVariationRecord}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{findFeatureVariationRecord()}{findFeatureVariationRecord()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a25c4d0f9d0481e4c6d9a976782d9105f} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+find\+Feature\+Variation\+Record (\begin{DoxyParamCaption}\item[{}]{feature\+Variations}{, }\item[{}]{condition\+Table}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Find a FeatureVariationRecord that has the same conditionTable.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00636}{636}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_acd511c6d4af6324ff25fa997792aab0b}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!makeSubstitutionsHashable@{makeSubstitutionsHashable}}
\index{makeSubstitutionsHashable@{makeSubstitutionsHashable}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{makeSubstitutionsHashable()}{makeSubstitutionsHashable()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_acd511c6d4af6324ff25fa997792aab0b} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+make\+Substitutions\+Hashable (\begin{DoxyParamCaption}\item[{}]{conditional\+Substitutions}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Turn all the substitution dictionaries in sorted tuples of tuples so
they are hashable, to detect duplicates so we don't write out redundant
data.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00515}{515}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00018}{add\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_ad4bd21f345e0baaaf925d482efa4d004}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!overlayBox@{overlayBox}}
\index{overlayBox@{overlayBox}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{overlayBox()}{overlayBox()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_ad4bd21f345e0baaaf925d482efa4d004} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+overlay\+Box (\begin{DoxyParamCaption}\item[{}]{top}{, }\item[{}]{bot}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Overlays ``top`` box on top of ``bot`` box.

Returns two items:

* Box for intersection of ``top`` and ``bot``, or None if they don't intersect.
* Box for remainder of ``bot``.  Remainder box might not be exact (since the
  remainder might not be a simple box), but is inclusive of the exact
  remainder.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00247}{247}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00122}{overlay\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a98455ef199d9013baf64572e88095604}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!overlayFeatureVariations@{overlayFeatureVariations}}
\index{overlayFeatureVariations@{overlayFeatureVariations}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{overlayFeatureVariations()}{overlayFeatureVariations()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a98455ef199d9013baf64572e88095604} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+overlay\+Feature\+Variations (\begin{DoxyParamCaption}\item[{}]{conditional\+Substitutions}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute overlaps between all conditional substitutions.

The `conditionalSubstitutions` argument is a list of (Region, Substitutions)
tuples.

A Region is a list of Boxes. A Box is a dict mapping axisTags to
(minValue, maxValue) tuples. Irrelevant axes may be omitted and they are
interpretted as extending to end of axis in each direction.  A Box represents
an orthogonal 'rectangular' subset of an N-dimensional design space.
A Region represents a more complex subset of an N-dimensional design space,
ie. the union of all the Boxes in the Region.
For efficiency, Boxes within a Region should ideally not overlap, but
functionality is not compromised if they do.

The minimum and maximum values are expressed in normalized coordinates.

A Substitution is a dict mapping source glyph names to substitute glyph names.

Returns data is in similar but different format.  Overlaps of distinct
substitution Boxes (*not* Regions) are explicitly listed as distinct rules,
and rules with the same Box merged.  The more specific rules appear earlier
in the resulting list.  Moreover, instead of just a dictionary of substitutions,
a list of dictionaries is returned for substitutions corresponding to each
unique space, with each dictionary being identical to one of the input
substitution dictionaries.  These dictionaries are not merged to allow data
sharing when they are converted into font tables.

Example::

    >>> condSubst = [
    ...     # A list of (Region, Substitution) tuples.
    ...     ([{"wght": (0.5, 1.0)}], {"dollar": "dollar.rvrn"}),
    ...     ([{"wght": (0.5, 1.0)}], {"dollar": "dollar.rvrn"}),
    ...     ([{"wdth": (0.5, 1.0)}], {"cent": "cent.rvrn"}),
    ...     ([{"wght": (0.5, 1.0), "wdth": (-1, 1.0)}], {"dollar": "dollar.rvrn"}),
    ... ]
    >>> from pprint import pprint
    >>> pprint(overlayFeatureVariations(condSubst))
    [({'wdth': (0.5, 1.0), 'wght': (0.5, 1.0)},
      [{'dollar': 'dollar.rvrn'}, {'cent': 'cent.rvrn'}]),
     ({'wdth': (0.5, 1.0)}, [{'cent': 'cent.rvrn'}]),
     ({'wght': (0.5, 1.0)}, [{'dollar': 'dollar.rvrn'}])]
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00122}{122}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



References \mbox{\hyperlink{featureVars_8py_source_l00332}{cleanup\+Box()}}, and \mbox{\hyperlink{featureVars_8py_source_l00247}{overlay\+Box()}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00018}{add\+Feature\+Variations()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a0dca2df9f8535a3e301d2520a9af8561}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!remapFeatures@{remapFeatures}}
\index{remapFeatures@{remapFeatures}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{remapFeatures()}{remapFeatures()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a0dca2df9f8535a3e301d2520a9af8561} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+remap\+Features (\begin{DoxyParamCaption}\item[{}]{table}{, }\item[{}]{feature\+Remap}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Go through the scripts list, and remap feature indices.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00670}{670}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00651}{sort\+Feature\+List()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_a71bbc76b3ecb3a9ce0dd4de99e99e156}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!sortFeatureList@{sortFeatureList}}
\index{sortFeatureList@{sortFeatureList}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{sortFeatureList()}{sortFeatureList()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_a71bbc76b3ecb3a9ce0dd4de99e99e156} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+sort\+Feature\+List (\begin{DoxyParamCaption}\item[{}]{table}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Sort the feature list by feature tag, and remap the feature indices
elsewhere. This is needed after the feature list has been modified.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{featureVars_8py_source_l00651}{651}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.



References \mbox{\hyperlink{featureVars_8py_source_l00670}{remap\+Features()}}.



Referenced by \mbox{\hyperlink{featureVars_8py_source_l00351}{add\+Feature\+Variations\+Raw()}}.

\Hypertarget{namespacefontTools_1_1varLib_1_1featureVars_aace29a7db222d8b47bd6ce269c23dccb}\index{fontTools.varLib.featureVars@{fontTools.varLib.featureVars}!visit@{visit}}
\index{visit@{visit}!fontTools.varLib.featureVars@{fontTools.varLib.featureVars}}
\doxysubsubsection{\texorpdfstring{visit()}{visit()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1varLib_1_1featureVars_aace29a7db222d8b47bd6ce269c23dccb} 
font\+Tools.\+var\+Lib.\+feature\+Vars.\+visit (\begin{DoxyParamCaption}\item[{}]{visitor}{, }\item[{}]{obj}{, }\item[{}]{attr}{, }\item[{}]{value}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{featureVars_8py_source_l00537}{537}} of file \mbox{\hyperlink{featureVars_8py_source}{feature\+Vars.\+py}}.

