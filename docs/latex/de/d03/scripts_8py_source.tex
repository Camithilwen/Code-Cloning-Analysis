\doxysection{scripts.\+py}
\hypertarget{scripts_8py_source}{}\label{scripts_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pip/\_vendor/distlib/scripts.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pip/\_vendor/distlib/scripts.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00001}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1distlib_1_1scripts}{00001}}\ \textcolor{comment}{\#\ -\/*-\/\ coding:\ utf-\/8\ -\/*-\/}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00002}00002\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00003}00003\ \textcolor{comment}{\#\ Copyright\ (C)\ 2013-\/2023\ Vinay\ Sajip.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00004}00004\ \textcolor{comment}{\#\ Licensed\ to\ the\ Python\ Software\ Foundation\ under\ a\ contributor\ agreement.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00005}00005\ \textcolor{comment}{\#\ See\ LICENSE.txt\ and\ CONTRIBUTORS.txt.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00006}00006\ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00007}00007\ \textcolor{keyword}{from}\ io\ \textcolor{keyword}{import}\ BytesIO}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00008}00008\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00009}00009\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00010}00010\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00011}00011\ \textcolor{keyword}{import}\ struct}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00012}00012\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00013}00013\ \textcolor{keyword}{import}\ time}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00014}00014\ \textcolor{keyword}{from}\ zipfile\ \textcolor{keyword}{import}\ ZipInfo}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00016}00016\ \textcolor{keyword}{from}\ .compat\ \textcolor{keyword}{import}\ sysconfig,\ detect\_encoding,\ ZipFile}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00017}00017\ \textcolor{keyword}{from}\ .resources\ \textcolor{keyword}{import}\ finder}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00018}00018\ \textcolor{keyword}{from}\ .util\ \textcolor{keyword}{import}\ (FileOperator,\ get\_export\_entry,\ convert\_path,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get\_executable,\ get\_platform,\ in\_venv)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00021}00021\ logger\ =\ logging.getLogger(\_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00023}00023\ \_DEFAULT\_MANIFEST\ =\ \textcolor{stringliteral}{'''}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00024}00024\ \textcolor{stringliteral}{<?xml\ version="{}1.0"{}\ encoding="{}UTF-\/8"{}\ standalone="{}yes"{}?>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00025}00025\ \textcolor{stringliteral}{<assembly\ xmlns="{}urn:schemas-\/microsoft-\/com:asm.v1"{}\ manifestVersion="{}1.0"{}>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00026}00026\ \textcolor{stringliteral}{\ <assemblyIdentity\ version="{}1.0.0.0"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00027}00027\ \textcolor{stringliteral}{\ processorArchitecture="{}X86"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00028}00028\ \textcolor{stringliteral}{\ name="{}\%s"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00029}00029\ \textcolor{stringliteral}{\ type="{}win32"{}/>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00030}00030\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00031}00031\ \textcolor{stringliteral}{\ <!-\/-\/\ Identify\ the\ application\ security\ requirements.\ -\/-\/>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00032}00032\ \textcolor{stringliteral}{\ <trustInfo\ xmlns="{}urn:schemas-\/microsoft-\/com:asm.v3"{}>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00033}00033\ \textcolor{stringliteral}{\ <security>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00034}00034\ \textcolor{stringliteral}{\ <requestedPrivileges>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00035}00035\ \textcolor{stringliteral}{\ <requestedExecutionLevel\ level="{}asInvoker"{}\ uiAccess="{}false"{}/>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00036}00036\ \textcolor{stringliteral}{\ </requestedPrivileges>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00037}00037\ \textcolor{stringliteral}{\ </security>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00038}00038\ \textcolor{stringliteral}{\ </trustInfo>}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00039}00039\ \textcolor{stringliteral}{</assembly>'''}.strip()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00041}00041\ \textcolor{comment}{\#\ check\ if\ Python\ is\ called\ on\ the\ first\ line\ with\ this\ expression}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00042}00042\ FIRST\_LINE\_RE\ =\ re.compile(b\textcolor{stringliteral}{'\string^\#!.*pythonw?[0-\/9.]*([\ \(\backslash\)t].*)?\$'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00043}00043\ SCRIPT\_TEMPLATE\ =\ \textcolor{stringliteral}{r'''\#\ -\/*-\/\ coding:\ utf-\/8\ -\/*-\/}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00044}00044\ \textcolor{stringliteral}{import\ re}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00045}00045\ \textcolor{stringliteral}{import\ sys}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00046}00046\ \textcolor{stringliteral}{from\ \%(module)s\ import\ \%(import\_name)s}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00047}00047\ \textcolor{stringliteral}{if\ \_\_name\_\_\ ==\ '\_\_main\_\_':}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ sys.argv[0]\ =\ re.sub(r'(-\/script\(\backslash\).pyw|\(\backslash\).exe)?\$',\ '',\ sys.argv[0])}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ sys.exit(\%(func)s())}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00050}00050\ \textcolor{stringliteral}{'''}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00053}00053\ \textcolor{keyword}{def\ }enquote\_executable(executable):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00054}00054\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'\ '}\ \textcolor{keywordflow}{in}\ executable:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ make\ sure\ we\ quote\ only\ the\ executable\ in\ case\ of\ env}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ for\ example\ /usr/bin/env\ "{}/dir\ with\ spaces/bin/jython"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ instead\ of\ "{}/usr/bin/env\ /dir\ with\ spaces/bin/jython"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ otherwise\ whole}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ executable.startswith(\textcolor{stringliteral}{'/usr/bin/env\ '}):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ env,\ \_executable\ =\ executable.split(\textcolor{stringliteral}{'\ '},\ 1)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'\ '}\ \textcolor{keywordflow}{in}\ \_executable\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ \_executable.startswith(\textcolor{stringliteral}{'"{}'}):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ \textcolor{stringliteral}{'\%s\ "{}\%s"{}'}\ \%\ (env,\ \_executable)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ executable.startswith(\textcolor{stringliteral}{'"{}'}):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ \textcolor{stringliteral}{'"{}\%s"{}'}\ \%\ executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00066}00066\ \ \ \ \ \textcolor{keywordflow}{return}\ executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00069}00069\ \textcolor{comment}{\#\ Keep\ the\ old\ name\ around\ (for\ now),\ as\ there\ is\ at\ least\ one\ project\ using\ it!}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00070}00070\ \_enquote\_executable\ =\ enquote\_executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00073}\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker}{00073}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker}{ScriptMaker}}(object):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00074}00074\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00075}00075\ \textcolor{stringliteral}{\ \ \ \ A\ class\ to\ copy\ or\ create\ scripts\ from\ source\ scripts\ or\ callable}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00076}00076\ \textcolor{stringliteral}{\ \ \ \ specifications.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00078}00078\ \ \ \ \ script\_template\ =\ SCRIPT\_TEMPLATE}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00080}00080\ \ \ \ \ executable\ =\ \textcolor{keywordtype}{None}\ \ \textcolor{comment}{\#\ for\ shebangs}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00082}00082\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ source\_dir,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ target\_dir,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ add\_launchers=True,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dry\_run=False,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fileop=None):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a0764d3545df8f0f6fc799e7b74288f2d}{source\_dir}}\ =\ source\_dir}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a3d4b4faf9a08c77dacf2bcd864440387}{target\_dir}}\ =\ target\_dir}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_add5715f7decd6425a02008bf4350a865}{add\_launchers}}\ =\ add\_launchers}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a3fafd93e9f78111f085ae6816fc548e1}{force}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ae76f02d09012f1664040d51ccab0ca44}{clobber}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ It\ only\ makes\ sense\ to\ set\ mode\ bits\ on\ POSIX.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a632e434092ce649e65b55cd5c25d6135}{set\_mode}}\ =\ (os.name\ ==\ \textcolor{stringliteral}{'posix'})\ \textcolor{keywordflow}{or}\ (os.name\ ==\ \textcolor{stringliteral}{'java'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ os.\_name\ ==\ \textcolor{stringliteral}{'posix'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a57bd1a59cea0189f22c60f5d5364b2e6}{variants}}\ =\ set((\textcolor{stringliteral}{''},\ \textcolor{stringliteral}{'X.Y'}))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}\ =\ fileop\ \textcolor{keywordflow}{or}\ \mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1FileOperator}{FileOperator}}(dry\_run)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a8540f8759cbac1a6841d136c7a4efa20}{\_is\_nt}}\ =\ os.name\ ==\ \textcolor{stringliteral}{'nt'}\ \textcolor{keywordflow}{or}\ (os.name\ ==\ \textcolor{stringliteral}{'java'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ os.\_name\ ==\ \textcolor{stringliteral}{'nt'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ac23c1b8b01f6007817a6ffa5e75c9841}{version\_info}}\ =\ sys.version\_info}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00103}00103\ \ \ \ \ \textcolor{keyword}{def\ }\_get\_alternate\_executable(self,\ executable,\ options):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ options.get(\textcolor{stringliteral}{'gui'},\ \textcolor{keyword}{False})\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a8540f8759cbac1a6841d136c7a4efa20}{\_is\_nt}}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ dn,\ fn\ =\ os.path.split(executable)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ fn\ =\ fn.replace(\textcolor{stringliteral}{'python'},\ \textcolor{stringliteral}{'pythonw'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ os.path.join(dn,\ fn)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00110}00110\ \ \ \ \ \textcolor{keywordflow}{if}\ sys.platform.startswith(\textcolor{stringliteral}{'java'}):\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00112}\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_af293c7607ab57d67e343bce43f921195}{00112}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_af293c7607ab57d67e343bce43f921195}{\_is\_shell}}(self,\ executable):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Determine\ if\ the\ specified\ executable\ is\ a\ script}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00115}00115\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ (contains\ a\ \#!\ line)}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(executable)\ \textcolor{keyword}{as}\ fp:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fp.read(2)\ ==\ \textcolor{stringliteral}{'\#!'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (OSError,\ IOError):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{'Failed\ to\ open\ \%s'},\ executable)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\_fix\_jython\_executable(self,\ executable):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_af293c7607ab57d67e343bce43f921195}{\_is\_shell}}(executable):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Workaround\ for\ Jython\ is\ not\ needed\ on\ Linux\ systems.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ java}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ java.lang.System.getProperty(\textcolor{stringliteral}{'os.name'})\ ==\ \textcolor{stringliteral}{'Linux'}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ executable.lower().endswith(\textcolor{stringliteral}{'jython.exe'}):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Use\ wrapper\ exe\ for\ Jython\ on\ Windows}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'/usr/bin/env\ \%s'}\ \%\ executable}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00136}\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa82791cd00afd84af4b0bc596fed30c7}{00136}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa82791cd00afd84af4b0bc596fed30c7}{\_build\_shebang}}(self,\ executable,\ post\_interp):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Build\ a\ shebang\ line.\ In\ the\ simple\ case\ (on\ Windows,\ or\ a\ shebang\ line}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ which\ is\ not\ too\ long\ or\ contains\ spaces)\ use\ a\ simple\ formulation\ for}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ shebang.\ Otherwise,\ use\ /bin/sh\ as\ the\ executable,\ with\ a\ contrived}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00141}00141\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ shebang\ which\ allows\ the\ script\ to\ run\ either\ under\ Python\ or\ sh,\ using}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ suitable\ quoting.\ Thanks\ to\ Harald\ Nordgren\ for\ his\ input.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00143}00143\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ See\ also:\ http://www.in-\/ulm.de/\string~mascheck/various/shebang/\#length}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00145}00145\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ https://hg.mozilla.org/mozilla-\/central/file/tip/mach}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00146}00146\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ !=\ \textcolor{stringliteral}{'posix'}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ simple\_shebang\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ 3\ for\ '\#!'\ prefix\ and\ newline\ suffix.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ shebang\_length\ =\ len(executable)\ +\ len(post\_interp)\ +\ 3}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sys.platform\ ==\ \textcolor{stringliteral}{'darwin'}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_shebang\_length\ =\ 512}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_shebang\_length\ =\ 127}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ simple\_shebang\ =\ ((b\textcolor{stringliteral}{'\ '}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ executable)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ (shebang\_length\ <=\ max\_shebang\_length))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ simple\_shebang:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ b\textcolor{stringliteral}{'\#!'}\ +\ executable\ +\ post\_interp\ +\ b\textcolor{stringliteral}{'\(\backslash\)n'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ b\textcolor{stringliteral}{'\#!/bin/sh\(\backslash\)n'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ b\textcolor{stringliteral}{"{}'''exec'\ "{}}\ +\ executable\ +\ post\_interp\ +\ b\textcolor{stringliteral}{'\ "{}\$0"{}\ "{}\$@"{}\(\backslash\)n'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ result\ +=\ b\textcolor{stringliteral}{"{}'\ '''"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00167}00167\ \ \ \ \ \textcolor{keyword}{def\ }\_get\_shebang(self,\ encoding,\ post\_interp=b'',\ options=None):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ enquote\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa7f400fe48dc91e6088280480b2311d4}{executable}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa7f400fe48dc91e6088280480b2311d4}{executable}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ enquote\ =\ \textcolor{keyword}{False}\ \ \textcolor{comment}{\#\ assume\ this\ will\ be\ taken\ care\ of}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ \textcolor{keywordflow}{not}\ sysconfig.is\_python\_build():}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ get\_executable()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ in\_venv():\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ os.path.join(}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_path(\textcolor{stringliteral}{'scripts'}),}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'python\%s'}\ \%\ sysconfig.get\_config\_var(\textcolor{stringliteral}{'EXE'}))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ ==\ \textcolor{stringliteral}{'nt'}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ for\ Python\ builds\ from\ source\ on\ Windows,\ no\ Python\ executables\ with}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ a\ version\ suffix\ are\ created,\ so\ we\ use\ python.exe}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ os.path.join(}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_config\_var(\textcolor{stringliteral}{'BINDIR'}),}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'python\%s'}\ \%\ (sysconfig.get\_config\_var(\textcolor{stringliteral}{'EXE'})))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ os.path.join(}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_config\_var(\textcolor{stringliteral}{'BINDIR'}),}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'python\%s\%s'}\ \%\ (sysconfig.get\_config\_var(\textcolor{stringliteral}{'VERSION'}),}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sysconfig.get\_config\_var(\textcolor{stringliteral}{'EXE'})))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ options:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a2260237f925f1e39face366549e013af}{\_get\_alternate\_executable}}(executable,\ options)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00192}00192\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sys.platform.startswith(\textcolor{stringliteral}{'java'}):\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a905fa59ddfb9c563bffa3eb543a0bdde}{\_fix\_jython\_executable}}(executable)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00195}00195\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Normalise\ case\ for\ Windows\ -\/\ COMMENTED\ OUT}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ executable\ =\ os.path.normcase(executable)}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ N.B.\ The\ normalising\ operation\ above\ has\ been\ commented\ out:\ See}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ issue\ \#124.\ Although\ paths\ in\ Windows\ are\ generally\ case-\/insensitive,}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ they\ aren't\ always.\ For\ example,\ a\ path\ containing\ a\ ẞ\ (which\ is\ a}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ LATIN\ CAPITAL\ LETTER\ SHARP\ S\ -\/\ U+1E9E)\ is\ normcased\ to\ ß\ (which\ is\ a}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ LATIN\ SMALL\ LETTER\ SHARP\ S'\ -\/\ U+00DF).\ The\ two\ are\ not\ considered\ by}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Windows\ as\ equivalent\ in\ path\ names.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ the\ user\ didn't\ specify\ an\ executable,\ it\ may\ be\ necessary\ to}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ cater\ for\ executable\ paths\ with\ spaces\ (not\ uncommon\ on\ Windows)}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ enquote:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ executable\ =\ enquote\_executable(executable)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Issue\ \#51:\ don't\ use\ fsencode,\ since\ we\ later\ try\ to}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ check\ that\ the\ shebang\ is\ decodable\ using\ utf-\/8.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00211}00211\ \ \ \ \ \ \ \ \ executable\ =\ executable.encode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ in\ case\ of\ IronPython,\ play\ safe\ and\ enable\ frames\ support}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sys.platform\ ==\ \textcolor{stringliteral}{'cli'}\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{'-\/X:Frames'}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ post\_interp}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{'-\/X:FullFrames'}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ post\_interp):\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ post\_interp\ +=\ b\textcolor{stringliteral}{'\ -\/X:Frames'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ shebang\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa82791cd00afd84af4b0bc596fed30c7}{\_build\_shebang}}(executable,\ post\_interp)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Python\ parser\ starts\ to\ read\ a\ script\ using\ UTF-\/8\ until}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ it\ gets\ a\ \#coding:xxx\ cookie.\ The\ shebang\ has\ to\ be\ the}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ first\ line\ of\ a\ file,\ the\ \#coding:xxx\ cookie\ cannot\ be}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00220}00220\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ written\ before.\ So\ the\ shebang\ has\ to\ be\ decodable\ from}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ UTF-\/8.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ shebang.decode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ UnicodeDecodeError:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{'The\ shebang\ (\%r)\ is\ not\ decodable\ from\ utf-\/8'}\ \%}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shebang)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ the\ script\ is\ encoded\ to\ a\ custom\ encoding\ (use\ a}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \#coding:xxx\ cookie),\ the\ shebang\ has\ to\ be\ decodable\ from}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ script\ encoding\ too.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ encoding\ !=\ \textcolor{stringliteral}{'utf-\/8'}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shebang.decode(encoding)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ UnicodeDecodeError:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{'The\ shebang\ (\%r)\ is\ not\ decodable\ '}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'from\ the\ script\ encoding\ (\%r)'}\ \%}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (shebang,\ encoding))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ shebang}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00238}00238\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00239}00239\ \ \ \ \ \textcolor{keyword}{def\ }\_get\_script\_text(self,\ entry):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a7a825a0958165c02cbededf6de6d3d58}{script\_template}}\ \%\ dict(}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ module=entry.prefix,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ import\_name=entry.suffix.split(\textcolor{stringliteral}{'.'})[0],}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \ \ \ \ func=entry.suffix)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00244}00244\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00245}00245\ \ \ \ \ manifest\ =\ \_DEFAULT\_MANIFEST}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00247}00247\ \ \ \ \ \textcolor{keyword}{def\ }get\_manifest(self,\ exename):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ base\ =\ os.path.basename(exename)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a43074bf0e9eb1b4df2bd0210250e0bd1}{manifest}}\ \%\ base}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00250}00250\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00251}00251\ \ \ \ \ \textcolor{keyword}{def\ }\_write\_script(self,\ names,\ shebang,\ script\_bytes,\ filenames,\ ext):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ use\_launcher\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_add5715f7decd6425a02008bf4350a865}{add\_launchers}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a8540f8759cbac1a6841d136c7a4efa20}{\_is\_nt}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ linesep\ =\ os.linesep.encode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ shebang.endswith(linesep):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ shebang\ +=\ linesep}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ use\_launcher:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ script\_bytes\ =\ shebang\ +\ script\_bytes}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ext\ ==\ \textcolor{stringliteral}{'py'}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ launcher\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a4bf21a72135e7af574544e940849b5b5}{\_get\_launcher}}(\textcolor{stringliteral}{'t'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ launcher\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a4bf21a72135e7af574544e940849b5b5}{\_get\_launcher}}(\textcolor{stringliteral}{'w'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ stream\ =\ \mbox{\hyperlink{classBytesIO}{BytesIO}}()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ \mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1compat_1_1ZipFile}{ZipFile}}(stream,\ \textcolor{stringliteral}{'w'})\ \textcolor{keyword}{as}\ zf:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ source\_date\_epoch\ =\ os.environ.get(\textcolor{stringliteral}{'SOURCE\_DATE\_EPOCH'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ source\_date\_epoch:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ date\_time\ =\ time.gmtime(int(source\_date\_epoch))[:6]}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zinfo\ =\ ZipInfo(filename=\textcolor{stringliteral}{'\_\_main\_\_.py'},}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ date\_time=date\_time)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zf.writestr(zinfo,\ script\_bytes)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zf.writestr(\textcolor{stringliteral}{'\_\_main\_\_.py'},\ script\_bytes)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ zip\_data\ =\ stream.getvalue()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ script\_bytes\ =\ launcher\ +\ shebang\ +\ zip\_data}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ name\ \textcolor{keywordflow}{in}\ names:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ outname\ =\ os.path.join(self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a3d4b4faf9a08c77dacf2bcd864440387}{target\_dir}},\ name)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ use\_launcher:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n,\ e\ =\ os.path.splitext(outname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ e.startswith(\textcolor{stringliteral}{'.py'}):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outname\ =\ n}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outname\ =\ \textcolor{stringliteral}{'\%s.exe'}\ \%\ outname}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.write\_binary\_file(outname,\ script\_bytes)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Failed\ writing\ an\ executable\ -\/\ it\ might\ be\ in\ use.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{'Failed\ to\ write\ executable\ -\/\ trying\ to\ '}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'use\ .deleteme\ logic'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dfname\ =\ \textcolor{stringliteral}{'\%s.deleteme'}\ \%\ outname}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(dfname):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.remove(dfname)\ \ \textcolor{comment}{\#\ Not\ allowed\ to\ fail\ here}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.rename(outname,\ dfname)\ \ \textcolor{comment}{\#\ nor\ here}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.write\_binary\_file(outname,\ script\_bytes)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{'Able\ to\ replace\ executable\ using\ '}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'.deleteme\ logic'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.remove(dfname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}\ \ \textcolor{comment}{\#\ still\ in\ use\ -\/\ ignore\ error}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a8540f8759cbac1a6841d136c7a4efa20}{\_is\_nt}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ outname.endswith(}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'.'}\ +\ ext):\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outname\ =\ \textcolor{stringliteral}{'\%s.\%s'}\ \%\ (outname,\ ext)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(outname)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ae76f02d09012f1664040d51ccab0ca44}{clobber}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{'Skipping\ existing\ file\ \%s'},\ outname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.write\_binary\_file(outname,\ script\_bytes)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a632e434092ce649e65b55cd5c25d6135}{set\_mode}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.set\_executable\_mode([outname])}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ filenames.append(outname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00310}00310\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00311}00311\ \ \ \ \ variant\_separator\ =\ \textcolor{stringliteral}{'-\/'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00312}00312\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00313}00313\ \ \ \ \ \textcolor{keyword}{def\ }get\_script\_filenames(self,\ name):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ result\ =\ set()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00315}00315\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{''}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a57bd1a59cea0189f22c60f5d5364b2e6}{variants}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ result.add(name)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00317}00317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'X'}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a57bd1a59cea0189f22c60f5d5364b2e6}{variants}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ result.add(\textcolor{stringliteral}{'\%s\%s'}\ \%\ (name,\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ac23c1b8b01f6007817a6ffa5e75c9841}{version\_info}}[0]))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'X.Y'}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a57bd1a59cea0189f22c60f5d5364b2e6}{variants}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ result.add(\textcolor{stringliteral}{'\%s\%s\%s.\%s'}\ \%}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (name,\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a7955494009a7c9a739cc41ce5aad031c}{variant\_separator}},\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ac23c1b8b01f6007817a6ffa5e75c9841}{version\_info}}[0],}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ac23c1b8b01f6007817a6ffa5e75c9841}{version\_info}}[1]))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00324}00324\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00325}00325\ \ \ \ \ \textcolor{keyword}{def\ }\_make\_script(self,\ entry,\ filenames,\ options=None):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ post\_interp\ =\ b\textcolor{stringliteral}{''}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ options:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ args\ =\ options.get(\textcolor{stringliteral}{'interpreter\_args'},\ [])}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ args:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ args\ =\ \textcolor{stringliteral}{'\ \%s'}\ \%\ \textcolor{stringliteral}{'\ '}.join(args)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ post\_interp\ =\ args.encode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ shebang\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ad6e809b3a81116a522ce2b68c606bae9}{\_get\_shebang}}(\textcolor{stringliteral}{'utf-\/8'},\ post\_interp,\ options=options)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ script\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a620d52aff254d84f293523b99d05d569}{\_get\_script\_text}}(entry).encode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ scriptnames\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a14702d7283492d4e2a277ca4781ca159}{get\_script\_filenames}}(entry.name)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ options\ \textcolor{keywordflow}{and}\ options.get(\textcolor{stringliteral}{'gui'},\ \textcolor{keyword}{False}):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ ext\ =\ \textcolor{stringliteral}{'pyw'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ ext\ =\ \textcolor{stringliteral}{'py'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ab97a53ca36ea3ffaee534d987d2c9bba}{\_write\_script}}(scriptnames,\ shebang,\ script,\ filenames,\ ext)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00340}00340\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00341}00341\ \ \ \ \ \textcolor{keyword}{def\ }\_copy\_script(self,\ script,\ filenames):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ adjust\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ script\ =\ os.path.join(self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a0764d3545df8f0f6fc799e7b74288f2d}{source\_dir}},\ convert\_path(script))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ outname\ =\ os.path.join(self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a3d4b4faf9a08c77dacf2bcd864440387}{target\_dir}},\ os.path.basename(script))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a3fafd93e9f78111f085ae6816fc548e1}{force}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.newer(script,\ outname):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{'not\ copying\ \%s\ (up-\/to-\/date)'},\ script)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00348}00348\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Always\ open\ the\ file,\ but\ ignore\ failures\ in\ dry-\/run\ mode\ -\/-\/}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ that\ way,\ we'll\ get\ accurate\ feedback\ if\ we\ can\ read\ the}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ script.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ open(script,\ \textcolor{stringliteral}{'rb'})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ IOError:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a894d0672495d56c3bd128583f01e606c}{dry\_run}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ first\_line\ =\ f.readline()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ first\_line:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.warning(\textcolor{stringliteral}{'\%s\ is\ an\ empty\ file\ (skipping)'},\ script)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ match\ =\ FIRST\_LINE\_RE.match(first\_line.replace(b\textcolor{stringliteral}{'\(\backslash\)r\(\backslash\)n'},\ b\textcolor{stringliteral}{'\(\backslash\)n'}))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00365}00365\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00366}00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ adjust\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ post\_interp\ =\ match.group(1)\ \textcolor{keywordflow}{or}\ b\textcolor{stringliteral}{''}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00368}00368\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ adjust:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ f:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.copy\_file(script,\ outname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a632e434092ce649e65b55cd5c25d6135}{set\_mode}}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.set\_executable\_mode([outname])}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ filenames.append(outname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{'copying\ and\ adjusting\ \%s\ -\/>\ \%s'},\ script,}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a3d4b4faf9a08c77dacf2bcd864440387}{target\_dir}})}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.dry\_run:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ encoding,\ lines\ =\ detect\_encoding(f.readline)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.seek(0)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shebang\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ad6e809b3a81116a522ce2b68c606bae9}{\_get\_shebang}}(encoding,\ post\_interp)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ b\textcolor{stringliteral}{'pythonw'}\ \textcolor{keywordflow}{in}\ first\_line:\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ext\ =\ \textcolor{stringliteral}{'pyw'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00385}00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ext\ =\ \textcolor{stringliteral}{'py'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n\ =\ os.path.basename(outname)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ab97a53ca36ea3ffaee534d987d2c9bba}{\_write\_script}}([n],\ shebang,\ f.read(),\ filenames,\ ext)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ f:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00391}00391\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00392}00392\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00393}00393\ \ \ \ \ \textcolor{keyword}{def\ }dry\_run(self):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.dry\_run}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00395}00395\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00396}00396\ \ \ \ \ \textcolor{preprocessor}{@dry\_run.setter}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00397}00397\ \ \ \ \ \textcolor{keyword}{def\ }dry\_run(self,\ value):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a6164566409cb65a05544603d6d76cb9e}{\_fileop}}.dry\_run\ =\ value}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00399}00399\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00400}00400\ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ ==\ \textcolor{stringliteral}{'nt'}\ \textcolor{keywordflow}{or}\ (os.name\ ==\ \textcolor{stringliteral}{'java'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ os.\_name\ ==\ \textcolor{stringliteral}{'nt'}):\ \ \textcolor{comment}{\#\ pragma:\ no\ cover}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00402}00402\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Executable\ launcher\ support.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00403}00403\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Launchers\ are\ from\ https://bitbucket.org/vinay.sajip/simple\_launcher/}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00404}00404\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00405}00405\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }\_get\_launcher(self,\ kind):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00406}00406\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ struct.calcsize(\textcolor{stringliteral}{'P'})\ ==\ 8:\ \ \textcolor{comment}{\#\ 64-\/bit}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00407}00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bits\ =\ \textcolor{stringliteral}{'64'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bits\ =\ \textcolor{stringliteral}{'32'}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ platform\_suffix\ =\ \textcolor{stringliteral}{'-\/arm'}\ \textcolor{keywordflow}{if}\ get\_platform()\ ==\ \textcolor{stringliteral}{'win-\/arm64'}\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{''}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ \textcolor{stringliteral}{'\%s\%s\%s.exe'}\ \%\ (kind,\ bits,\ platform\_suffix)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Issue\ 31:\ don't\ hardcode\ an\ absolute\ package\ name,\ but}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ determine\ it\ relative\ to\ the\ current\ package}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ distlib\_package\ =\ \_\_name\_\_.rsplit(\textcolor{stringliteral}{'.'},\ 1)[0]}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ resource\ =\ finder(distlib\_package).find(name)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ resource:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ (\textcolor{stringliteral}{'Unable\ to\ find\ resource\ \%s\ in\ package\ \%s'}\ \%}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (name,\ distlib\_package))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(msg)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ resource.bytes}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00421}00421\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00422}00422\ \ \ \ \ \textcolor{comment}{\#\ Public\ API\ follows}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00423}00423\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00424}\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa7f84fad31c116b3d519ebd53305f0ad}{00424}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa7f84fad31c116b3d519ebd53305f0ad}{make}}(self,\ specification,\ options=None):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00426}00426\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Make\ a\ script.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00427}00427\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00428}00428\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ specification:\ The\ specification,\ which\ is\ either\ a\ valid\ export}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00429}00429\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ entry\ specification\ (to\ make\ a\ script\ from\ a}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00430}00430\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callable)\ or\ a\ filename\ (to\ make\ a\ script\ by}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00431}00431\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ copying\ from\ a\ source\ location).}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00432}00432\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ options:\ A\ dictionary\ of\ options\ controlling\ script\ generation.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00433}00433\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :return:\ A\ list\ of\ all\ absolute\ pathnames\ written\ to.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00434}00434\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ filenames\ =\ []}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ entry\ =\ get\_export\_entry(specification)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ entry\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_acf7bc12573e81402aa4e0b9b699489c5}{\_copy\_script}}(specification,\ filenames)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_a998975cac161caf41522671f2b5fcd81}{\_make\_script}}(entry,\ filenames,\ options=options)}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ filenames}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00442}00442\ }
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00443}\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ac8da6b65115c9c675f2f442e286ab55d}{00443}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_ac8da6b65115c9c675f2f442e286ab55d}{make\_multiple}}(self,\ specifications,\ options=None):}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00444}00444\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00445}00445\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Take\ a\ list\ of\ specifications\ and\ make\ scripts\ from\ them,}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00446}00446\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ specifications:\ A\ list\ of\ specifications.}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00447}00447\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :return:\ A\ list\ of\ all\ absolute\ pathnames\ written\ to,}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00448}00448\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ filenames\ =\ []}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ specification\ \textcolor{keywordflow}{in}\ specifications:}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ filenames.extend(self.\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1scripts_1_1ScriptMaker_aa7f84fad31c116b3d519ebd53305f0ad}{make}}(specification,\ options))}
\DoxyCodeLine{\Hypertarget{scripts_8py_source_l00452}00452\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ filenames}

\end{DoxyCode}
