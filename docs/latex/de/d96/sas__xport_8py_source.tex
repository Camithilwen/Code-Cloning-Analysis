\doxysection{sas\+\_\+xport.\+py}
\hypertarget{sas__xport_8py_source}{}\label{sas__xport_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pandas/io/sas/sas\_xport.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pandas/io/sas/sas\_xport.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00001}\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00002}00002\ \textcolor{stringliteral}{Read\ a\ SAS\ XPort\ format\ file\ into\ a\ Pandas\ DataFrame.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00003}00003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00004}00004\ \textcolor{stringliteral}{Based\ on\ code\ from\ Jack\ Cushman\ (github.com/jcushman/xport).}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00005}00005\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00006}00006\ \textcolor{stringliteral}{The\ file\ format\ is\ defined\ here:}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00007}00007\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00008}00008\ \textcolor{stringliteral}{https://support.sas.com/content/dam/SAS/support/en/technical-\/papers/record-\/layout-\/of-\/a-\/sas-\/version-\/5-\/or-\/6-\/data-\/set-\/in-\/sas-\/transport-\/xport-\/format.pdf}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00009}00009\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00010}00010\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00012}00012\ \textcolor{keyword}{from}\ collections\ \textcolor{keyword}{import}\ abc}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00013}00013\ \textcolor{keyword}{from}\ datetime\ \textcolor{keyword}{import}\ datetime}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00014}00014\ \textcolor{keyword}{import}\ struct}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00015}00015\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ TYPE\_CHECKING}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00016}00016\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00018}00018\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00020}00020\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1util_1_1__decorators}{pandas.util.\_decorators}}\ \textcolor{keyword}{import}\ Appender}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00021}00021\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1util_1_1__exceptions}{pandas.util.\_exceptions}}\ \textcolor{keyword}{import}\ find\_stack\_level}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00023}00023\ \textcolor{keyword}{import}\ pandas\ \textcolor{keyword}{as}\ pd}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00025}00025\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1io_1_1common}{pandas.io.common}}\ \textcolor{keyword}{import}\ get\_handle}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00026}00026\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sasreader}{pandas.io.sas.sasreader}}\ \textcolor{keyword}{import}\ ReaderBase}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00028}00028\ \textcolor{keywordflow}{if}\ TYPE\_CHECKING:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00029}00029\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1__typing}{pandas.\_typing}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ CompressionOptions,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ DatetimeNaTType,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ FilePath,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ ReadBuffer,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00034}00034\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00035}00035\ \_correct\_line1\ =\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00036}00036\ \ \ \ \ \textcolor{stringliteral}{"{}HEADER\ RECORD*******LIBRARY\ HEADER\ RECORD!!!!!!!"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00037}00037\ \ \ \ \ \textcolor{stringliteral}{"{}000000000000000000000000000000\ \ "{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00038}00038\ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00039}00039\ \_correct\_header1\ =\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00040}00040\ \ \ \ \ \textcolor{stringliteral}{"{}HEADER\ RECORD*******MEMBER\ \ HEADER\ RECORD!!!!!!!000000000000000001600000000"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00041}00041\ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00042}00042\ \_correct\_header2\ =\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00043}00043\ \ \ \ \ \textcolor{stringliteral}{"{}HEADER\ RECORD*******DSCRPTR\ HEADER\ RECORD!!!!!!!"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00044}00044\ \ \ \ \ \textcolor{stringliteral}{"{}000000000000000000000000000000\ \ "{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00045}00045\ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00046}00046\ \_correct\_obs\_header\ =\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00047}00047\ \ \ \ \ \textcolor{stringliteral}{"{}HEADER\ RECORD*******OBS\ \ \ \ \ HEADER\ RECORD!!!!!!!"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00048}00048\ \ \ \ \ \textcolor{stringliteral}{"{}000000000000000000000000000000\ \ "{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00049}00049\ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00050}00050\ \_fieldkeys\ =\ [}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00051}00051\ \ \ \ \ \textcolor{stringliteral}{"{}ntype"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00052}00052\ \ \ \ \ \textcolor{stringliteral}{"{}nhfun"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00053}00053\ \ \ \ \ \textcolor{stringliteral}{"{}field\_length"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00054}00054\ \ \ \ \ \textcolor{stringliteral}{"{}nvar0"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00055}00055\ \ \ \ \ \textcolor{stringliteral}{"{}name"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00056}00056\ \ \ \ \ \textcolor{stringliteral}{"{}label"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00057}00057\ \ \ \ \ \textcolor{stringliteral}{"{}nform"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00058}00058\ \ \ \ \ \textcolor{stringliteral}{"{}nfl"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00059}00059\ \ \ \ \ \textcolor{stringliteral}{"{}num\_decimals"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00060}00060\ \ \ \ \ \textcolor{stringliteral}{"{}nfj"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00061}00061\ \ \ \ \ \textcolor{stringliteral}{"{}nfill"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00062}00062\ \ \ \ \ \textcolor{stringliteral}{"{}niform"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00063}00063\ \ \ \ \ \textcolor{stringliteral}{"{}nifl"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00064}00064\ \ \ \ \ \textcolor{stringliteral}{"{}nifd"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00065}00065\ \ \ \ \ \textcolor{stringliteral}{"{}npos"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00066}00066\ \ \ \ \ \textcolor{stringliteral}{"{}\_"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00067}00067\ ]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00070}00070\ \_base\_params\_doc\ =\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00071}00071\ \textcolor{stringliteral}{Parameters}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00072}00072\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00073}00073\ \textcolor{stringliteral}{filepath\_or\_buffer\ :\ str\ or\ file-\/like\ object}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00074}00074\ \textcolor{stringliteral}{\ \ \ \ Path\ to\ SAS\ file\ or\ object\ implementing\ binary\ read\ method."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00076}00076\ \_params2\_doc\ =\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00077}00077\ \textcolor{stringliteral}{index\ :\ identifier\ of\ index\ column}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00078}00078\ \textcolor{stringliteral}{\ \ \ \ Identifier\ of\ column\ that\ should\ be\ used\ as\ index\ of\ the\ DataFrame.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00079}00079\ \textcolor{stringliteral}{encoding\ :\ str}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00080}00080\ \textcolor{stringliteral}{\ \ \ \ Encoding\ for\ text\ data.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00081}00081\ \textcolor{stringliteral}{chunksize\ :\ int}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ Read\ file\ \`{}chunksize\`{}\ lines\ at\ a\ time,\ returns\ iterator."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00084}00084\ \_format\_params\_doc\ =\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00085}00085\ \textcolor{stringliteral}{format\ :\ str}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00086}00086\ \textcolor{stringliteral}{\ \ \ \ File\ format,\ only\ \`{}xport\`{}\ is\ currently\ supported."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00088}00088\ \_iterator\_doc\ =\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00089}00089\ \textcolor{stringliteral}{iterator\ :\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ Return\ XportReader\ object\ for\ reading\ file\ incrementally."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00093}00093\ \_read\_sas\_doc\ =\ f\textcolor{stringliteral}{"{}"{}"{}Read\ a\ SAS\ file\ into\ a\ DataFrame.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00094}00094\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00095}00095\ \textcolor{stringliteral}{\{\_base\_params\_doc\}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00096}00096\ \textcolor{stringliteral}{\{\_format\_params\_doc\}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00097}00097\ \textcolor{stringliteral}{\{\_params2\_doc\}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00098}00098\ \textcolor{stringliteral}{\{\_iterator\_doc\}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00099}00099\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00100}00100\ \textcolor{stringliteral}{Returns}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00101}00101\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00102}00102\ \textcolor{stringliteral}{DataFrame\ or\ XportReader}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00103}00103\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00104}00104\ \textcolor{stringliteral}{Examples}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00105}00105\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00106}00106\ \textcolor{stringliteral}{Read\ a\ SAS\ Xport\ file:}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00107}00107\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00108}00108\ \textcolor{stringliteral}{>>>\ df\ =\ pd.read\_sas('filename.XPT')}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00109}00109\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00110}00110\ \textcolor{stringliteral}{Read\ a\ Xport\ file\ in\ 10,000\ line\ chunks:}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00111}00111\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00112}00112\ \textcolor{stringliteral}{>>>\ itr\ =\ pd.read\_sas('filename.XPT',\ chunksize=10000)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00113}00113\ \textcolor{stringliteral}{>>>\ for\ chunk\ in\ itr:}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00114}00114\ \textcolor{stringliteral}{>>>\ \ \ \ \ do\_something(chunk)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00115}00115\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00116}00116\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00118}00118\ \_xport\_reader\_doc\ =\ f\textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00119}00119\ \textcolor{stringliteral}{Class\ for\ reading\ SAS\ Xport\ files.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00120}00120\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00121}00121\ \textcolor{stringliteral}{\{\_base\_params\_doc\}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00122}00122\ \textcolor{stringliteral}{\{\_params2\_doc\}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00123}00123\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00124}00124\ \textcolor{stringliteral}{Attributes}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00125}00125\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00126}00126\ \textcolor{stringliteral}{member\_info\ :\ list}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00127}00127\ \textcolor{stringliteral}{\ \ \ \ Contains\ information\ about\ the\ file}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00128}00128\ \textcolor{stringliteral}{fields\ :\ list}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00129}00129\ \textcolor{stringliteral}{\ \ \ \ Contains\ information\ about\ the\ variables\ in\ the\ file}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00130}00130\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00132}00132\ \_read\_method\_doc\ =\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00133}00133\ \textcolor{stringliteral}{Read\ observations\ from\ SAS\ Xport\ file,\ returning\ as\ data\ frame.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00134}00134\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00135}00135\ \textcolor{stringliteral}{Parameters}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00136}00136\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00137}00137\ \textcolor{stringliteral}{nrows\ :\ int}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ Number\ of\ rows\ to\ read\ from\ data\ file;\ if\ None,\ read\ whole}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ file.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00140}00140\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00141}00141\ \textcolor{stringliteral}{Returns}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00142}00142\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00143}00143\ \textcolor{stringliteral}{A\ DataFrame.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00144}00144\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00147}\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a2514cec9be6fb2c06c744a8756e2aeae}{00147}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a2514cec9be6fb2c06c744a8756e2aeae}{\_parse\_date}}(datestr:\ str)\ -\/>\ DatetimeNaTType:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00148}00148\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Given\ a\ date\ in\ xport\ format,\ return\ Python\ date."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00149}00149\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ e.g.\ "{}16FEB11:10:07:55"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ datetime.strptime(datestr,\ \textcolor{stringliteral}{"{}\%d\%b\%y:\%H:\%M:\%S"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00152}00152\ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pd.NaT}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00156}\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a68600da016cc436c37218af504e5f9a1}{00156}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a68600da016cc436c37218af504e5f9a1}{\_split\_line}}(s:\ str,\ parts):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00157}00157\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00158}00158\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00159}00159\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00160}00160\ \textcolor{stringliteral}{\ \ \ \ s:\ str}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00161}00161\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Fixed-\/length\ string\ to\ split}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00162}00162\ \textcolor{stringliteral}{\ \ \ \ parts:\ list\ of\ (name,\ length)\ pairs}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00163}00163\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Used\ to\ break\ up\ string,\ name\ '\_'\ will\ be\ filtered\ from\ output.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00164}00164\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00165}00165\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00166}00166\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00167}00167\ \textcolor{stringliteral}{\ \ \ \ Dict\ of\ name:contents\ of\ string\ at\ given\ location.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00168}00168\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00169}00169\ \ \ \ \ out\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00170}00170\ \ \ \ \ start\ =\ 0}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00171}00171\ \ \ \ \ \textcolor{keywordflow}{for}\ name,\ length\ \textcolor{keywordflow}{in}\ parts:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ out[name]\ =\ s[start\ :\ start\ +\ length].strip()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ start\ +=\ length}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00174}00174\ \ \ \ \ del\ out[\textcolor{stringliteral}{"{}\_"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00175}00175\ \ \ \ \ \textcolor{keywordflow}{return}\ out}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00178}00178\ \textcolor{keyword}{def\ }\_handle\_truncated\_float\_vec(vec,\ nbytes):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00179}00179\ \ \ \ \ \textcolor{comment}{\#\ This\ feature\ is\ not\ well\ documented,\ but\ some\ SAS\ XPORT\ files}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00180}00180\ \ \ \ \ \textcolor{comment}{\#\ have\ 2-\/7\ byte\ "{}truncated"{}\ floats.\ \ To\ read\ these\ truncated}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00181}00181\ \ \ \ \ \textcolor{comment}{\#\ floats,\ pad\ them\ with\ zeros\ on\ the\ right\ to\ make\ 8\ byte\ floats.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00182}00182\ \ \ \ \ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00183}00183\ \ \ \ \ \textcolor{comment}{\#\ References:}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00184}00184\ \ \ \ \ \textcolor{comment}{\#\ https://github.com/jcushman/xport/pull/3}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00185}00185\ \ \ \ \ \textcolor{comment}{\#\ The\ R\ "{}foreign"{}\ library}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00186}00186\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00187}00187\ \ \ \ \ \textcolor{keywordflow}{if}\ nbytes\ !=\ 8:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ vec1\ =\ np.zeros(len(vec),\ np.dtype(\textcolor{stringliteral}{"{}S8"{}}))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ dtype\ =\ np.dtype(f\textcolor{stringliteral}{"{}S\{nbytes\},S\{8\ -\/\ nbytes\}"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ vec2\ =\ vec1.view(dtype=dtype)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ vec2[\textcolor{stringliteral}{"{}f0"{}}]\ =\ vec}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vec2}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00193}00193\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00194}00194\ \ \ \ \ \textcolor{keywordflow}{return}\ vec}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00195}00195\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00196}00196\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00197}\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a9054fa2603736e06c1fb75334a8377a8}{00197}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a9054fa2603736e06c1fb75334a8377a8}{\_parse\_float\_vec}}(vec):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00198}00198\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00199}00199\ \textcolor{stringliteral}{\ \ \ \ Parse\ a\ vector\ of\ float\ values\ representing\ IBM\ 8\ byte\ floats\ into}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00200}00200\ \textcolor{stringliteral}{\ \ \ \ native\ 8\ byte\ floats.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00201}00201\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00202}00202\ \ \ \ \ dtype\ =\ np.dtype(\textcolor{stringliteral}{"{}>u4,>u4"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00203}00203\ \ \ \ \ vec1\ =\ vec.view(dtype=dtype)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00204}00204\ \ \ \ \ xport1\ =\ vec1[\textcolor{stringliteral}{"{}f0"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00205}00205\ \ \ \ \ xport2\ =\ vec1[\textcolor{stringliteral}{"{}f1"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00206}00206\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00207}00207\ \ \ \ \ \textcolor{comment}{\#\ Start\ by\ setting\ first\ half\ of\ ieee\ number\ to\ first\ half\ of\ IBM}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00208}00208\ \ \ \ \ \textcolor{comment}{\#\ number\ sans\ exponent}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00209}00209\ \ \ \ \ ieee1\ =\ xport1\ \&\ 0x00FFFFFF}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00211}00211\ \ \ \ \ \textcolor{comment}{\#\ The\ fraction\ bit\ to\ the\ left\ of\ the\ binary\ point\ in\ the\ ieee}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00212}00212\ \ \ \ \ \textcolor{comment}{\#\ format\ was\ set\ and\ the\ number\ was\ shifted\ 0,\ 1,\ 2,\ or\ 3}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00213}00213\ \ \ \ \ \textcolor{comment}{\#\ places.\ This\ will\ tell\ us\ how\ to\ adjust\ the\ ibm\ exponent\ to\ be\ a}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00214}00214\ \ \ \ \ \textcolor{comment}{\#\ power\ of\ 2\ ieee\ exponent\ and\ how\ to\ shift\ the\ fraction\ bits\ to}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00215}00215\ \ \ \ \ \textcolor{comment}{\#\ restore\ the\ correct\ magnitude.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00216}00216\ \ \ \ \ shift\ =\ np.zeros(len(vec),\ dtype=np.uint8)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00217}00217\ \ \ \ \ shift[np.where(xport1\ \&\ 0x00200000)]\ =\ 1}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00218}00218\ \ \ \ \ shift[np.where(xport1\ \&\ 0x00400000)]\ =\ 2}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00219}00219\ \ \ \ \ shift[np.where(xport1\ \&\ 0x00800000)]\ =\ 3}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00220}00220\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00221}00221\ \ \ \ \ \textcolor{comment}{\#\ shift\ the\ ieee\ number\ down\ the\ correct\ number\ of\ places\ then}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00222}00222\ \ \ \ \ \textcolor{comment}{\#\ set\ the\ second\ half\ of\ the\ ieee\ number\ to\ be\ the\ second\ half}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00223}00223\ \ \ \ \ \textcolor{comment}{\#\ of\ the\ ibm\ number\ shifted\ appropriately,\ ored\ with\ the\ bits}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00224}00224\ \ \ \ \ \textcolor{comment}{\#\ from\ the\ first\ half\ that\ would\ have\ been\ shifted\ in\ if\ we}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00225}00225\ \ \ \ \ \textcolor{comment}{\#\ could\ shift\ a\ double.\ All\ we\ are\ worried\ about\ are\ the\ low}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00226}00226\ \ \ \ \ \textcolor{comment}{\#\ order\ 3\ bits\ of\ the\ first\ half\ since\ we're\ only\ shifting\ by}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00227}00227\ \ \ \ \ \textcolor{comment}{\#\ 1,\ 2,\ or\ 3.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00228}00228\ \ \ \ \ ieee1\ >>=\ shift}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00229}00229\ \ \ \ \ ieee2\ =\ (xport2\ >>\ shift)\ |\ ((xport1\ \&\ 0x00000007)\ <<\ (29\ +\ (3\ -\/\ shift)))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00231}00231\ \ \ \ \ \textcolor{comment}{\#\ clear\ the\ 1\ bit\ to\ the\ left\ of\ the\ binary\ point}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00232}00232\ \ \ \ \ ieee1\ \&=\ 0xFFEFFFFF}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00233}00233\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00234}00234\ \ \ \ \ \textcolor{comment}{\#\ set\ the\ exponent\ of\ the\ ieee\ number\ to\ be\ the\ actual\ exponent}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00235}00235\ \ \ \ \ \textcolor{comment}{\#\ plus\ the\ shift\ count\ +\ 1023.\ Or\ this\ into\ the\ first\ half\ of\ the}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00236}00236\ \ \ \ \ \textcolor{comment}{\#\ ieee\ number.\ The\ ibm\ exponent\ is\ excess\ 64\ but\ is\ adjusted\ by\ 65}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00237}00237\ \ \ \ \ \textcolor{comment}{\#\ since\ during\ conversion\ to\ ibm\ format\ the\ exponent\ is}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00238}00238\ \ \ \ \ \textcolor{comment}{\#\ incremented\ by\ 1\ and\ the\ fraction\ bits\ left\ 4\ positions\ to\ the}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00239}00239\ \ \ \ \ \textcolor{comment}{\#\ right\ of\ the\ radix\ point.\ \ (had\ to\ add\ >>\ 24\ because\ C\ treats\ \&}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00240}00240\ \ \ \ \ \textcolor{comment}{\#\ 0x7f\ as\ 0x7f000000\ and\ Python\ doesn't)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00241}00241\ \ \ \ \ ieee1\ |=\ ((((((xport1\ >>\ 24)\ \&\ 0x7F)\ -\/\ 65)\ <<\ 2)\ +\ shift\ +\ 1023)\ <<\ 20)\ |\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ xport1\ \&\ 0x80000000}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00243}00243\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00244}00244\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00245}00245\ \ \ \ \ ieee\ =\ np.empty((len(ieee1),),\ dtype=\textcolor{stringliteral}{"{}>u4,>u4"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00246}00246\ \ \ \ \ ieee[\textcolor{stringliteral}{"{}f0"{}}]\ =\ ieee1}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00247}00247\ \ \ \ \ ieee[\textcolor{stringliteral}{"{}f1"{}}]\ =\ ieee2}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00248}00248\ \ \ \ \ ieee\ =\ ieee.view(dtype=\textcolor{stringliteral}{"{}>f8"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00249}00249\ \ \ \ \ ieee\ =\ ieee.astype(\textcolor{stringliteral}{"{}f8"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00250}00250\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00251}00251\ \ \ \ \ \textcolor{keywordflow}{return}\ ieee}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00252}00252\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00253}00253\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00254}\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader}{00254}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader}{XportReader}}(\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sasreader_1_1ReaderBase}{ReaderBase}},\ abc.Iterator):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00255}00255\ \ \ \ \ \_\_doc\_\_\ =\ \_xport\_reader\_doc}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00256}00256\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00257}00257\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00259}00259\ \ \ \ \ \ \ \ \ filepath\_or\_buffer:\ FilePath\ |\ ReadBuffer[bytes],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00260}00260\ \ \ \ \ \ \ \ \ index=\textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00261}00261\ \ \ \ \ \ \ \ \ encoding:\ str\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{stringliteral}{"{}ISO-\/8859-\/1"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00262}00262\ \ \ \ \ \ \ \ \ chunksize:\ int\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ compression:\ CompressionOptions\ =\ \textcolor{stringliteral}{"{}infer"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00264}00264\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc762ee3a3a981d00bedae411c11e268}{\_encoding}}\ =\ encoding}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a36eb7ce293eabc050c34ccd9d72303a2}{\_lines\_read}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a60c0775a5fd973c96ea2102fe1e942df}{\_index}}\ =\ index}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a63fd9eb25f6c286045d033c7fc883abe}{\_chunksize}}\ =\ chunksize}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00269}00269\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ab8e4b8c44a6f336cb5f6030d1d1ae58d}{handles}}\ =\ get\_handle(}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ filepath\_or\_buffer,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}rb"{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ encoding=encoding,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ is\_text=\textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ compression=compression,}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ab8e4b8c44a6f336cb5f6030d1d1ae58d}{handles}}.handle}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_aebe2984577810dfde8c7581f71d13f6e}{\_read\_header}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1ecafc8fc81cd12ea8f842aec0730c30}{close}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00284}00284\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00285}00285\ \ \ \ \ \textcolor{keyword}{def\ }close(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ab8e4b8c44a6f336cb5f6030d1d1ae58d}{handles}}.close()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00287}00287\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00288}00288\ \ \ \ \ \textcolor{keyword}{def\ }\_get\_row(self):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.read(80).decode()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00290}00290\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00291}00291\ \ \ \ \ \textcolor{keyword}{def\ }\_read\_header(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00292}00292\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.seek(0)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00293}00293\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ read\ file\ header}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ line1\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00296}00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ line1\ !=\ \_correct\_line1:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}**COMPRESSED**"{}}\ \textcolor{keywordflow}{in}\ line1:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ this\ was\ created\ with\ the\ PROC\ CPORT\ method\ and\ can't\ be\ read}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ https://documentation.sas.com/doc/en/pgmsascdc/9.4\_3.5/movefile/p1bm6aqp3fw4uin1hucwh718f6kp.htm}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Header\ record\ indicates\ a\ CPORT\ file,\ which\ is\ not\ readable."{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Header\ record\ is\ not\ an\ XPORT\ file."{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00304}00304\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00305}00305\ \ \ \ \ \ \ \ \ line2\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ fif\ =\ [[\textcolor{stringliteral}{"{}prefix"{}},\ 24],\ [\textcolor{stringliteral}{"{}version"{}},\ 8],\ [\textcolor{stringliteral}{"{}OS"{}},\ 8],\ [\textcolor{stringliteral}{"{}\_"{}},\ 24],\ [\textcolor{stringliteral}{"{}created"{}},\ 16]]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ file\_info\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a68600da016cc436c37218af504e5f9a1}{\_split\_line}}(line2,\ fif)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ file\_info[\textcolor{stringliteral}{"{}prefix"{}}]\ !=\ \textcolor{stringliteral}{"{}SAS\ \ \ \ \ SAS\ \ \ \ \ SASLIB"{}}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Header\ record\ has\ invalid\ prefix."{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ file\_info[\textcolor{stringliteral}{"{}created"{}}]\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a2514cec9be6fb2c06c744a8756e2aeae}{\_parse\_date}}(file\_info[\textcolor{stringliteral}{"{}created"{}}])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1bd38c4c57320c697268691676b1fe82}{file\_info}}\ =\ file\_info}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00312}00312\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ line3\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ file\_info[\textcolor{stringliteral}{"{}modified"{}}]\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a2514cec9be6fb2c06c744a8756e2aeae}{\_parse\_date}}(line3[:16])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00315}00315\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00316}00316\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ read\ member\ header}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00317}00317\ \ \ \ \ \ \ \ \ header1\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ header2\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00319}00319\ \ \ \ \ \ \ \ \ headflag1\ =\ header1.startswith(\_correct\_header1)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ headflag2\ =\ header2\ ==\ \_correct\_header2}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (headflag1\ \textcolor{keywordflow}{and}\ headflag2):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Member\ header\ not\ found"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ usually\ 140,\ could\ be\ 135}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ fieldnamelength\ =\ int(header1[-\/5:-\/2])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00325}00325\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ member\ info}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ mem\ =\ [}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}prefix"{}},\ 8],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}set\_name"{}},\ 8],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}sasdata"{}},\ 8],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}version"{}},\ 8],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}OS"{}},\ 8],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}\_"{}},\ 24],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}created"{}},\ 16],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00336}00336\ \ \ \ \ \ \ \ \ member\_info\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a68600da016cc436c37218af504e5f9a1}{\_split\_line}}(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}(),\ mem)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ mem\ =\ [[\textcolor{stringliteral}{"{}modified"{}},\ 16],\ [\textcolor{stringliteral}{"{}\_"{}},\ 16],\ [\textcolor{stringliteral}{"{}label"{}},\ 40],\ [\textcolor{stringliteral}{"{}type"{}},\ 8]]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ member\_info.update(\mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a68600da016cc436c37218af504e5f9a1}{\_split\_line}}(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}(),\ mem))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ member\_info[\textcolor{stringliteral}{"{}modified"{}}]\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a2514cec9be6fb2c06c744a8756e2aeae}{\_parse\_date}}(member\_info[\textcolor{stringliteral}{"{}modified"{}}])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00340}00340\ \ \ \ \ \ \ \ \ member\_info[\textcolor{stringliteral}{"{}created"{}}]\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a2514cec9be6fb2c06c744a8756e2aeae}{\_parse\_date}}(member\_info[\textcolor{stringliteral}{"{}created"{}}])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_abaf4888fc1b5ec739fb4eca3c6b4a233}{member\_info}}\ =\ member\_info}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00342}00342\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ read\ field\ names}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ types\ =\ \{1:\ \textcolor{stringliteral}{"{}numeric"{}},\ 2:\ \textcolor{stringliteral}{"{}char"{}}\}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ fieldcount\ =\ int(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()[54:58])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ datalength\ =\ fieldnamelength\ *\ fieldcount}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ round\ up\ to\ nearest\ 80}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ datalength\ \%\ 80:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ datalength\ +=\ 80\ -\/\ datalength\ \%\ 80}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ fielddata\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.read(datalength)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ fields\ =\ []}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ obs\_length\ =\ 0}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ len(fielddata)\ >=\ fieldnamelength:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ pull\ data\ for\ one\ field}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ fieldbytes,\ fielddata\ =\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fielddata[:fieldnamelength],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fielddata[fieldnamelength:],}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00359}00359\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ rest\ at\ end\ gets\ ignored,\ so\ if\ field\ is\ short,\ pad\ out}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ to\ match\ struct\ pattern\ below}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ fieldbytes\ =\ fieldbytes.ljust(140)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ fieldstruct\ =\ struct.unpack(\textcolor{stringliteral}{"{}>hhhh8s40s8shhh2s8shhl52s"{}},\ fieldbytes)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00365}00365\ \ \ \ \ \ \ \ \ \ \ \ \ field\ =\ dict(zip(\_fieldkeys,\ fieldstruct))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00366}00366\ \ \ \ \ \ \ \ \ \ \ \ \ del\ field[\textcolor{stringliteral}{"{}\_"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \ \ \ \ field[\textcolor{stringliteral}{"{}ntype"{}}]\ =\ types[field[\textcolor{stringliteral}{"{}ntype"{}}]]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \ \ \ \ fl\ =\ field[\textcolor{stringliteral}{"{}field\_length"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ field[\textcolor{stringliteral}{"{}ntype"{}}]\ ==\ \textcolor{stringliteral}{"{}numeric"{}}\ \textcolor{keywordflow}{and}\ ((fl\ <\ 2)\ \textcolor{keywordflow}{or}\ (fl\ >\ 8)):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ f\textcolor{stringliteral}{"{}Floating\ field\ width\ \{fl\}\ is\ not\ between\ 2\ and\ 8."{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(msg)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00372}00372\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ field.items():}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ field[k]\ =\ v.strip()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ AttributeError:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00378}00378\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ obs\_length\ +=\ field[\textcolor{stringliteral}{"{}field\_length"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ fields\ +=\ [field]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00381}00381\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00382}00382\ \ \ \ \ \ \ \ \ header\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ea8ee2595cc309f98a17842da87ea30}{\_get\_row}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ header\ ==\ \_correct\_obs\_header:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Observation\ header\ not\ found."{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1d1efcdae41532923943ff961684fa20}{fields}}\ =\ fields}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00387}00387\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc2b60f4f06f0eee939c33daf35c9272}{record\_length}}\ =\ obs\_length}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad6960a0b2d2d1d84f0f72d654694c845}{record\_start}}\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.tell()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00389}00389\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00390}00390\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a5a7abfa6bd24318106f699bb4e935b6f}{nobs}}\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ba8671ccfd6b4c08fb0d18f523f0440}{\_record\_count}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a20f0fb48f866a639e18524ca72c8523a}{columns}}\ =\ [x[\textcolor{stringliteral}{"{}name"{}}].decode()\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1d1efcdae41532923943ff961684fa20}{fields}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00392}00392\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Setup\ the\ dtype.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ dtypel\ =\ [}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}s"{}}\ +\ str(i),\ \textcolor{stringliteral}{"{}S"{}}\ +\ str(field[\textcolor{stringliteral}{"{}field\_length"{}}]))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ field\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1d1efcdae41532923943ff961684fa20}{fields}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00397}00397\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ dtype\ =\ np.dtype(dtypel)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a583e741d11892693b4f909285825c434}{\_dtype}}\ =\ dtype}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00400}00400\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00401}00401\ \ \ \ \ \textcolor{keyword}{def\ }\_\_next\_\_(self)\ -\/>\ pd.DataFrame:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00402}00402\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a67783f8cdb6d7dace1f4f73cf7b846d4}{read}}(nrows=self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a63fd9eb25f6c286045d033c7fc883abe}{\_chunksize}}\ \textcolor{keywordflow}{or}\ 1)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00403}00403\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00404}\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ba8671ccfd6b4c08fb0d18f523f0440}{00404}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a6ba8671ccfd6b4c08fb0d18f523f0440}{\_record\_count}}(self)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00405}00405\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00406}00406\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Get\ number\ of\ records\ in\ file.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00407}00407\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00408}00408\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ is\ maybe\ suboptimal\ because\ we\ have\ to\ seek\ to\ the\ end\ of}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00409}00409\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ file.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00410}00410\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00411}00411\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Side\ effect:\ returns\ file\ position\ to\ record\_start.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00412}00412\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.seek(0,\ 2)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ total\_records\_length\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.tell()\ -\/\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad6960a0b2d2d1d84f0f72d654694c845}{record\_start}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00415}00415\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ total\_records\_length\ \%\ 80\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}xport\ file\ may\ be\ corrupted."{}},}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=find\_stack\_level(),}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00421}00421\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc2b60f4f06f0eee939c33daf35c9272}{record\_length}}\ >\ 80:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.seek(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad6960a0b2d2d1d84f0f72d654694c845}{record\_start}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ total\_records\_length\ //\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc2b60f4f06f0eee939c33daf35c9272}{record\_length}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00425}00425\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.seek(-\/80,\ 2)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ last\_card\_bytes\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.read(80)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ last\_card\ =\ np.frombuffer(last\_card\_bytes,\ dtype=np.uint64)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00429}00429\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 8\ byte\ blank}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ ix\ =\ np.flatnonzero(last\_card\ ==\ 2314885530818453536)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00432}00432\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(ix)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ tail\_pad\ =\ 0}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ tail\_pad\ =\ 8\ *\ len(ix)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00437}00437\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.seek(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad6960a0b2d2d1d84f0f72d654694c845}{record\_start}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00439}00439\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (total\_records\_length\ -\/\ tail\_pad)\ //\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc2b60f4f06f0eee939c33daf35c9272}{record\_length}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00441}00441\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00442}\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a4e29d3a7769bb5f3ff2f183331e76d17}{00442}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a4e29d3a7769bb5f3ff2f183331e76d17}{get\_chunk}}(self,\ size:\ int\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ pd.DataFrame:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00444}00444\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Reads\ lines\ from\ Xport\ file\ and\ returns\ as\ dataframe}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00445}00445\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00446}00446\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00447}00447\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00448}00448\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ size\ :\ int,\ defaults\ to\ None}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00449}00449\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Number\ of\ lines\ to\ read.\ \ If\ None,\ reads\ whole\ file.}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00450}00450\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00451}00451\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00452}00452\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00453}00453\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ DataFrame}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00454}00454\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ size\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ size\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a63fd9eb25f6c286045d033c7fc883abe}{\_chunksize}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a67783f8cdb6d7dace1f4f73cf7b846d4}{read}}(nrows=size)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00458}00458\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00459}00459\ \ \ \ \ \textcolor{keyword}{def\ }\_missing\_double(self,\ vec):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00460}00460\ \ \ \ \ \ \ \ \ v\ =\ vec.view(dtype=\textcolor{stringliteral}{"{}u1,u1,u2,u4"{}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00461}00461\ \ \ \ \ \ \ \ \ miss\ =\ (v[\textcolor{stringliteral}{"{}f1"{}}]\ ==\ 0)\ \&\ (v[\textcolor{stringliteral}{"{}f2"{}}]\ ==\ 0)\ \&\ (v[\textcolor{stringliteral}{"{}f3"{}}]\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00462}00462\ \ \ \ \ \ \ \ \ miss1\ =\ (}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00463}00463\ \ \ \ \ \ \ \ \ \ \ \ \ ((v[\textcolor{stringliteral}{"{}f0"{}}]\ >=\ 0x41)\ \&\ (v[\textcolor{stringliteral}{"{}f0"{}}]\ <=\ 0x5A))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00464}00464\ \ \ \ \ \ \ \ \ \ \ \ \ |\ (v[\textcolor{stringliteral}{"{}f0"{}}]\ ==\ 0x5F)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ |\ (v[\textcolor{stringliteral}{"{}f0"{}}]\ ==\ 0x2E)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00466}00466\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00467}00467\ \ \ \ \ \ \ \ \ miss\ \&=\ miss1}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00468}00468\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ miss}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00469}00469\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00470}00470\ \ \ \ \ \textcolor{preprocessor}{@Appender(\_read\_method\_doc)}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00471}00471\ \ \ \ \ \textcolor{keyword}{def\ }read(self,\ nrows:\ int\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None})\ -\/>\ pd.DataFrame:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ nrows\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ nrows\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a5a7abfa6bd24318106f699bb4e935b6f}{nobs}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00474}00474\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ read\_lines\ =\ min(nrows,\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a5a7abfa6bd24318106f699bb4e935b6f}{nobs}}\ -\/\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a36eb7ce293eabc050c34ccd9d72303a2}{\_lines\_read}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00476}00476\ \ \ \ \ \ \ \ \ read\_len\ =\ read\_lines\ *\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc2b60f4f06f0eee939c33daf35c9272}{record\_length}}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ read\_len\ <=\ 0:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1ecafc8fc81cd12ea8f842aec0730c30}{close}}()}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ StopIteration}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00480}00480\ \ \ \ \ \ \ \ \ raw\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_ad2b0e10d5eb503eee8585708fe9fd953}{filepath\_or\_buffer}}.read(read\_len)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00481}00481\ \ \ \ \ \ \ \ \ data\ =\ np.frombuffer(raw,\ dtype=self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a583e741d11892693b4f909285825c434}{\_dtype}},\ count=read\_lines)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00482}00482\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ df\_data\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j,\ x\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a20f0fb48f866a639e18524ca72c8523a}{columns}}):}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ vec\ =\ data[\textcolor{stringliteral}{"{}s"{}}\ +\ str(j)]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ ntype\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1d1efcdae41532923943ff961684fa20}{fields}}[j][\textcolor{stringliteral}{"{}ntype"{}}]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ntype\ ==\ \textcolor{stringliteral}{"{}numeric"{}}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vec\ =\ \_handle\_truncated\_float\_vec(vec,\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1d1efcdae41532923943ff961684fa20}{fields}}[j][\textcolor{stringliteral}{"{}field\_length"{}}])}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ miss\ =\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_afabc09bbc430003d1c18fb335a25ab76}{\_missing\_double}}(vec)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ \mbox{\hyperlink{namespacepandas_1_1io_1_1sas_1_1sas__xport_a9054fa2603736e06c1fb75334a8377a8}{\_parse\_float\_vec}}(vec)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v[miss]\ =\ np.nan}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a1d1efcdae41532923943ff961684fa20}{fields}}[j][\textcolor{stringliteral}{"{}ntype"{}}]\ ==\ \textcolor{stringliteral}{"{}char"{}}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ [y.rstrip()\ \textcolor{keywordflow}{for}\ y\ \textcolor{keywordflow}{in}\ vec]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00494}00494\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc762ee3a3a981d00bedae411c11e268}{\_encoding}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ [y.decode(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_adc762ee3a3a981d00bedae411c11e268}{\_encoding}})\ \textcolor{keywordflow}{for}\ y\ \textcolor{keywordflow}{in}\ v]}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00497}00497\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00498}00498\ \ \ \ \ \ \ \ \ \ \ \ \ df\_data.update(\{x:\ v\})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00499}00499\ \ \ \ \ \ \ \ \ df\ =\ pd.DataFrame(df\_data)}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00500}00500\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00501}00501\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a60c0775a5fd973c96ea2102fe1e942df}{\_index}}\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ df.index\ =\ pd.Index(range(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a36eb7ce293eabc050c34ccd9d72303a2}{\_lines\_read}},\ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a36eb7ce293eabc050c34ccd9d72303a2}{\_lines\_read}}\ +\ read\_lines))}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ df\ =\ df.set\_index(self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a60c0775a5fd973c96ea2102fe1e942df}{\_index}})}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00505}00505\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpandas_1_1io_1_1sas_1_1sas__xport_1_1XportReader_a36eb7ce293eabc050c34ccd9d72303a2}{\_lines\_read}}\ +=\ read\_lines}
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00507}00507\ }
\DoxyCodeLine{\Hypertarget{sas__xport_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ df}

\end{DoxyCode}
