\doxysection{\+\_\+supervised.\+py}
\hypertarget{__supervised_8py_source}{}\label{__supervised_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/metrics/cluster/\_supervised.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/metrics/cluster/\_supervised.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00001}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}Utilities\ to\ evaluate\ the\ clustering\ performance\ of\ models.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00002}00002\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00003}00003\ \textcolor{stringliteral}{Functions\ named\ as\ *\_score\ return\ a\ scalar\ value\ to\ maximize:\ the\ higher\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00004}00004\ \textcolor{stringliteral}{better.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00005}00005\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00007}00007\ \textcolor{comment}{\#\ Authors:\ The\ scikit-\/learn\ developers}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00008}00008\ \textcolor{comment}{\#\ SPDX-\/License-\/Identifier:\ BSD-\/3-\/Clause}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00010}00010\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00011}00011\ \textcolor{keyword}{from}\ math\ \textcolor{keyword}{import}\ log}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00012}00012\ \textcolor{keyword}{from}\ numbers\ \textcolor{keyword}{import}\ Real}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00014}00014\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00015}00015\ \textcolor{keyword}{from}\ scipy\ \textcolor{keyword}{import}\ sparse\ \textcolor{keyword}{as}\ sp}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00017}00017\ \textcolor{keyword}{from}\ ...utils.\_array\_api\ \textcolor{keyword}{import}\ \_max\_precision\_float\_dtype,\ get\_namespace\_and\_device}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00018}00018\ \textcolor{keyword}{from}\ ...utils.\_param\_validation\ \textcolor{keyword}{import}\ Hidden,\ Interval,\ StrOptions,\ validate\_params}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00019}00019\ \textcolor{keyword}{from}\ ...utils.multiclass\ \textcolor{keyword}{import}\ type\_of\_target}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00020}00020\ \textcolor{keyword}{from}\ ...utils.validation\ \textcolor{keyword}{import}\ check\_array,\ check\_consistent\_length}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00021}00021\ \textcolor{keyword}{from}\ .\_expected\_mutual\_info\_fast\ \textcolor{keyword}{import}\ expected\_mutual\_information}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00024}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{00024}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00025}00025\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ that\ the\ labels\ arrays\ are\ 1D\ and\ of\ same\ dimension.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00026}00026\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ true\ labels.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00031}00031\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00033}00033\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ predicted\ labels.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00035}00035\ \ \ \ \ labels\_true\ =\ check\_array(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ labels\_true,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ ensure\_2d=\textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ ensure\_min\_samples=0,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ dtype=\textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00040}00040\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00042}00042\ \ \ \ \ labels\_pred\ =\ check\_array(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ labels\_pred,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ ensure\_2d=\textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ ensure\_min\_samples=0,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ dtype=\textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00047}00047\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00049}00049\ \ \ \ \ type\_label\ =\ type\_of\_target(labels\_true)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00050}00050\ \ \ \ \ type\_pred\ =\ type\_of\_target(labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00052}00052\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}continuous"{}}\ \textcolor{keywordflow}{in}\ (type\_pred,\ type\_label):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ msg\ =\ (}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Clustering\ metrics\ expects\ discrete\ values\ but\ received"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\ \{type\_label\}\ values\ for\ label,\ and\ \{type\_pred\}\ values\ "{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}for\ target"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ warnings.warn(msg,\ UserWarning)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00060}00060\ \ \ \ \ \textcolor{comment}{\#\ input\ checks}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00061}00061\ \ \ \ \ \textcolor{keywordflow}{if}\ labels\_true.ndim\ !=\ 1:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}labels\_true\ must\ be\ 1D:\ shape\ is\ \%r"{}}\ \%\ (labels\_true.shape,))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00063}00063\ \ \ \ \ \textcolor{keywordflow}{if}\ labels\_pred.ndim\ !=\ 1:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}labels\_pred\ must\ be\ 1D:\ shape\ is\ \%r"{}}\ \%\ (labels\_pred.shape,))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00065}00065\ \ \ \ \ check\_consistent\_length(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00067}00067\ \ \ \ \ \textcolor{keywordflow}{return}\ labels\_true,\ labels\_pred}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00070}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a67b19ae497dbdcd1efa9e35f55dbbfc7}{00070}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a67b19ae497dbdcd1efa9e35f55dbbfc7}{\_generalized\_average}}(U,\ V,\ average\_method):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00071}00071\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ a\ particular\ mean\ of\ two\ numbers."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00072}00072\ \ \ \ \ \textcolor{keywordflow}{if}\ average\_method\ ==\ \textcolor{stringliteral}{"{}min"{}}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ min(U,\ V)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00074}00074\ \ \ \ \ \textcolor{keywordflow}{elif}\ average\_method\ ==\ \textcolor{stringliteral}{"{}geometric"{}}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.sqrt(U\ *\ V)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00076}00076\ \ \ \ \ \textcolor{keywordflow}{elif}\ average\_method\ ==\ \textcolor{stringliteral}{"{}arithmetic"{}}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.mean([U,\ V])}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00078}00078\ \ \ \ \ \textcolor{keywordflow}{elif}\ average\_method\ ==\ \textcolor{stringliteral}{"{}max"{}}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ max(U,\ V)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00080}00080\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}'average\_method'\ must\ be\ 'min',\ 'geometric',\ 'arithmetic',\ or\ 'max'"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00086}00086\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00087}00087\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}},\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}},\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}eps"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1Interval}{Interval}}(Real,\ 0,\ \textcolor{keywordtype}{None},\ closed=\textcolor{stringliteral}{"{}left"{}}),\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sparse"{}}:\ [\textcolor{stringliteral}{"{}boolean"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dtype"{}}:\ \textcolor{stringliteral}{"{}no\_validation"{}},\ \ \textcolor{comment}{\#\ delegate\ the\ validation\ to\ SciPy}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00093}00093\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00094}00094\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00095}00095\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00096}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{00096}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00097}00097\ \ \ \ \ labels\_true,\ labels\_pred,\ *,\ eps=None,\ sparse=False,\ dtype=np.int64}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00098}00098\ ):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00099}00099\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ a\ contingency\ matrix\ describing\ the\ relationship\ between\ labels.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00100}00100\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <contingency\_matrix>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00102}00102\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00103}00103\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00104}00104\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00107}00107\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00110}00110\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00111}00111\ \textcolor{stringliteral}{\ \ \ \ eps\ :\ float,\ default=None}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ a\ float,\ that\ value\ is\ added\ to\ all\ values\ in\ the\ contingency}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ matrix.\ This\ helps\ to\ stop\ NaN\ propagation.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}\`{}None\`{}\`{},\ nothing\ is\ adjusted.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00115}00115\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ sparse\ :\ bool,\ default=False}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00117}00117\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}True\`{},\ return\ a\ sparse\ CSR\ contingency\ matrix.\ If\ \`{}eps\`{}\ is\ not}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00118}00118\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}None\`{}\ and\ \`{}sparse\`{}\ is\ \`{}True\`{}\ will\ raise\ ValueError.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00119}00119\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00120}00120\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionadded::\ 0.18}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00121}00121\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00122}00122\ \textcolor{stringliteral}{\ \ \ \ dtype\ :\ numeric\ type,\ default=np.int64}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00123}00123\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Output\ dtype.\ Ignored\ if\ \`{}eps\`{}\ is\ not\ \`{}None\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00124}00124\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00125}00125\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionadded::\ 0.24}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00126}00126\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00127}00127\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00128}00128\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00129}00129\ \textcolor{stringliteral}{\ \ \ \ contingency\ :\ \{array-\/like,\ sparse\},\ shape=[n\_classes\_true,\ n\_classes\_pred]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00130}00130\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Matrix\ :math:\`{}C\`{}\ such\ that\ :math:\`{}C\_\{i,\ j\}\`{}\ is\ the\ number\ of\ samples\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00131}00131\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ true\ class\ :math:\`{}i\`{}\ and\ in\ predicted\ class\ :math:\`{}j\`{}.\ If}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00132}00132\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}eps\ is\ None\`{}\`{},\ the\ dtype\ of\ this\ array\ will\ be\ integer\ unless\ set}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00133}00133\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ otherwise\ with\ the\ \`{}\`{}dtype\`{}\`{}\ argument.\ If\ \`{}\`{}eps\`{}\`{}\ is\ given,\ the\ dtype}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00134}00134\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ will\ be\ float.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00135}00135\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Will\ be\ a\ \`{}\`{}sklearn.sparse.csr\_matrix\`{}\`{}\ if\ \`{}\`{}sparse=True\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00136}00136\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00137}00137\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ contingency\_matrix}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ >>>\ labels\_true\ =\ [0,\ 0,\ 1,\ 1,\ 2,\ 2]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00141}00141\ \textcolor{stringliteral}{\ \ \ \ >>>\ labels\_pred\ =\ [1,\ 0,\ 2,\ 1,\ 0,\ 2]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ >>>\ contingency\_matrix(labels\_true,\ labels\_pred)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00143}00143\ \textcolor{stringliteral}{\ \ \ \ array([[1,\ 1,\ 0],}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [0,\ 1,\ 1],}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00145}00145\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 0,\ 1]])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00146}00146\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00148}00148\ \ \ \ \ \textcolor{keywordflow}{if}\ eps\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ sparse:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Cannot\ set\ 'eps'\ when\ sparse=True"{}})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00151}00151\ \ \ \ \ classes,\ class\_idx\ =\ np.unique(labels\_true,\ return\_inverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00152}00152\ \ \ \ \ clusters,\ cluster\_idx\ =\ np.unique(labels\_pred,\ return\_inverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00153}00153\ \ \ \ \ n\_classes\ =\ classes.shape[0]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00154}00154\ \ \ \ \ n\_clusters\ =\ clusters.shape[0]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00155}00155\ \ \ \ \ \textcolor{comment}{\#\ Using\ coo\_matrix\ to\ accelerate\ simple\ histogram\ calculation,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00156}00156\ \ \ \ \ \textcolor{comment}{\#\ i.e.\ bins\ are\ consecutive\ integers}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00157}00157\ \ \ \ \ \textcolor{comment}{\#\ Currently,\ coo\_matrix\ is\ faster\ than\ histogram2d\ for\ simple\ cases}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00158}00158\ \ \ \ \ contingency\ =\ sp.coo\_matrix(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ (np.ones(class\_idx.shape[0]),\ (class\_idx,\ cluster\_idx)),}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ shape=(n\_classes,\ n\_clusters),}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ dtype=dtype,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00162}00162\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00163}00163\ \ \ \ \ \textcolor{keywordflow}{if}\ sparse:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ contingency\ =\ contingency.tocsr()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ contingency.sum\_duplicates()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00166}00166\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ contingency\ =\ contingency.toarray()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ eps\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ don't\ use\ +=\ as\ contingency\ is\ integer}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ contingency\ =\ contingency\ +\ eps}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00171}00171\ \ \ \ \ \textcolor{keywordflow}{return}\ contingency}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00174}00174\ \textcolor{comment}{\#\ clustering\ measures}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00175}00175\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00177}00177\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00178}00178\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00181}00181\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00182}00182\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00183}00183\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00184}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a91e10db8525d943e132641d887df35d1}{00184}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a91e10db8525d943e132641d887df35d1}{pair\_confusion\_matrix}}(labels\_true,\ labels\_pred):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00185}00185\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pair\ confusion\ matrix\ arising\ from\ two\ clusterings.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00186}00186\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00187}00187\ \textcolor{stringliteral}{\ \ \ \ The\ pair\ confusion\ matrix\ :math:\`{}C\`{}\ computes\ a\ 2\ by\ 2\ similarity\ matrix}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00188}00188\ \textcolor{stringliteral}{\ \ \ \ between\ two\ clusterings\ by\ considering\ all\ pairs\ of\ samples\ and\ counting}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00189}00189\ \textcolor{stringliteral}{\ \ \ \ pairs\ that\ are\ assigned\ into\ the\ same\ or\ into\ different\ clusters\ under}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00190}00190\ \textcolor{stringliteral}{\ \ \ \ the\ true\ and\ predicted\ clusterings\ [1]\_.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00191}00191\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00192}00192\ \textcolor{stringliteral}{\ \ \ \ Considering\ a\ pair\ of\ samples\ that\ is\ clustered\ together\ a\ positive\ pair,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00193}00193\ \textcolor{stringliteral}{\ \ \ \ then\ as\ in\ binary\ classification\ the\ count\ of\ true\ negatives\ is}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00194}00194\ \textcolor{stringliteral}{\ \ \ \ :math:\`{}C\_\{00\}\`{},\ false\ negatives\ is\ :math:\`{}C\_\{10\}\`{},\ true\ positives\ is}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00195}00195\ \textcolor{stringliteral}{\ \ \ \ :math:\`{}C\_\{11\}\`{}\ and\ false\ positives\ is\ :math:\`{}C\_\{01\}\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00196}00196\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00197}00197\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <pair\_confusion\_matrix>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00198}00198\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00199}00199\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00200}00200\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00201}00201\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=integral}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00202}00202\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00203}00203\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00204}00204\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=integral}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00205}00205\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00206}00206\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00207}00207\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00208}00208\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00209}00209\ \textcolor{stringliteral}{\ \ \ \ C\ :\ ndarray\ of\ shape\ (2,\ 2),\ dtype=np.int64}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00210}00210\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ contingency\ matrix.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00211}00211\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00212}00212\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00213}00213\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00214}00214\ \textcolor{stringliteral}{\ \ \ \ sklearn.metrics.rand\_score\ :\ Rand\ Score.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00215}00215\ \textcolor{stringliteral}{\ \ \ \ sklearn.metrics.adjusted\_rand\_score\ :\ Adjusted\ Rand\ Score.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00216}00216\ \textcolor{stringliteral}{\ \ \ \ sklearn.metrics.adjusted\_mutual\_info\_score\ :\ Adjusted\ Mutual\ Information.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00217}00217\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00218}00218\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00219}00219\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00220}00220\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ :doi:\`{}Hubert,\ L.,\ Arabie,\ P.\ "{}Comparing\ partitions."{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00221}00221\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ Journal\ of\ Classification\ 2,\ 193–218\ (1985).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00222}00222\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ <10.1007/BF01908075>\`{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00223}00223\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00224}00224\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00225}00225\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00226}00226\ \textcolor{stringliteral}{\ \ \ \ Perfectly\ matching\ labelings\ have\ all\ non-\/zero\ entries\ on\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00227}00227\ \textcolor{stringliteral}{\ \ \ \ diagonal\ regardless\ of\ actual\ label\ values:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00228}00228\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00229}00229\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ pair\_confusion\_matrix}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00230}00230\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ pair\_confusion\_matrix([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00231}00231\ \textcolor{stringliteral}{\ \ \ \ \ \ array([[8,\ 0],}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00232}00232\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ 4]]...}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00233}00233\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00234}00234\ \textcolor{stringliteral}{\ \ \ \ Labelings\ that\ assign\ all\ classes\ members\ to\ the\ same\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00235}00235\ \textcolor{stringliteral}{\ \ \ \ are\ complete\ but\ may\ be\ not\ always\ pure,\ hence\ penalized,\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00236}00236\ \textcolor{stringliteral}{\ \ \ \ have\ some\ off-\/diagonal\ non-\/zero\ entries:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00237}00237\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00238}00238\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ pair\_confusion\_matrix([0,\ 0,\ 1,\ 2],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00239}00239\ \textcolor{stringliteral}{\ \ \ \ \ \ array([[8,\ 2],}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00240}00240\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ 2]]...}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00241}00241\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00242}00242\ \textcolor{stringliteral}{\ \ \ \ Note\ that\ the\ matrix\ is\ not\ symmetric.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00243}00243\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00244}00244\ \ \ \ \ labels\_true,\ labels\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00245}00245\ \ \ \ \ n\_samples\ =\ np.int64(labels\_true.shape[0])}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00247}00247\ \ \ \ \ \textcolor{comment}{\#\ Computation\ using\ the\ contingency\ data}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00248}00248\ \ \ \ \ contingency\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00249}00249\ \ \ \ \ \ \ \ \ labels\_true,\ labels\_pred,\ sparse=\textcolor{keyword}{True},\ dtype=np.int64}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00250}00250\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00251}00251\ \ \ \ \ n\_c\ =\ np.ravel(contingency.sum(axis=1))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00252}00252\ \ \ \ \ n\_k\ =\ np.ravel(contingency.sum(axis=0))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00253}00253\ \ \ \ \ sum\_squares\ =\ (contingency.data**2).sum()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00254}00254\ \ \ \ \ C\ =\ np.empty((2,\ 2),\ dtype=np.int64)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00255}00255\ \ \ \ \ C[1,\ 1]\ =\ sum\_squares\ -\/\ n\_samples}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00256}00256\ \ \ \ \ C[0,\ 1]\ =\ contingency.dot(n\_k).sum()\ -\/\ sum\_squares}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00257}00257\ \ \ \ \ C[1,\ 0]\ =\ contingency.transpose().dot(n\_c).sum()\ -\/\ sum\_squares}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00258}00258\ \ \ \ \ C[0,\ 0]\ =\ n\_samples**2\ -\/\ C[0,\ 1]\ -\/\ C[1,\ 0]\ -\/\ sum\_squares}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00259}00259\ \ \ \ \ \textcolor{keywordflow}{return}\ C}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00261}00261\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00262}00262\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00263}00263\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00266}00266\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00267}00267\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00268}00268\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00269}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a730947c8e7e9b0e67c8b8e2370accf67}{00269}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a730947c8e7e9b0e67c8b8e2370accf67}{rand\_score}}(labels\_true,\ labels\_pred):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00270}00270\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Rand\ index.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00271}00271\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00272}00272\ \textcolor{stringliteral}{\ \ \ \ The\ Rand\ Index\ computes\ a\ similarity\ measure\ between\ two\ clusterings}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00273}00273\ \textcolor{stringliteral}{\ \ \ \ by\ considering\ all\ pairs\ of\ samples\ and\ counting\ pairs\ that\ are}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00274}00274\ \textcolor{stringliteral}{\ \ \ \ assigned\ in\ the\ same\ or\ different\ clusters\ in\ the\ predicted\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00275}00275\ \textcolor{stringliteral}{\ \ \ \ true\ clusterings\ [1]\_\ [2]\_.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00276}00276\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00277}00277\ \textcolor{stringliteral}{\ \ \ \ The\ raw\ RI\ score\ [3]\_\ is:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00278}00278\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00279}00279\ \textcolor{stringliteral}{\ \ \ \ ..\ code-\/block::\ text}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00280}00280\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00281}00281\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ RI\ =\ (number\ of\ agreeing\ pairs)\ /\ (number\ of\ pairs)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00282}00282\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00283}00283\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <rand\_score>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00284}00284\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00285}00285\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00286}00286\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00287}00287\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=integral}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00288}00288\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00289}00289\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00290}00290\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=integral}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00291}00291\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00292}00292\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00293}00293\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00294}00294\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00295}00295\ \textcolor{stringliteral}{\ \ \ \ RI\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00296}00296\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Similarity\ score\ between\ 0.0\ and\ 1.0,\ inclusive,\ 1.0\ stands\ for}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00297}00297\ \textcolor{stringliteral}{\ \ \ \ \ \ \ perfect\ match.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00298}00298\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00299}00299\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00300}00300\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00301}00301\ \textcolor{stringliteral}{\ \ \ \ adjusted\_rand\_score:\ Adjusted\ Rand\ Score.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00302}00302\ \textcolor{stringliteral}{\ \ \ \ adjusted\_mutual\_info\_score:\ Adjusted\ Mutual\ Information.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00303}00303\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00304}00304\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00305}00305\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00306}00306\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ :doi:\`{}Hubert,\ L.,\ Arabie,\ P.\ "{}Comparing\ partitions."{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00307}00307\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Journal\ of\ Classification\ 2,\ 193–218\ (1985).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00308}00308\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <10.1007/BF01908075>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00309}00309\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00310}00310\ \textcolor{stringliteral}{\ \ \ \ ..\ [2]\ \`{}Wikipedia:\ Simple\ Matching\ Coefficient}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00311}00311\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ <https://en.wikipedia.org/wiki/Simple\_matching\_coefficient>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00312}00312\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00313}00313\ \textcolor{stringliteral}{\ \ \ \ ..\ [3]\ \`{}Wikipedia:\ Rand\ Index\ <https://en.wikipedia.org/wiki/Rand\_index>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00314}00314\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00315}00315\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00316}00316\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00317}00317\ \textcolor{stringliteral}{\ \ \ \ Perfectly\ matching\ labelings\ have\ a\ score\ of\ 1\ even}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00318}00318\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00319}00319\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ rand\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00320}00320\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ rand\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00321}00321\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00322}00322\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00323}00323\ \textcolor{stringliteral}{\ \ \ \ Labelings\ that\ assign\ all\ classes\ members\ to\ the\ same\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00324}00324\ \textcolor{stringliteral}{\ \ \ \ are\ complete\ but\ may\ not\ always\ be\ pure,\ hence\ penalized:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00325}00325\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00326}00326\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ rand\_score([0,\ 0,\ 1,\ 2],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00327}00327\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.83}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00328}00328\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00329}00329\ \ \ \ \ contingency\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a91e10db8525d943e132641d887df35d1}{pair\_confusion\_matrix}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00330}00330\ \ \ \ \ numerator\ =\ contingency.diagonal().sum()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00331}00331\ \ \ \ \ denominator\ =\ contingency.sum()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00332}00332\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00333}00333\ \ \ \ \ \textcolor{keywordflow}{if}\ numerator\ ==\ denominator\ \textcolor{keywordflow}{or}\ denominator\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Special\ limit\ cases:\ no\ clustering\ since\ the\ data\ is\ not\ split;}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ or\ trivial\ clustering\ where\ each\ document\ is\ assigned\ a\ unique}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00336}00336\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ cluster.\ These\ are\ perfect\ matches\ hence\ return\ 1.0.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00338}00338\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00339}00339\ \ \ \ \ \textcolor{keywordflow}{return}\ float(numerator\ /\ denominator)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00340}00340\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00341}00341\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00342}00342\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00343}00343\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00346}00346\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00347}00347\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00348}00348\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00349}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a34402b0738a8cbc3a89c2a13fe75daba}{00349}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a34402b0738a8cbc3a89c2a13fe75daba}{adjusted\_rand\_score}}(labels\_true,\ labels\_pred):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00350}00350\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Rand\ index\ adjusted\ for\ chance.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00351}00351\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00352}00352\ \textcolor{stringliteral}{\ \ \ \ The\ Rand\ Index\ computes\ a\ similarity\ measure\ between\ two\ clusterings}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00353}00353\ \textcolor{stringliteral}{\ \ \ \ by\ considering\ all\ pairs\ of\ samples\ and\ counting\ pairs\ that\ are}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00354}00354\ \textcolor{stringliteral}{\ \ \ \ assigned\ in\ the\ same\ or\ different\ clusters\ in\ the\ predicted\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00355}00355\ \textcolor{stringliteral}{\ \ \ \ true\ clusterings.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00356}00356\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00357}00357\ \textcolor{stringliteral}{\ \ \ \ The\ raw\ RI\ score\ is\ then\ "{}adjusted\ for\ chance"{}\ into\ the\ ARI\ score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00358}00358\ \textcolor{stringliteral}{\ \ \ \ using\ the\ following\ scheme::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00359}00359\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00360}00360\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ARI\ =\ (RI\ -\/\ Expected\_RI)\ /\ (max(RI)\ -\/\ Expected\_RI)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00361}00361\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00362}00362\ \textcolor{stringliteral}{\ \ \ \ The\ adjusted\ Rand\ index\ is\ thus\ ensured\ to\ have\ a\ value\ close\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00363}00363\ \textcolor{stringliteral}{\ \ \ \ 0.0\ for\ random\ labeling\ independently\ of\ the\ number\ of\ clusters\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00364}00364\ \textcolor{stringliteral}{\ \ \ \ samples\ and\ exactly\ 1.0\ when\ the\ clusterings\ are\ identical\ (up\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00365}00365\ \textcolor{stringliteral}{\ \ \ \ a\ permutation).\ The\ adjusted\ Rand\ index\ is\ bounded\ below\ by\ -\/0.5\ for}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00366}00366\ \textcolor{stringliteral}{\ \ \ \ especially\ discordant\ clusterings.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00367}00367\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00368}00368\ \textcolor{stringliteral}{\ \ \ \ ARI\ is\ a\ symmetric\ measure::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00369}00369\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00370}00370\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ adjusted\_rand\_score(a,\ b)\ ==\ adjusted\_rand\_score(b,\ a)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00371}00371\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00372}00372\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <adjusted\_rand\_score>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00373}00373\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00374}00374\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00375}00375\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00376}00376\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=int}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00377}00377\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00378}00378\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00379}00379\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=int}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00380}00380\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00381}00381\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00382}00382\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00383}00383\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00384}00384\ \textcolor{stringliteral}{\ \ \ \ ARI\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00385}00385\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Similarity\ score\ between\ -\/0.5\ and\ 1.0.\ Random\ labelings\ have\ an\ ARI}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00386}00386\ \textcolor{stringliteral}{\ \ \ \ \ \ \ close\ to\ 0.0.\ 1.0\ stands\ for\ perfect\ match.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00387}00387\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00388}00388\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00389}00389\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00390}00390\ \textcolor{stringliteral}{\ \ \ \ adjusted\_mutual\_info\_score\ :\ Adjusted\ Mutual\ Information.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00391}00391\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00392}00392\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00393}00393\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00394}00394\ \textcolor{stringliteral}{\ \ \ \ ..\ [Hubert1985]\ L.\ Hubert\ and\ P.\ Arabie,\ Comparing\ Partitions,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00395}00395\ \textcolor{stringliteral}{\ \ \ \ \ \ Journal\ of\ Classification\ 1985}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00396}00396\ \textcolor{stringliteral}{\ \ \ \ \ \ https://link.springer.com/article/10.1007\%2FBF01908075}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00397}00397\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00398}00398\ \textcolor{stringliteral}{\ \ \ \ ..\ [Steinley2004]\ D.\ Steinley,\ Properties\ of\ the\ Hubert-\/Arabie}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00399}00399\ \textcolor{stringliteral}{\ \ \ \ \ \ adjusted\ Rand\ index,\ Psychological\ Methods\ 2004}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00400}00400\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00401}00401\ \textcolor{stringliteral}{\ \ \ \ ..\ [wk]\ https://en.wikipedia.org/wiki/Rand\_index\#Adjusted\_Rand\_index}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00402}00402\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00403}00403\ \textcolor{stringliteral}{\ \ \ \ ..\ [Chacon]\ :doi:\`{}Minimum\ adjusted\ Rand\ index\ for\ two\ clusterings\ of\ a\ given\ size,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00404}00404\ \textcolor{stringliteral}{\ \ \ \ \ \ 2022,\ J.\ E.\ Chacón\ and\ A.\ I.\ Rastrojo\ <10.1007/s11634-\/022-\/00491-\/w>\`{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00405}00405\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00406}00406\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00407}00407\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00408}00408\ \textcolor{stringliteral}{\ \ \ \ Perfectly\ matching\ labelings\ have\ a\ score\ of\ 1\ even}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00409}00409\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00410}00410\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ adjusted\_rand\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00411}00411\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_rand\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00412}00412\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00413}00413\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_rand\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00414}00414\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00415}00415\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00416}00416\ \textcolor{stringliteral}{\ \ \ \ Labelings\ that\ assign\ all\ classes\ members\ to\ the\ same\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00417}00417\ \textcolor{stringliteral}{\ \ \ \ are\ complete\ but\ may\ not\ always\ be\ pure,\ hence\ penalized::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00418}00418\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00419}00419\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_rand\_score([0,\ 0,\ 1,\ 2],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00420}00420\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.57}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00421}00421\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00422}00422\ \textcolor{stringliteral}{\ \ \ \ ARI\ is\ symmetric,\ so\ labelings\ that\ have\ pure\ clusters\ with\ members}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00423}00423\ \textcolor{stringliteral}{\ \ \ \ coming\ from\ the\ same\ classes\ but\ unnecessary\ splits\ are\ penalized::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00424}00424\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00425}00425\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_rand\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 2])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00426}00426\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.57}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00427}00427\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00428}00428\ \textcolor{stringliteral}{\ \ \ \ If\ classes\ members\ are\ completely\ split\ across\ different\ clusters,\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00429}00429\ \textcolor{stringliteral}{\ \ \ \ assignment\ is\ totally\ incomplete,\ hence\ the\ ARI\ is\ very\ low::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00430}00430\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00431}00431\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_rand\_score([0,\ 0,\ 0,\ 0],\ [0,\ 1,\ 2,\ 3])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00432}00432\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00433}00433\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00434}00434\ \textcolor{stringliteral}{\ \ \ \ ARI\ may\ take\ a\ negative\ value\ for\ especially\ discordant\ labelings\ that}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00435}00435\ \textcolor{stringliteral}{\ \ \ \ are\ a\ worse\ choice\ than\ the\ expected\ value\ of\ random\ labels::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00436}00436\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00437}00437\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_rand\_score([0,\ 0,\ 1,\ 1],\ [0,\ 1,\ 0,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00438}00438\ \textcolor{stringliteral}{\ \ \ \ \ \ -\/0.5}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00439}00439\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00440}00440\ \textcolor{stringliteral}{\ \ \ \ See\ :ref:\`{}sphx\_glr\_auto\_examples\_cluster\_plot\_adjusted\_for\_chance\_measures.py\`{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00441}00441\ \textcolor{stringliteral}{\ \ \ \ for\ a\ more\ detailed\ example.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00442}00442\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00443}00443\ \ \ \ \ (tn,\ fp),\ (fn,\ tp)\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a91e10db8525d943e132641d887df35d1}{pair\_confusion\_matrix}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00444}00444\ \ \ \ \ \textcolor{comment}{\#\ convert\ to\ Python\ integer\ types,\ to\ avoid\ overflow\ or\ underflow}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00445}00445\ \ \ \ \ tn,\ fp,\ fn,\ tp\ =\ int(tn),\ int(fp),\ int(fn),\ int(tp)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00446}00446\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00447}00447\ \ \ \ \ \textcolor{comment}{\#\ Special\ cases:\ empty\ data\ or\ full\ agreement}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00448}00448\ \ \ \ \ \textcolor{keywordflow}{if}\ fn\ ==\ 0\ \textcolor{keywordflow}{and}\ fp\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00451}00451\ \ \ \ \ \textcolor{keywordflow}{return}\ 2.0\ *\ (tp\ *\ tn\ -\/\ fn\ *\ fp)\ /\ ((tp\ +\ fn)\ *\ (fn\ +\ tn)\ +\ (tp\ +\ fp)\ *\ (fp\ +\ tn))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00452}00452\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00453}00453\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00454}00454\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00455}00455\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}beta"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1Interval}{Interval}}(Real,\ 0,\ \textcolor{keywordtype}{None},\ closed=\textcolor{stringliteral}{"{}left"{}})],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00459}00459\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00460}00460\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00461}00461\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00462}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_aa45224bfac0b7cba5c38959188f56ec9}{00462}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_aa45224bfac0b7cba5c38959188f56ec9}{homogeneity\_completeness\_v\_measure}}(labels\_true,\ labels\_pred,\ *,\ beta=1.0):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00463}00463\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Compute\ the\ homogeneity\ and\ completeness\ and\ V-\/Measure\ scores\ at\ once.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00464}00464\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00465}00465\ \textcolor{stringliteral}{\ \ \ \ Those\ metrics\ are\ based\ on\ normalized\ conditional\ entropy\ measures\ of}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00466}00466\ \textcolor{stringliteral}{\ \ \ \ the\ clustering\ labeling\ to\ evaluate\ given\ the\ knowledge\ of\ a\ Ground}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00467}00467\ \textcolor{stringliteral}{\ \ \ \ Truth\ class\ labels\ of\ the\ same\ samples.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00468}00468\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00469}00469\ \textcolor{stringliteral}{\ \ \ \ A\ clustering\ result\ satisfies\ homogeneity\ if\ all\ of\ its\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00470}00470\ \textcolor{stringliteral}{\ \ \ \ contain\ only\ data\ points\ which\ are\ members\ of\ a\ single\ class.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00471}00471\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00472}00472\ \textcolor{stringliteral}{\ \ \ \ A\ clustering\ result\ satisfies\ completeness\ if\ all\ the\ data\ points}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00473}00473\ \textcolor{stringliteral}{\ \ \ \ that\ are\ members\ of\ a\ given\ class\ are\ elements\ of\ the\ same\ cluster.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00474}00474\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00475}00475\ \textcolor{stringliteral}{\ \ \ \ Both\ scores\ have\ positive\ values\ between\ 0.0\ and\ 1.0,\ larger\ values}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00476}00476\ \textcolor{stringliteral}{\ \ \ \ being\ desirable.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00477}00477\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00478}00478\ \textcolor{stringliteral}{\ \ \ \ Those\ 3\ metrics\ are\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00479}00479\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00480}00480\ \textcolor{stringliteral}{\ \ \ \ score\ values\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00481}00481\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00482}00482\ \textcolor{stringliteral}{\ \ \ \ V-\/Measure\ is\ furthermore\ symmetric:\ swapping\ \`{}\`{}labels\_true\`{}\`{}\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00483}00483\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}label\_pred\`{}\`{}\ will\ give\ the\ same\ score.\ This\ does\ not\ hold\ for}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00484}00484\ \textcolor{stringliteral}{\ \ \ \ homogeneity\ and\ completeness.\ V-\/Measure\ is\ identical\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00485}00485\ \textcolor{stringliteral}{\ \ \ \ :func:\`{}normalized\_mutual\_info\_score\`{}\ with\ the\ arithmetic\ averaging}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00486}00486\ \textcolor{stringliteral}{\ \ \ \ method.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00487}00487\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00488}00488\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <homogeneity\_completeness>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00489}00489\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00490}00490\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00491}00491\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00492}00492\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00493}00493\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00494}00494\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00495}00495\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00496}00496\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00497}00497\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00498}00498\ \textcolor{stringliteral}{\ \ \ \ beta\ :\ float,\ default=1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00499}00499\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ratio\ of\ weight\ attributed\ to\ \`{}\`{}homogeneity\`{}\`{}\ vs\ \`{}\`{}completeness\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00500}00500\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}\`{}beta\`{}\`{}\ is\ greater\ than\ 1,\ \`{}\`{}completeness\`{}\`{}\ is\ weighted\ more}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00501}00501\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ strongly\ in\ the\ calculation.\ If\ \`{}\`{}beta\`{}\`{}\ is\ less\ than\ 1,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00502}00502\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}homogeneity\`{}\`{}\ is\ weighted\ more\ strongly.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00503}00503\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00504}00504\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00505}00505\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00506}00506\ \textcolor{stringliteral}{\ \ \ \ homogeneity\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00507}00507\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Score\ between\ 0.0\ and\ 1.0.\ 1.0\ stands\ for\ perfectly\ homogeneous\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00508}00508\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00509}00509\ \textcolor{stringliteral}{\ \ \ \ completeness\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00510}00510\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Score\ between\ 0.0\ and\ 1.0.\ 1.0\ stands\ for\ perfectly\ complete\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00511}00511\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00512}00512\ \textcolor{stringliteral}{\ \ \ \ v\_measure\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00513}00513\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Harmonic\ mean\ of\ the\ first\ two.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00514}00514\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00515}00515\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00516}00516\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00517}00517\ \textcolor{stringliteral}{\ \ \ \ homogeneity\_score\ :\ Homogeneity\ metric\ of\ cluster\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00518}00518\ \textcolor{stringliteral}{\ \ \ \ completeness\_score\ :\ Completeness\ metric\ of\ cluster\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00519}00519\ \textcolor{stringliteral}{\ \ \ \ v\_measure\_score\ :\ V-\/Measure\ (NMI\ with\ arithmetic\ mean\ option).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00520}00520\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00521}00521\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00522}00522\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00523}00523\ \textcolor{stringliteral}{\ \ \ \ >>>\ from\ sklearn.metrics\ import\ homogeneity\_completeness\_v\_measure}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00524}00524\ \textcolor{stringliteral}{\ \ \ \ >>>\ y\_true,\ y\_pred\ =\ [0,\ 0,\ 1,\ 1,\ 2,\ 2],\ [0,\ 0,\ 1,\ 2,\ 2,\ 2]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00525}00525\ \textcolor{stringliteral}{\ \ \ \ >>>\ homogeneity\_completeness\_v\_measure(y\_true,\ y\_pred)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00526}00526\ \textcolor{stringliteral}{\ \ \ \ (0.71,\ 0.771,\ 0.74)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00527}00527\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00528}00528\ \ \ \ \ labels\_true,\ labels\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00529}00529\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00530}00530\ \ \ \ \ \textcolor{keywordflow}{if}\ len(labels\_true)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0,\ 1.0,\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00532}00532\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00533}00533\ \ \ \ \ entropy\_C\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels\_true)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00534}00534\ \ \ \ \ entropy\_K\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00535}00535\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00536}00536\ \ \ \ \ contingency\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(labels\_true,\ labels\_pred,\ sparse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00537}00537\ \ \ \ \ MI\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a48c789f3bc2570f591c6886f1adcc7e2}{mutual\_info\_score}}(\textcolor{keywordtype}{None},\ \textcolor{keywordtype}{None},\ contingency=contingency)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00538}00538\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00539}00539\ \ \ \ \ homogeneity\ =\ MI\ /\ (entropy\_C)\ \textcolor{keywordflow}{if}\ entropy\_C\ \textcolor{keywordflow}{else}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00540}00540\ \ \ \ \ completeness\ =\ MI\ /\ (entropy\_K)\ \textcolor{keywordflow}{if}\ entropy\_K\ \textcolor{keywordflow}{else}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00541}00541\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00542}00542\ \ \ \ \ \textcolor{keywordflow}{if}\ homogeneity\ +\ completeness\ ==\ 0.0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ v\_measure\_score\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00544}00544\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00545}00545\ \ \ \ \ \ \ \ \ v\_measure\_score\ =\ (}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00546}00546\ \ \ \ \ \ \ \ \ \ \ \ \ (1\ +\ beta)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00547}00547\ \ \ \ \ \ \ \ \ \ \ \ \ *\ homogeneity}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00548}00548\ \ \ \ \ \ \ \ \ \ \ \ \ *\ completeness}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00549}00549\ \ \ \ \ \ \ \ \ \ \ \ \ /\ (beta\ *\ homogeneity\ +\ completeness)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00550}00550\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00551}00551\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00552}00552\ \ \ \ \ \textcolor{keywordflow}{return}\ float(homogeneity),\ float(completeness),\ float(v\_measure\_score)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00553}00553\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00554}00554\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00555}00555\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00556}00556\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00557}00557\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00558}00558\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00559}00559\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00560}00560\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00561}00561\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00562}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a90f3b0a25f6e1f4f1088a64ae1600bef}{00562}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a90f3b0a25f6e1f4f1088a64ae1600bef}{homogeneity\_score}}(labels\_true,\ labels\_pred):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00563}00563\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Homogeneity\ metric\ of\ a\ cluster\ labeling\ given\ a\ ground\ truth.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00564}00564\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00565}00565\ \textcolor{stringliteral}{\ \ \ \ A\ clustering\ result\ satisfies\ homogeneity\ if\ all\ of\ its\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00566}00566\ \textcolor{stringliteral}{\ \ \ \ contain\ only\ data\ points\ which\ are\ members\ of\ a\ single\ class.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00567}00567\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00568}00568\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00569}00569\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00570}00570\ \textcolor{stringliteral}{\ \ \ \ score\ value\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00571}00571\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00572}00572\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ not\ symmetric:\ switching\ \`{}\`{}label\_true\`{}\`{}\ with\ \`{}\`{}label\_pred\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00573}00573\ \textcolor{stringliteral}{\ \ \ \ will\ return\ the\ :func:\`{}completeness\_score\`{}\ which\ will\ be\ different\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00574}00574\ \textcolor{stringliteral}{\ \ \ \ general.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00575}00575\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00576}00576\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <homogeneity\_completeness>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00577}00577\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00578}00578\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00579}00579\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00580}00580\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00581}00581\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00582}00582\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00583}00583\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00584}00584\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00585}00585\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00586}00586\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00587}00587\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00588}00588\ \textcolor{stringliteral}{\ \ \ \ homogeneity\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00589}00589\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Score\ between\ 0.0\ and\ 1.0.\ 1.0\ stands\ for\ perfectly\ homogeneous\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00590}00590\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00591}00591\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00592}00592\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00593}00593\ \textcolor{stringliteral}{\ \ \ \ completeness\_score\ :\ Completeness\ metric\ of\ cluster\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00594}00594\ \textcolor{stringliteral}{\ \ \ \ v\_measure\_score\ :\ V-\/Measure\ (NMI\ with\ arithmetic\ mean\ option).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00595}00595\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00596}00596\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00597}00597\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00598}00598\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00599}00599\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ \`{}Andrew\ Rosenberg\ and\ Julia\ Hirschberg,\ 2007.\ V-\/Measure:\ A}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00600}00600\ \textcolor{stringliteral}{\ \ \ \ \ \ \ conditional\ entropy-\/based\ external\ cluster\ evaluation\ measure}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00601}00601\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <https://aclweb.org/anthology/D/D07/D07-\/1043.pdf>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00602}00602\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00603}00603\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00604}00604\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00605}00605\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00606}00606\ \textcolor{stringliteral}{\ \ \ \ Perfect\ labelings\ are\ homogeneous::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00607}00607\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00608}00608\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ homogeneity\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00609}00609\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ homogeneity\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00610}00610\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00611}00611\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00612}00612\ \textcolor{stringliteral}{\ \ \ \ Non-\/perfect\ labelings\ that\ further\ split\ classes\ into\ more\ clusters\ can\ be}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00613}00613\ \textcolor{stringliteral}{\ \ \ \ perfectly\ homogeneous::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00614}00614\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00615}00615\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ homogeneity\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 2]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00616}00616\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.000000}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00617}00617\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ homogeneity\_score([0,\ 0,\ 1,\ 1],\ [0,\ 1,\ 2,\ 3]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00618}00618\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.000000}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00619}00619\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00620}00620\ \textcolor{stringliteral}{\ \ \ \ Clusters\ that\ include\ samples\ from\ different\ classes\ do\ not\ make\ for\ an}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00621}00621\ \textcolor{stringliteral}{\ \ \ \ homogeneous\ labeling::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00622}00622\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00623}00623\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ homogeneity\_score([0,\ 0,\ 1,\ 1],\ [0,\ 1,\ 0,\ 1]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00624}00624\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0...}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00625}00625\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ homogeneity\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 0,\ 0]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00626}00626\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0...}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00627}00627\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00628}00628\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_aa45224bfac0b7cba5c38959188f56ec9}{homogeneity\_completeness\_v\_measure}}(labels\_true,\ labels\_pred)[0]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00629}00629\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00630}00630\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00631}00631\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00632}00632\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00633}00633\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00634}00634\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00635}00635\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00636}00636\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00637}00637\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00638}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a3545c1577bdb7d983eaabd92ec7a1a00}{00638}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a3545c1577bdb7d983eaabd92ec7a1a00}{completeness\_score}}(labels\_true,\ labels\_pred):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00639}00639\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Compute\ completeness\ metric\ of\ a\ cluster\ labeling\ given\ a\ ground\ truth.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00640}00640\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00641}00641\ \textcolor{stringliteral}{\ \ \ \ A\ clustering\ result\ satisfies\ completeness\ if\ all\ the\ data\ points}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00642}00642\ \textcolor{stringliteral}{\ \ \ \ that\ are\ members\ of\ a\ given\ class\ are\ elements\ of\ the\ same\ cluster.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00643}00643\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00644}00644\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00645}00645\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00646}00646\ \textcolor{stringliteral}{\ \ \ \ score\ value\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00647}00647\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00648}00648\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ not\ symmetric:\ switching\ \`{}\`{}label\_true\`{}\`{}\ with\ \`{}\`{}label\_pred\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00649}00649\ \textcolor{stringliteral}{\ \ \ \ will\ return\ the\ :func:\`{}homogeneity\_score\`{}\ which\ will\ be\ different\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00650}00650\ \textcolor{stringliteral}{\ \ \ \ general.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00651}00651\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00652}00652\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <homogeneity\_completeness>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00653}00653\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00654}00654\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00655}00655\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00656}00656\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00657}00657\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00658}00658\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00659}00659\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00660}00660\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00661}00661\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00662}00662\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00663}00663\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00664}00664\ \textcolor{stringliteral}{\ \ \ \ completeness\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00665}00665\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Score\ between\ 0.0\ and\ 1.0.\ 1.0\ stands\ for\ perfectly\ complete\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00666}00666\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00667}00667\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00668}00668\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00669}00669\ \textcolor{stringliteral}{\ \ \ \ homogeneity\_score\ :\ Homogeneity\ metric\ of\ cluster\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00670}00670\ \textcolor{stringliteral}{\ \ \ \ v\_measure\_score\ :\ V-\/Measure\ (NMI\ with\ arithmetic\ mean\ option).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00671}00671\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00672}00672\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00673}00673\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00674}00674\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00675}00675\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ \`{}Andrew\ Rosenberg\ and\ Julia\ Hirschberg,\ 2007.\ V-\/Measure:\ A}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00676}00676\ \textcolor{stringliteral}{\ \ \ \ \ \ \ conditional\ entropy-\/based\ external\ cluster\ evaluation\ measure}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00677}00677\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <https://aclweb.org/anthology/D/D07/D07-\/1043.pdf>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00678}00678\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00679}00679\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00680}00680\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00681}00681\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00682}00682\ \textcolor{stringliteral}{\ \ \ \ Perfect\ labelings\ are\ complete::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00683}00683\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00684}00684\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ completeness\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00685}00685\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ completeness\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00686}00686\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00687}00687\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00688}00688\ \textcolor{stringliteral}{\ \ \ \ Non-\/perfect\ labelings\ that\ assign\ all\ classes\ members\ to\ the\ same\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00689}00689\ \textcolor{stringliteral}{\ \ \ \ are\ still\ complete::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00690}00690\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00691}00691\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print(completeness\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 0,\ 0]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00692}00692\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00693}00693\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print(completeness\_score([0,\ 1,\ 2,\ 3],\ [0,\ 0,\ 1,\ 1]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00694}00694\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.999}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00695}00695\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00696}00696\ \textcolor{stringliteral}{\ \ \ \ If\ classes\ members\ are\ split\ across\ different\ clusters,\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00697}00697\ \textcolor{stringliteral}{\ \ \ \ assignment\ cannot\ be\ complete::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00698}00698\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00699}00699\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print(completeness\_score([0,\ 0,\ 1,\ 1],\ [0,\ 1,\ 0,\ 1]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00700}00700\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00701}00701\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print(completeness\_score([0,\ 0,\ 0,\ 0],\ [0,\ 1,\ 2,\ 3]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00702}00702\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00703}00703\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00704}00704\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_aa45224bfac0b7cba5c38959188f56ec9}{homogeneity\_completeness\_v\_measure}}(labels\_true,\ labels\_pred)[1]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00705}00705\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00706}00706\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00707}00707\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00708}00708\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00709}00709\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00710}00710\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00711}00711\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}beta"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1Interval}{Interval}}(Real,\ 0,\ \textcolor{keywordtype}{None},\ closed=\textcolor{stringliteral}{"{}left"{}})],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00712}00712\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00713}00713\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00714}00714\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00715}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9383c7869c1a7bc200249412830f358}{00715}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9383c7869c1a7bc200249412830f358}{v\_measure\_score}}(labels\_true,\ labels\_pred,\ *,\ beta=1.0):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00716}00716\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}V-\/measure\ cluster\ labeling\ given\ a\ ground\ truth.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00717}00717\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00718}00718\ \textcolor{stringliteral}{\ \ \ \ This\ score\ is\ identical\ to\ :func:\`{}normalized\_mutual\_info\_score\`{}\ with}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00719}00719\ \textcolor{stringliteral}{\ \ \ \ the\ \`{}\`{}'arithmetic'\`{}\`{}\ option\ for\ averaging.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00720}00720\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00721}00721\ \textcolor{stringliteral}{\ \ \ \ The\ V-\/measure\ is\ the\ harmonic\ mean\ between\ homogeneity\ and\ completeness::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00722}00722\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00723}00723\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ v\ =\ (1\ +\ beta)\ *\ homogeneity\ *\ completeness}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00724}00724\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ /\ (beta\ *\ homogeneity\ +\ completeness)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00725}00725\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00726}00726\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00727}00727\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00728}00728\ \textcolor{stringliteral}{\ \ \ \ score\ value\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00729}00729\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00730}00730\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ furthermore\ symmetric:\ switching\ \`{}\`{}label\_true\`{}\`{}\ with}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00731}00731\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}label\_pred\`{}\`{}\ will\ return\ the\ same\ score\ value.\ This\ can\ be\ useful\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00732}00732\ \textcolor{stringliteral}{\ \ \ \ measure\ the\ agreement\ of\ two\ independent\ label\ assignments\ strategies}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00733}00733\ \textcolor{stringliteral}{\ \ \ \ on\ the\ same\ dataset\ when\ the\ real\ ground\ truth\ is\ not\ known.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00734}00734\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00735}00735\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <homogeneity\_completeness>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00736}00736\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00737}00737\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00738}00738\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00739}00739\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00740}00740\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ground\ truth\ class\ labels\ to\ be\ used\ as\ a\ reference.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00741}00741\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00742}00742\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00743}00743\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cluster\ labels\ to\ evaluate.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00744}00744\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00745}00745\ \textcolor{stringliteral}{\ \ \ \ beta\ :\ float,\ default=1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00746}00746\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Ratio\ of\ weight\ attributed\ to\ \`{}\`{}homogeneity\`{}\`{}\ vs\ \`{}\`{}completeness\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00747}00747\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}\`{}beta\`{}\`{}\ is\ greater\ than\ 1,\ \`{}\`{}completeness\`{}\`{}\ is\ weighted\ more}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00748}00748\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ strongly\ in\ the\ calculation.\ If\ \`{}\`{}beta\`{}\`{}\ is\ less\ than\ 1,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00749}00749\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}homogeneity\`{}\`{}\ is\ weighted\ more\ strongly.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00750}00750\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00751}00751\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00752}00752\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00753}00753\ \textcolor{stringliteral}{\ \ \ \ v\_measure\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00754}00754\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Score\ between\ 0.0\ and\ 1.0.\ 1.0\ stands\ for\ perfectly\ complete\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00755}00755\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00756}00756\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00757}00757\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00758}00758\ \textcolor{stringliteral}{\ \ \ \ homogeneity\_score\ :\ Homogeneity\ metric\ of\ cluster\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00759}00759\ \textcolor{stringliteral}{\ \ \ \ completeness\_score\ :\ Completeness\ metric\ of\ cluster\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00760}00760\ \textcolor{stringliteral}{\ \ \ \ normalized\_mutual\_info\_score\ :\ Normalized\ Mutual\ Information.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00761}00761\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00762}00762\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00763}00763\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00764}00764\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00765}00765\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ \`{}Andrew\ Rosenberg\ and\ Julia\ Hirschberg,\ 2007.\ V-\/Measure:\ A}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00766}00766\ \textcolor{stringliteral}{\ \ \ \ \ \ \ conditional\ entropy-\/based\ external\ cluster\ evaluation\ measure}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00767}00767\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <https://aclweb.org/anthology/D/D07/D07-\/1043.pdf>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00768}00768\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00769}00769\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00770}00770\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00771}00771\ \textcolor{stringliteral}{\ \ \ \ Perfect\ labelings\ are\ both\ homogeneous\ and\ complete,\ hence\ have\ score\ 1.0::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00772}00772\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00773}00773\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ v\_measure\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00774}00774\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ v\_measure\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00775}00775\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00776}00776\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ v\_measure\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00777}00777\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00778}00778\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00779}00779\ \textcolor{stringliteral}{\ \ \ \ Labelings\ that\ assign\ all\ classes\ members\ to\ the\ same\ clusters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00780}00780\ \textcolor{stringliteral}{\ \ \ \ are\ complete\ but\ not\ homogeneous,\ hence\ penalized::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00781}00781\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00782}00782\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ v\_measure\_score([0,\ 0,\ 1,\ 2],\ [0,\ 0,\ 1,\ 1]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00783}00783\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.8}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00784}00784\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ v\_measure\_score([0,\ 1,\ 2,\ 3],\ [0,\ 0,\ 1,\ 1]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00785}00785\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.67}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00786}00786\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00787}00787\ \textcolor{stringliteral}{\ \ \ \ Labelings\ that\ have\ pure\ clusters\ with\ members\ coming\ from\ the\ same}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00788}00788\ \textcolor{stringliteral}{\ \ \ \ classes\ are\ homogeneous\ but\ un-\/necessary\ splits\ harm\ completeness}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00789}00789\ \textcolor{stringliteral}{\ \ \ \ and\ thus\ penalize\ V-\/measure\ as\ well::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00790}00790\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00791}00791\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ v\_measure\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 2]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00792}00792\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.8}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00793}00793\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ v\_measure\_score([0,\ 0,\ 1,\ 1],\ [0,\ 1,\ 2,\ 3]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00794}00794\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.67}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00795}00795\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00796}00796\ \textcolor{stringliteral}{\ \ \ \ If\ classes\ members\ are\ completely\ split\ across\ different\ clusters,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00797}00797\ \textcolor{stringliteral}{\ \ \ \ the\ assignment\ is\ totally\ incomplete,\ hence\ the\ V-\/Measure\ is\ null::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00798}00798\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00799}00799\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ v\_measure\_score([0,\ 0,\ 0,\ 0],\ [0,\ 1,\ 2,\ 3]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00800}00800\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00801}00801\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00802}00802\ \textcolor{stringliteral}{\ \ \ \ Clusters\ that\ include\ samples\ from\ totally\ different\ classes\ totally}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00803}00803\ \textcolor{stringliteral}{\ \ \ \ destroy\ the\ homogeneity\ of\ the\ labeling,\ hence::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00804}00804\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00805}00805\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ print("{}\%.6f"{}\ \%\ v\_measure\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 0,\ 0]))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00806}00806\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00807}00807\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00808}00808\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_aa45224bfac0b7cba5c38959188f56ec9}{homogeneity\_completeness\_v\_measure}}(labels\_true,\ labels\_pred,\ beta=beta)[2]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00809}00809\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00810}00810\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00811}00811\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00812}00812\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00813}00813\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}},\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00814}00814\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}},\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00815}00815\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}contingency"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}},\ \textcolor{stringliteral}{"{}sparse\ matrix"{}},\ \textcolor{keywordtype}{None}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00816}00816\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00817}00817\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00818}00818\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00819}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a48c789f3bc2570f591c6886f1adcc7e2}{00819}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a48c789f3bc2570f591c6886f1adcc7e2}{mutual\_info\_score}}(labels\_true,\ labels\_pred,\ *,\ contingency=None):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00820}00820\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Mutual\ Information\ between\ two\ clusterings.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00821}00821\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00822}00822\ \textcolor{stringliteral}{\ \ \ \ The\ Mutual\ Information\ is\ a\ measure\ of\ the\ similarity\ between\ two\ labels}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00823}00823\ \textcolor{stringliteral}{\ \ \ \ of\ the\ same\ data.\ Where\ :math:\`{}|U\_i|\`{}\ is\ the\ number\ of\ the\ samples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00824}00824\ \textcolor{stringliteral}{\ \ \ \ in\ cluster\ :math:\`{}U\_i\`{}\ and\ :math:\`{}|V\_j|\`{}\ is\ the\ number\ of\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00825}00825\ \textcolor{stringliteral}{\ \ \ \ samples\ in\ cluster\ :math:\`{}V\_j\`{},\ the\ Mutual\ Information}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00826}00826\ \textcolor{stringliteral}{\ \ \ \ between\ clusterings\ :math:\`{}U\`{}\ and\ :math:\`{}V\`{}\ is\ given\ as:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00827}00827\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00828}00828\ \textcolor{stringliteral}{\ \ \ \ ..\ math::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00829}00829\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00830}00830\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ MI(U,V)=\(\backslash\)\(\backslash\)sum\_\{i=1\}\string^\{|U|\}\ \(\backslash\)\(\backslash\)sum\_\{j=1\}\string^\{|V|\}\ \(\backslash\)\(\backslash\)frac\{|U\_i\(\backslash\)\(\backslash\)cap\ V\_j|\}\{N\}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00831}00831\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \(\backslash\)\(\backslash\)log\(\backslash\)\(\backslash\)frac\{N|U\_i\ \(\backslash\)\(\backslash\)cap\ V\_j|\}\{|U\_i||V\_j|\}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00832}00832\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00833}00833\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00834}00834\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00835}00835\ \textcolor{stringliteral}{\ \ \ \ score\ value\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00836}00836\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00837}00837\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ furthermore\ symmetric:\ switching\ :math:\`{}U\`{}\ (i.e}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00838}00838\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}label\_true\`{}\`{})\ with\ :math:\`{}V\`{}\ (i.e.\ \`{}\`{}label\_pred\`{}\`{})\ will\ return\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00839}00839\ \textcolor{stringliteral}{\ \ \ \ same\ score\ value.\ This\ can\ be\ useful\ to\ measure\ the\ agreement\ of\ two}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00840}00840\ \textcolor{stringliteral}{\ \ \ \ independent\ label\ assignments\ strategies\ on\ the\ same\ dataset\ when\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00841}00841\ \textcolor{stringliteral}{\ \ \ \ real\ ground\ truth\ is\ not\ known.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00842}00842\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00843}00843\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <mutual\_info\_score>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00844}00844\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00845}00845\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00846}00846\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00847}00847\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=integral}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00848}00848\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets,\ called\ :math:\`{}U\`{}\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00849}00849\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ above\ formula.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00850}00850\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00851}00851\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=integral}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00852}00852\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets,\ called\ :math:\`{}V\`{}\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00853}00853\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ above\ formula.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00854}00854\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00855}00855\ \textcolor{stringliteral}{\ \ \ \ contingency\ :\ \{array-\/like,\ sparse\ matrix\}\ of\ shape\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00856}00856\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ (n\_classes\_true,\ n\_classes\_pred),\ default=None}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00857}00857\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ contingency\ matrix\ given\ by\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00858}00858\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :func:\`{}\string~sklearn.metrics.cluster.contingency\_matrix\`{}\ function.\ If\ value}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00859}00859\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ is\ \`{}\`{}None\`{}\`{},\ it\ will\ be\ computed,\ otherwise\ the\ given\ value\ is\ used,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00860}00860\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ with\ \`{}\`{}labels\_true\`{}\`{}\ and\ \`{}\`{}labels\_pred\`{}\`{}\ ignored.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00861}00861\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00862}00862\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00863}00863\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00864}00864\ \textcolor{stringliteral}{\ \ \ \ mi\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00865}00865\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Mutual\ information,\ a\ non-\/negative\ value,\ measured\ in\ nats\ using\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00866}00866\ \textcolor{stringliteral}{\ \ \ \ \ \ \ natural\ logarithm.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00867}00867\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00868}00868\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00869}00869\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00870}00870\ \textcolor{stringliteral}{\ \ \ \ adjusted\_mutual\_info\_score\ :\ Adjusted\ against\ chance\ Mutual\ Information.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00871}00871\ \textcolor{stringliteral}{\ \ \ \ normalized\_mutual\_info\_score\ :\ Normalized\ Mutual\ Information.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00872}00872\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00873}00873\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00874}00874\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00875}00875\ \textcolor{stringliteral}{\ \ \ \ The\ logarithm\ used\ is\ the\ natural\ logarithm\ (base-\/e).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00876}00876\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00877}00877\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00878}00878\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00879}00879\ \textcolor{stringliteral}{\ \ \ \ >>>\ from\ sklearn.metrics\ import\ mutual\_info\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00880}00880\ \textcolor{stringliteral}{\ \ \ \ >>>\ labels\_true\ =\ [0,\ 1,\ 1,\ 0,\ 1,\ 0]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00881}00881\ \textcolor{stringliteral}{\ \ \ \ >>>\ labels\_pred\ =\ [0,\ 1,\ 0,\ 0,\ 1,\ 1]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00882}00882\ \textcolor{stringliteral}{\ \ \ \ >>>\ mutual\_info\_score(labels\_true,\ labels\_pred)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00883}00883\ \textcolor{stringliteral}{\ \ \ \ 0.0566}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00884}00884\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00885}00885\ \ \ \ \ \textcolor{keywordflow}{if}\ contingency\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00886}00886\ \ \ \ \ \ \ \ \ labels\_true,\ labels\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00887}00887\ \ \ \ \ \ \ \ \ contingency\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(labels\_true,\ labels\_pred,\ sparse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00888}00888\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00889}00889\ \ \ \ \ \ \ \ \ contingency\ =\ check\_array(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00890}00890\ \ \ \ \ \ \ \ \ \ \ \ \ contingency,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00891}00891\ \ \ \ \ \ \ \ \ \ \ \ \ accept\_sparse=[\textcolor{stringliteral}{"{}csr"{}},\ \textcolor{stringliteral}{"{}csc"{}},\ \textcolor{stringliteral}{"{}coo"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00892}00892\ \ \ \ \ \ \ \ \ \ \ \ \ dtype=[int,\ np.int32,\ np.int64],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00893}00893\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00894}00894\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00895}00895\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(contingency,\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00896}00896\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ an\ array}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00897}00897\ \ \ \ \ \ \ \ \ nzx,\ nzy\ =\ np.nonzero(contingency)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00898}00898\ \ \ \ \ \ \ \ \ nz\_val\ =\ contingency[nzx,\ nzy]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00899}00899\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00900}00900\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ a\ sparse\ matrix}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00901}00901\ \ \ \ \ \ \ \ \ nzx,\ nzy,\ nz\_val\ =\ sp.find(contingency)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00902}00902\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00903}00903\ \ \ \ \ contingency\_sum\ =\ contingency.sum()}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00904}00904\ \ \ \ \ pi\ =\ np.ravel(contingency.sum(axis=1))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00905}00905\ \ \ \ \ pj\ =\ np.ravel(contingency.sum(axis=0))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00906}00906\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00907}00907\ \ \ \ \ \textcolor{comment}{\#\ Since\ MI\ <=\ min(H(X),\ H(Y)),\ any\ labelling\ with\ zero\ entropy,\ i.e.\ containing\ a}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00908}00908\ \ \ \ \ \textcolor{comment}{\#\ single\ cluster,\ implies\ MI\ =\ 0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00909}00909\ \ \ \ \ \textcolor{keywordflow}{if}\ pi.size\ ==\ 1\ \textcolor{keywordflow}{or}\ pj.size\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00910}00910\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00911}00911\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00912}00912\ \ \ \ \ log\_contingency\_nm\ =\ np.log(nz\_val)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00913}00913\ \ \ \ \ contingency\_nm\ =\ nz\_val\ /\ contingency\_sum}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00914}00914\ \ \ \ \ \textcolor{comment}{\#\ Don't\ need\ to\ calculate\ the\ full\ outer\ product,\ just\ for\ non-\/zeroes}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00915}00915\ \ \ \ \ outer\ =\ pi.take(nzx).astype(np.int64,\ copy=\textcolor{keyword}{False})\ *\ pj.take(nzy).astype(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00916}00916\ \ \ \ \ \ \ \ \ np.int64,\ copy=\textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00917}00917\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00918}00918\ \ \ \ \ log\_outer\ =\ -\/np.log(outer)\ +\ log(pi.sum())\ +\ log(pj.sum())}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00919}00919\ \ \ \ \ mi\ =\ (}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00920}00920\ \ \ \ \ \ \ \ \ contingency\_nm\ *\ (log\_contingency\_nm\ -\/\ log(contingency\_sum))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00921}00921\ \ \ \ \ \ \ \ \ +\ contingency\_nm\ *\ log\_outer}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00922}00922\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00923}00923\ \ \ \ \ mi\ =\ np.where(np.abs(mi)\ <\ np.finfo(mi.dtype).eps,\ 0.0,\ mi)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00924}00924\ \ \ \ \ \textcolor{keywordflow}{return}\ float(np.clip(mi.sum(),\ 0.0,\ \textcolor{keywordtype}{None}))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00925}00925\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00926}00926\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00927}00927\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00928}00928\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00929}00929\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00930}00930\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00931}00931\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}average\_method"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1StrOptions}{StrOptions}}(\{\textcolor{stringliteral}{"{}arithmetic"{}},\ \textcolor{stringliteral}{"{}max"{}},\ \textcolor{stringliteral}{"{}min"{}},\ \textcolor{stringliteral}{"{}geometric"{}}\})],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00932}00932\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00933}00933\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00934}00934\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00935}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af62bd3283daf3948bb80346547f32a6d}{00935}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af62bd3283daf3948bb80346547f32a6d}{adjusted\_mutual\_info\_score}}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00936}00936\ \ \ \ \ labels\_true,\ labels\_pred,\ *,\ average\_method="{}arithmetic"{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00937}00937\ ):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00938}00938\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adjusted\ Mutual\ Information\ between\ two\ clusterings.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00939}00939\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00940}00940\ \textcolor{stringliteral}{\ \ \ \ Adjusted\ Mutual\ Information\ (AMI)\ is\ an\ adjustment\ of\ the\ Mutual}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00941}00941\ \textcolor{stringliteral}{\ \ \ \ Information\ (MI)\ score\ to\ account\ for\ chance.\ It\ accounts\ for\ the\ fact\ that}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00942}00942\ \textcolor{stringliteral}{\ \ \ \ the\ MI\ is\ generally\ higher\ for\ two\ clusterings\ with\ a\ larger\ number\ of}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00943}00943\ \textcolor{stringliteral}{\ \ \ \ clusters,\ regardless\ of\ whether\ there\ is\ actually\ more\ information\ shared.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00944}00944\ \textcolor{stringliteral}{\ \ \ \ For\ two\ clusterings\ :math:\`{}U\`{}\ and\ :math:\`{}V\`{},\ the\ AMI\ is\ given\ as::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00945}00945\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00946}00946\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ AMI(U,\ V)\ =\ [MI(U,\ V)\ -\/\ E(MI(U,\ V))]\ /\ [avg(H(U),\ H(V))\ -\/\ E(MI(U,\ V))]}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00947}00947\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00948}00948\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00949}00949\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00950}00950\ \textcolor{stringliteral}{\ \ \ \ score\ value\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00951}00951\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00952}00952\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ furthermore\ symmetric:\ switching\ :math:\`{}U\`{}\ (\`{}\`{}label\_true\`{}\`{})}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00953}00953\ \textcolor{stringliteral}{\ \ \ \ with\ :math:\`{}V\`{}\ (\`{}\`{}labels\_pred\`{}\`{})\ will\ return\ the\ same\ score\ value.\ This\ can}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00954}00954\ \textcolor{stringliteral}{\ \ \ \ be\ useful\ to\ measure\ the\ agreement\ of\ two\ independent\ label\ assignments}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00955}00955\ \textcolor{stringliteral}{\ \ \ \ strategies\ on\ the\ same\ dataset\ when\ the\ real\ ground\ truth\ is\ not\ known.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00956}00956\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00957}00957\ \textcolor{stringliteral}{\ \ \ \ Be\ mindful\ that\ this\ function\ is\ an\ order\ of\ magnitude\ slower\ than\ other}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00958}00958\ \textcolor{stringliteral}{\ \ \ \ metrics,\ such\ as\ the\ Adjusted\ Rand\ Index.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00959}00959\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00960}00960\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <mutual\_info\_score>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00961}00961\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00962}00962\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00963}00963\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00964}00964\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ int\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00965}00965\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets,\ called\ :math:\`{}U\`{}\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00966}00966\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ above\ formula.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00967}00967\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00968}00968\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ int\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00969}00969\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets,\ called\ :math:\`{}V\`{}\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00970}00970\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ above\ formula.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00971}00971\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00972}00972\ \textcolor{stringliteral}{\ \ \ \ average\_method\ :\ \{'min',\ 'geometric',\ 'arithmetic',\ 'max'\},\ default='arithmetic'}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00973}00973\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ How\ to\ compute\ the\ normalizer\ in\ the\ denominator.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00974}00974\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00975}00975\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionadded::\ 0.20}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00976}00976\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00977}00977\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionchanged::\ 0.22}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00978}00978\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ The\ default\ value\ of\ \`{}\`{}average\_method\`{}\`{}\ changed\ from\ 'max'\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00979}00979\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ 'arithmetic'.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00980}00980\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00981}00981\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00982}00982\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00983}00983\ \textcolor{stringliteral}{\ \ \ \ ami:\ float\ (upperlimited\ by\ 1.0)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00984}00984\ \textcolor{stringliteral}{\ \ \ \ \ \ \ The\ AMI\ returns\ a\ value\ of\ 1\ when\ the\ two\ partitions\ are\ identical}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00985}00985\ \textcolor{stringliteral}{\ \ \ \ \ \ \ (ie\ perfectly\ matched).\ Random\ partitions\ (independent\ labellings)\ have}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00986}00986\ \textcolor{stringliteral}{\ \ \ \ \ \ \ an\ expected\ AMI\ around\ 0\ on\ average\ hence\ can\ be\ negative.\ The\ value\ is}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00987}00987\ \textcolor{stringliteral}{\ \ \ \ \ \ \ in\ adjusted\ nats\ (based\ on\ the\ natural\ logarithm).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00988}00988\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00989}00989\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00990}00990\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00991}00991\ \textcolor{stringliteral}{\ \ \ \ adjusted\_rand\_score\ :\ Adjusted\ Rand\ Index.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00992}00992\ \textcolor{stringliteral}{\ \ \ \ mutual\_info\_score\ :\ Mutual\ Information\ (not\ adjusted\ for\ chance).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00993}00993\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00994}00994\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00995}00995\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00996}00996\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ \`{}Vinh,\ Epps,\ and\ Bailey,\ (2010).\ Information\ Theoretic\ Measures\ for}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00997}00997\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Clusterings\ Comparison:\ Variants,\ Properties,\ Normalization\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00998}00998\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Correction\ for\ Chance,\ JMLR}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l00999}00999\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <http://jmlr.csail.mit.edu/papers/volume11/vinh10a/vinh10a.pdf>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01000}01000\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01001}01001\ \textcolor{stringliteral}{\ \ \ \ ..\ [2]\ \`{}Wikipedia\ entry\ for\ the\ Adjusted\ Mutual\ Information}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01002}01002\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <https://en.wikipedia.org/wiki/Adjusted\_Mutual\_Information>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01003}01003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01004}01004\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01005}01005\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01006}01006\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01007}01007\ \textcolor{stringliteral}{\ \ \ \ Perfect\ labelings\ are\ both\ homogeneous\ and\ complete,\ hence\ have}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01008}01008\ \textcolor{stringliteral}{\ \ \ \ score\ 1.0::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01009}01009\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01010}01010\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ adjusted\_mutual\_info\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01011}01011\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_mutual\_info\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01012}01012\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01013}01013\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_mutual\_info\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01014}01014\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01015}01015\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01016}01016\ \textcolor{stringliteral}{\ \ \ \ If\ classes\ members\ are\ completely\ split\ across\ different\ clusters,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01017}01017\ \textcolor{stringliteral}{\ \ \ \ the\ assignment\ is\ totally\ in-\/complete,\ hence\ the\ AMI\ is\ null::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01018}01018\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01019}01019\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ adjusted\_mutual\_info\_score([0,\ 0,\ 0,\ 0],\ [0,\ 1,\ 2,\ 3])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01020}01020\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01021}01021\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01022}01022\ \ \ \ \ labels\_true,\ labels\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01023}01023\ \ \ \ \ n\_samples\ =\ labels\_true.shape[0]}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01024}01024\ \ \ \ \ classes\ =\ np.unique(labels\_true)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01025}01025\ \ \ \ \ clusters\ =\ np.unique(labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01026}01026\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01027}01027\ \ \ \ \ \textcolor{comment}{\#\ Special\ limit\ cases:\ no\ clustering\ since\ the\ data\ is\ not\ split.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01028}01028\ \ \ \ \ \textcolor{comment}{\#\ It\ corresponds\ to\ both\ labellings\ having\ zero\ entropy.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01029}01029\ \ \ \ \ \textcolor{comment}{\#\ This\ is\ a\ perfect\ match\ hence\ return\ 1.0.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01030}01030\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01031}01031\ \ \ \ \ \ \ \ \ classes.shape[0]\ ==\ clusters.shape[0]\ ==\ 1}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01032}01032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ classes.shape[0]\ ==\ clusters.shape[0]\ ==\ 0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01033}01033\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01034}01034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01035}01035\ \ \ \ \ \textcolor{comment}{\#\ if\ there\ is\ only\ one\ class\ or\ one\ cluster\ return\ 0.0.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01036}01036\ \ \ \ \ \textcolor{keywordflow}{elif}\ classes.shape[0]\ ==\ 1\ \textcolor{keywordflow}{or}\ clusters.shape[0]\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01037}01037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01038}01038\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01039}01039\ \ \ \ \ contingency\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(labels\_true,\ labels\_pred,\ sparse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01040}01040\ \ \ \ \ \textcolor{comment}{\#\ Calculate\ the\ MI\ for\ the\ two\ clusterings}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01041}01041\ \ \ \ \ mi\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a48c789f3bc2570f591c6886f1adcc7e2}{mutual\_info\_score}}(labels\_true,\ labels\_pred,\ contingency=contingency)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01042}01042\ \ \ \ \ \textcolor{comment}{\#\ Calculate\ the\ expected\ value\ for\ the\ mutual\ information}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01043}01043\ \ \ \ \ emi\ =\ expected\_mutual\_information(contingency,\ n\_samples)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01044}01044\ \ \ \ \ \textcolor{comment}{\#\ Calculate\ entropy\ for\ each\ labeling}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01045}01045\ \ \ \ \ h\_true,\ h\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels\_true),\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01046}01046\ \ \ \ \ normalizer\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a67b19ae497dbdcd1efa9e35f55dbbfc7}{\_generalized\_average}}(h\_true,\ h\_pred,\ average\_method)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01047}01047\ \ \ \ \ denominator\ =\ normalizer\ -\/\ emi}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01048}01048\ \ \ \ \ \textcolor{comment}{\#\ Avoid\ 0.0\ /\ 0.0\ when\ expectation\ equals\ maximum,\ i.e.\ a\ perfect\ match.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01049}01049\ \ \ \ \ \textcolor{comment}{\#\ normalizer\ should\ always\ be\ >=\ emi,\ but\ because\ of\ floating-\/point}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01050}01050\ \ \ \ \ \textcolor{comment}{\#\ representation,\ sometimes\ emi\ is\ slightly\ larger.\ Correct\ this}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01051}01051\ \ \ \ \ \textcolor{comment}{\#\ by\ preserving\ the\ sign.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01052}01052\ \ \ \ \ \textcolor{keywordflow}{if}\ denominator\ <\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01053}01053\ \ \ \ \ \ \ \ \ denominator\ =\ min(denominator,\ -\/np.finfo(\textcolor{stringliteral}{"{}float64"{}}).eps)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01054}01054\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01055}01055\ \ \ \ \ \ \ \ \ denominator\ =\ max(denominator,\ np.finfo(\textcolor{stringliteral}{"{}float64"{}}).eps)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01056}01056\ \ \ \ \ \textcolor{comment}{\#\ The\ same\ applies\ analogously\ to\ mi\ and\ emi.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01057}01057\ \ \ \ \ numerator\ =\ mi\ -\/\ emi}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01058}01058\ \ \ \ \ \textcolor{keywordflow}{if}\ numerator\ <\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01059}01059\ \ \ \ \ \ \ \ \ numerator\ =\ min(numerator,\ -\/np.finfo(\textcolor{stringliteral}{"{}float64"{}}).eps)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01060}01060\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01061}01061\ \ \ \ \ \ \ \ \ numerator\ =\ max(numerator,\ np.finfo(\textcolor{stringliteral}{"{}float64"{}}).eps)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01062}01062\ \ \ \ \ \textcolor{keywordflow}{return}\ float(numerator\ /\ denominator)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01063}01063\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01064}01064\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01065}01065\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01066}01066\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01067}01067\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01068}01068\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01069}01069\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}average\_method"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1StrOptions}{StrOptions}}(\{\textcolor{stringliteral}{"{}arithmetic"{}},\ \textcolor{stringliteral}{"{}max"{}},\ \textcolor{stringliteral}{"{}min"{}},\ \textcolor{stringliteral}{"{}geometric"{}}\})],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01070}01070\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01071}01071\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01072}01072\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01073}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a8e4766b5411a29bc6a4202df9dad15c8}{01073}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a8e4766b5411a29bc6a4202df9dad15c8}{normalized\_mutual\_info\_score}}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01074}01074\ \ \ \ \ labels\_true,\ labels\_pred,\ *,\ average\_method="{}arithmetic"{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01075}01075\ ):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01076}01076\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Normalized\ Mutual\ Information\ between\ two\ clusterings.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01077}01077\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01078}01078\ \textcolor{stringliteral}{\ \ \ \ Normalized\ Mutual\ Information\ (NMI)\ is\ a\ normalization\ of\ the\ Mutual}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01079}01079\ \textcolor{stringliteral}{\ \ \ \ Information\ (MI)\ score\ to\ scale\ the\ results\ between\ 0\ (no\ mutual}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01080}01080\ \textcolor{stringliteral}{\ \ \ \ information)\ and\ 1\ (perfect\ correlation).\ In\ this\ function,\ mutual}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01081}01081\ \textcolor{stringliteral}{\ \ \ \ information\ is\ normalized\ by\ some\ generalized\ mean\ of\ \`{}\`{}H(labels\_true)\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01082}01082\ \textcolor{stringliteral}{\ \ \ \ and\ \`{}\`{}H(labels\_pred))\`{}\`{},\ defined\ by\ the\ \`{}average\_method\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01083}01083\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01084}01084\ \textcolor{stringliteral}{\ \ \ \ This\ measure\ is\ not\ adjusted\ for\ chance.\ Therefore}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01085}01085\ \textcolor{stringliteral}{\ \ \ \ :func:\`{}adjusted\_mutual\_info\_score\`{}\ might\ be\ preferred.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01086}01086\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01087}01087\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ independent\ of\ the\ absolute\ values\ of\ the\ labels:}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01088}01088\ \textcolor{stringliteral}{\ \ \ \ a\ permutation\ of\ the\ class\ or\ cluster\ label\ values\ won't\ change\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01089}01089\ \textcolor{stringliteral}{\ \ \ \ score\ value\ in\ any\ way.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01090}01090\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01091}01091\ \textcolor{stringliteral}{\ \ \ \ This\ metric\ is\ furthermore\ symmetric:\ switching\ \`{}\`{}label\_true\`{}\`{}\ with}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01092}01092\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}label\_pred\`{}\`{}\ will\ return\ the\ same\ score\ value.\ This\ can\ be\ useful\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01093}01093\ \textcolor{stringliteral}{\ \ \ \ measure\ the\ agreement\ of\ two\ independent\ label\ assignments\ strategies}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01094}01094\ \textcolor{stringliteral}{\ \ \ \ on\ the\ same\ dataset\ when\ the\ real\ ground\ truth\ is\ not\ known.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01095}01095\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01096}01096\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <mutual\_info\_score>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01097}01097\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01098}01098\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01099}01099\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01100}01100\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ int\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01101}01101\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01102}01102\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01103}01103\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ int\ array-\/like\ of\ shape\ (n\_samples,)}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01104}01104\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01105}01105\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01106}01106\ \textcolor{stringliteral}{\ \ \ \ average\_method\ :\ \{'min',\ 'geometric',\ 'arithmetic',\ 'max'\},\ default='arithmetic'}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01107}01107\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ How\ to\ compute\ the\ normalizer\ in\ the\ denominator.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01108}01108\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01109}01109\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionadded::\ 0.20}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01110}01110\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01111}01111\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionchanged::\ 0.22}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01112}01112\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ The\ default\ value\ of\ \`{}\`{}average\_method\`{}\`{}\ changed\ from\ 'geometric'\ to}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01113}01113\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ 'arithmetic'.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01114}01114\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01115}01115\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01116}01116\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01117}01117\ \textcolor{stringliteral}{\ \ \ \ nmi\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01118}01118\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Score\ between\ 0.0\ and\ 1.0\ in\ normalized\ nats\ (based\ on\ the\ natural}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01119}01119\ \textcolor{stringliteral}{\ \ \ \ \ \ \ logarithm).\ 1.0\ stands\ for\ perfectly\ complete\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01120}01120\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01121}01121\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01122}01122\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01123}01123\ \textcolor{stringliteral}{\ \ \ \ v\_measure\_score\ :\ V-\/Measure\ (NMI\ with\ arithmetic\ mean\ option).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01124}01124\ \textcolor{stringliteral}{\ \ \ \ adjusted\_rand\_score\ :\ Adjusted\ Rand\ Index.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01125}01125\ \textcolor{stringliteral}{\ \ \ \ adjusted\_mutual\_info\_score\ :\ Adjusted\ Mutual\ Information\ (adjusted}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01126}01126\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ against\ chance).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01127}01127\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01128}01128\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01129}01129\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01130}01130\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01131}01131\ \textcolor{stringliteral}{\ \ \ \ Perfect\ labelings\ are\ both\ homogeneous\ and\ complete,\ hence\ have}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01132}01132\ \textcolor{stringliteral}{\ \ \ \ score\ 1.0::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01133}01133\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01134}01134\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ normalized\_mutual\_info\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01135}01135\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ normalized\_mutual\_info\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01136}01136\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01137}01137\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ normalized\_mutual\_info\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01138}01138\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01139}01139\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01140}01140\ \textcolor{stringliteral}{\ \ \ \ If\ classes\ members\ are\ completely\ split\ across\ different\ clusters,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01141}01141\ \textcolor{stringliteral}{\ \ \ \ the\ assignment\ is\ totally\ in-\/complete,\ hence\ the\ NMI\ is\ null::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01142}01142\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01143}01143\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ normalized\_mutual\_info\_score([0,\ 0,\ 0,\ 0],\ [0,\ 1,\ 2,\ 3])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01144}01144\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01145}01145\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01146}01146\ \ \ \ \ labels\_true,\ labels\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01147}01147\ \ \ \ \ classes\ =\ np.unique(labels\_true)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01148}01148\ \ \ \ \ clusters\ =\ np.unique(labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01149}01149\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01150}01150\ \ \ \ \ \textcolor{comment}{\#\ Special\ limit\ cases:\ no\ clustering\ since\ the\ data\ is\ not\ split.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01151}01151\ \ \ \ \ \textcolor{comment}{\#\ It\ corresponds\ to\ both\ labellings\ having\ zero\ entropy.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01152}01152\ \ \ \ \ \textcolor{comment}{\#\ This\ is\ a\ perfect\ match\ hence\ return\ 1.0.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01153}01153\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01154}01154\ \ \ \ \ \ \ \ \ classes.shape[0]\ ==\ clusters.shape[0]\ ==\ 1}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01155}01155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ classes.shape[0]\ ==\ clusters.shape[0]\ ==\ 0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01156}01156\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01157}01157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01158}01158\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01159}01159\ \ \ \ \ contingency\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(labels\_true,\ labels\_pred,\ sparse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01160}01160\ \ \ \ \ contingency\ =\ contingency.astype(np.float64,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01161}01161\ \ \ \ \ \textcolor{comment}{\#\ Calculate\ the\ MI\ for\ the\ two\ clusterings}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01162}01162\ \ \ \ \ mi\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a48c789f3bc2570f591c6886f1adcc7e2}{mutual\_info\_score}}(labels\_true,\ labels\_pred,\ contingency=contingency)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01163}01163\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01164}01164\ \ \ \ \ \textcolor{comment}{\#\ At\ this\ point\ mi\ =\ 0\ can't\ be\ a\ perfect\ match\ (the\ special\ case\ of\ a\ single}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01165}01165\ \ \ \ \ \textcolor{comment}{\#\ cluster\ has\ been\ dealt\ with\ before).\ Hence,\ if\ mi\ =\ 0,\ the\ nmi\ must\ be\ 0\ whatever}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01166}01166\ \ \ \ \ \textcolor{comment}{\#\ the\ normalization.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01167}01167\ \ \ \ \ \textcolor{keywordflow}{if}\ mi\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01168}01168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01169}01169\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01170}01170\ \ \ \ \ \textcolor{comment}{\#\ Calculate\ entropy\ for\ each\ labeling}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01171}01171\ \ \ \ \ h\_true,\ h\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels\_true),\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01172}01172\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01173}01173\ \ \ \ \ normalizer\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a67b19ae497dbdcd1efa9e35f55dbbfc7}{\_generalized\_average}}(h\_true,\ h\_pred,\ average\_method)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01174}01174\ \ \ \ \ \textcolor{keywordflow}{return}\ float(mi\ /\ normalizer)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01175}01175\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01176}01176\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01177}01177\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01178}01178\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01179}01179\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_true"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01180}01180\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels\_pred"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01181}01181\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sparse"{}}:\ [\textcolor{stringliteral}{"{}boolean"{}},\ \mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1Hidden}{Hidden}}(\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1StrOptions}{StrOptions}}(\{\textcolor{stringliteral}{"{}deprecated"{}}\}))],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01182}01182\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01183}01183\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01184}01184\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01185}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af19a9aaa9be6eb933fbe78c9d8772647}{01185}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af19a9aaa9be6eb933fbe78c9d8772647}{fowlkes\_mallows\_score}}(labels\_true,\ labels\_pred,\ *,\ sparse="{}deprecated"{}):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01186}01186\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Measure\ the\ similarity\ of\ two\ clusterings\ of\ a\ set\ of\ points.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01187}01187\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01188}01188\ \textcolor{stringliteral}{\ \ \ \ ..\ versionadded::\ 0.18}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01189}01189\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01190}01190\ \textcolor{stringliteral}{\ \ \ \ The\ Fowlkes-\/Mallows\ index\ (FMI)\ is\ defined\ as\ the\ geometric\ mean\ of}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01191}01191\ \textcolor{stringliteral}{\ \ \ \ the\ precision\ and\ recall::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01192}01192\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01193}01193\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ FMI\ =\ TP\ /\ sqrt((TP\ +\ FP)\ *\ (TP\ +\ FN))}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01194}01194\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01195}01195\ \textcolor{stringliteral}{\ \ \ \ Where\ \`{}\`{}TP\`{}\`{}\ is\ the\ number\ of\ **True\ Positive**\ (i.e.\ the\ number\ of\ pairs\ of}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01196}01196\ \textcolor{stringliteral}{\ \ \ \ points\ that\ belong\ to\ the\ same\ cluster\ in\ both\ \`{}\`{}labels\_true\`{}\`{}\ and}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01197}01197\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}labels\_pred\`{}\`{}),\ \`{}\`{}FP\`{}\`{}\ is\ the\ number\ of\ **False\ Positive**\ (i.e.\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01198}01198\ \textcolor{stringliteral}{\ \ \ \ number\ of\ pairs\ of\ points\ that\ belong\ to\ the\ same\ cluster\ in}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01199}01199\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}labels\_pred\`{}\`{}\ but\ not\ in\ \`{}\`{}labels\_true\`{}\`{})\ and\ \`{}\`{}FN\`{}\`{}\ is\ the\ number\ of}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01200}01200\ \textcolor{stringliteral}{\ \ \ \ **False\ Negative**\ (i.e.\ the\ number\ of\ pairs\ of\ points\ that\ belong\ to\ the}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01201}01201\ \textcolor{stringliteral}{\ \ \ \ same\ cluster\ in\ \`{}\`{}labels\_true\`{}\`{}\ but\ not\ in\ \`{}\`{}labels\_pred\`{}\`{}).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01202}01202\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01203}01203\ \textcolor{stringliteral}{\ \ \ \ The\ score\ ranges\ from\ 0\ to\ 1.\ A\ high\ value\ indicates\ a\ good\ similarity}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01204}01204\ \textcolor{stringliteral}{\ \ \ \ between\ two\ clusters.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01205}01205\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01206}01206\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <fowlkes\_mallows\_scores>\`{}.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01207}01207\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01208}01208\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01209}01209\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01210}01210\ \textcolor{stringliteral}{\ \ \ \ labels\_true\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=int}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01211}01211\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01212}01212\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01213}01213\ \textcolor{stringliteral}{\ \ \ \ labels\_pred\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=int}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01214}01214\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ clustering\ of\ the\ data\ into\ disjoint\ subsets.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01215}01215\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01216}01216\ \textcolor{stringliteral}{\ \ \ \ sparse\ :\ bool,\ default=False}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01217}01217\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Compute\ contingency\ matrix\ internally\ with\ sparse\ matrix.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01218}01218\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01219}01219\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ deprecated::\ 1.7}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01220}01220\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ The\ \`{}\`{}sparse\`{}\`{}\ parameter\ is\ deprecated\ and\ will\ be\ removed\ in\ 1.9.\ It\ has}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01221}01221\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ no\ effect.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01222}01222\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01223}01223\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01224}01224\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01225}01225\ \textcolor{stringliteral}{\ \ \ \ score\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01226}01226\ \textcolor{stringliteral}{\ \ \ \ \ \ \ The\ resulting\ Fowlkes-\/Mallows\ score.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01227}01227\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01228}01228\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01229}01229\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01230}01230\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ \`{}E.\ B.\ Fowkles\ and\ C.\ L.\ Mallows,\ 1983.\ "{}A\ method\ for\ comparing\ two}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01231}01231\ \textcolor{stringliteral}{\ \ \ \ \ \ \ hierarchical\ clusterings"{}.\ Journal\ of\ the\ American\ Statistical}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01232}01232\ \textcolor{stringliteral}{\ \ \ \ \ \ \ Association}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01233}01233\ \textcolor{stringliteral}{\ \ \ \ \ \ \ <https://www.tandfonline.com/doi/abs/10.1080/01621459.1983.10478008>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01234}01234\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01235}01235\ \textcolor{stringliteral}{\ \ \ \ ..\ [2]\ \`{}Wikipedia\ entry\ for\ the\ Fowlkes-\/Mallows\ Index}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01236}01236\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ <https://en.wikipedia.org/wiki/Fowlkes-\/Mallows\_index>\`{}\_}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01237}01237\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01238}01238\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01239}01239\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01240}01240\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01241}01241\ \textcolor{stringliteral}{\ \ \ \ Perfect\ labelings\ are\ both\ homogeneous\ and\ complete,\ hence\ have}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01242}01242\ \textcolor{stringliteral}{\ \ \ \ score\ 1.0::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01243}01243\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01244}01244\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ sklearn.metrics.cluster\ import\ fowlkes\_mallows\_score}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01245}01245\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ fowlkes\_mallows\_score([0,\ 0,\ 1,\ 1],\ [0,\ 0,\ 1,\ 1])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01246}01246\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01247}01247\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ fowlkes\_mallows\_score([0,\ 0,\ 1,\ 1],\ [1,\ 1,\ 0,\ 0])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01248}01248\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01249}01249\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01250}01250\ \textcolor{stringliteral}{\ \ \ \ If\ classes\ members\ are\ completely\ split\ across\ different\ clusters,}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01251}01251\ \textcolor{stringliteral}{\ \ \ \ the\ assignment\ is\ totally\ random,\ hence\ the\ FMI\ is\ null::}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01252}01252\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01253}01253\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ fowlkes\_mallows\_score([0,\ 0,\ 0,\ 0],\ [0,\ 1,\ 2,\ 3])}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01254}01254\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01255}01255\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01256}01256\ \ \ \ \ \textcolor{comment}{\#\ TODO(1.9):\ remove\ the\ sparse\ parameter}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01257}01257\ \ \ \ \ \textcolor{keywordflow}{if}\ sparse\ !=\ \textcolor{stringliteral}{"{}deprecated"{}}:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01258}01258\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01259}01259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ 'sparse'\ parameter\ was\ deprecated\ in\ 1.7\ and\ will\ be\ removed\ in\ 1.9.\ "{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01260}01260\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}It\ has\ no\ effect.\ Leave\ it\ to\ its\ default\ value\ to\ silence\ this\ warning."{}},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01261}01261\ \ \ \ \ \ \ \ \ \ \ \ \ FutureWarning,}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01262}01262\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01263}01263\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01264}01264\ \ \ \ \ labels\_true,\ labels\_pred\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_ad9ede3a9f83c02952cadece7910465b6}{check\_clusterings}}(labels\_true,\ labels\_pred)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01265}01265\ \ \ \ \ (n\_samples,)\ =\ labels\_true.shape}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01266}01266\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01267}01267\ \ \ \ \ c\ =\ \mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_a513ab980b3884723e418e4cbd45d7dc1}{contingency\_matrix}}(labels\_true,\ labels\_pred,\ sparse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01268}01268\ \ \ \ \ c\ =\ c.astype(np.int64,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01269}01269\ \ \ \ \ tk\ =\ np.dot(c.data,\ c.data)\ -\/\ n\_samples}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01270}01270\ \ \ \ \ pk\ =\ np.sum(np.asarray(c.sum(axis=0)).ravel()\ **\ 2)\ -\/\ n\_samples}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01271}01271\ \ \ \ \ qk\ =\ np.sum(np.asarray(c.sum(axis=1)).ravel()\ **\ 2)\ -\/\ n\_samples}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01272}01272\ \ \ \ \ \textcolor{keywordflow}{return}\ float(np.sqrt(tk\ /\ pk)\ *\ np.sqrt(tk\ /\ qk))\ \textcolor{keywordflow}{if}\ tk\ !=\ 0.0\ \textcolor{keywordflow}{else}\ 0.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01273}01273\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01274}01274\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01275}01275\ \textcolor{preprocessor}{@validate\_params}(}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01276}01276\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01277}01277\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}labels"{}}:\ [\textcolor{stringliteral}{"{}array-\/like"{}}],}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01278}01278\ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01279}01279\ \ \ \ \ prefer\_skip\_nested\_validation=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01280}01280\ )}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01281}\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{01281}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1metrics_1_1cluster_1_1__supervised_af69009aa559a2656c733bd33fe144b21}{entropy}}(labels):}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01282}01282\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ the\ entropy\ for\ a\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01283}01283\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01284}01284\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01285}01285\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01286}01286\ \textcolor{stringliteral}{\ \ \ \ labels\ :\ array-\/like\ of\ shape\ (n\_samples,),\ dtype=int}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01287}01287\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ labels.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01288}01288\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01289}01289\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01290}01290\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01291}01291\ \textcolor{stringliteral}{\ \ \ \ entropy\ :\ float}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01292}01292\ \textcolor{stringliteral}{\ \ \ \ \ \ \ The\ entropy\ for\ a\ labeling.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01293}01293\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01294}01294\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01295}01295\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01296}01296\ \textcolor{stringliteral}{\ \ \ \ The\ logarithm\ used\ is\ the\ natural\ logarithm\ (base-\/e).}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01297}01297\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01298}01298\ \ \ \ \ xp,\ is\_array\_api\_compliant,\ device\_\ =\ get\_namespace\_and\_device(labels)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01299}01299\ \ \ \ \ labels\_len\ =\ labels.shape[0]\ \textcolor{keywordflow}{if}\ is\_array\_api\_compliant\ \textcolor{keywordflow}{else}\ len(labels)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01300}01300\ \ \ \ \ \textcolor{keywordflow}{if}\ labels\_len\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01301}01301\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01302}01302\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01303}01303\ \ \ \ \ pi\ =\ xp.astype(xp.unique\_counts(labels)[1],\ \_max\_precision\_float\_dtype(xp,\ device\_))}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01304}01304\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01305}01305\ \ \ \ \ \textcolor{comment}{\#\ single\ cluster\ =>\ zero\ entropy}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01306}01306\ \ \ \ \ \textcolor{keywordflow}{if}\ pi.size\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01307}01307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0.0}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01308}01308\ }
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01309}01309\ \ \ \ \ pi\_sum\ =\ xp.sum(pi)}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01310}01310\ \ \ \ \ \textcolor{comment}{\#\ log(a\ /\ b)\ should\ be\ calculated\ as\ log(a)\ -\/\ log(b)\ for}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01311}01311\ \ \ \ \ \textcolor{comment}{\#\ possible\ loss\ of\ precision}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01312}01312\ \ \ \ \ \textcolor{comment}{\#\ Always\ convert\ the\ result\ as\ a\ Python\ scalar\ (on\ CPU)\ instead\ of\ a\ device}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01313}01313\ \ \ \ \ \textcolor{comment}{\#\ specific\ scalar\ array.}}
\DoxyCodeLine{\Hypertarget{__supervised_8py_source_l01314}01314\ \ \ \ \ \textcolor{keywordflow}{return}\ float(-\/xp.sum((pi\ /\ pi\_sum)\ *\ (xp.log(pi)\ -\/\ log(pi\_sum))))}

\end{DoxyCode}
