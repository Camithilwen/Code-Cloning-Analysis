\doxysection{pandas.\+io.\+json.\+\_\+table\+\_\+schema Namespace Reference}
\hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema}{}\label{namespacepandas_1_1io_1_1json_1_1__table__schema}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_acaecbbabb1ffa9f8ee8c85dd820d1937}{as\+\_\+json\+\_\+table\+\_\+type}} (Dtype\+Obj x)
\item 
\mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_a974bf0ae4146952b83392281a3cacb97}{set\+\_\+default\+\_\+names}} (data)
\item 
dict\mbox{[}str, JSONSerializable\mbox{]} \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_a2012aa5725837421696f2bfbd600479c}{convert\+\_\+pandas\+\_\+type\+\_\+to\+\_\+json\+\_\+field}} (arr)
\item 
str\texorpdfstring{$\vert$}{|}\mbox{\hyperlink{classpandas_1_1core_1_1dtypes_1_1dtypes_1_1CategoricalDtype}{Categorical\+Dtype}} \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_aa0d18cb786a2bb2cb41c671d33676c25}{convert\+\_\+json\+\_\+field\+\_\+to\+\_\+pandas\+\_\+type}} (field)
\item 
dict\mbox{[}str, JSONSerializable\mbox{]} \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_abc72b5f3e1bf4080d414a0e466c2358b}{build\+\_\+table\+\_\+schema}} (Data\+Frame\texorpdfstring{$\vert$}{|}Series data, bool index=\mbox{\hyperlink{classTrue}{True}}, bool\texorpdfstring{$\vert$}{|}None primary\+\_\+key=None, bool version=\mbox{\hyperlink{classTrue}{True}})
\item 
Data\+Frame \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_a809531a4ed8f6c6f7d83fe20c8bbae53}{parse\+\_\+table\+\_\+schema}} (json, bool precise\+\_\+float)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__table__schema_acfee1fd64e741185e0e4ee5dc0d2da77}{TABLE\+\_\+\+SCHEMA\+\_\+\+VERSION}} = "{}1.\+4.\+0"{}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Table Schema builders

https://specs.frictionlessdata.io/table-schema/
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_acaecbbabb1ffa9f8ee8c85dd820d1937}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!as\_json\_table\_type@{as\_json\_table\_type}}
\index{as\_json\_table\_type@{as\_json\_table\_type}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{as\_json\_table\_type()}{as\_json\_table\_type()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_acaecbbabb1ffa9f8ee8c85dd820d1937} 
 str pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+as\+\_\+json\+\_\+table\+\_\+type (\begin{DoxyParamCaption}\item[{Dtype\+Obj}]{x}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Convert a NumPy / pandas type to its corresponding json_table.

Parameters
----------
x : np.dtype or ExtensionDtype

Returns
-------
str
    the Table Schema data types

Notes
-----
This table shows the relationship between NumPy / pandas dtypes,
and Table Schema dtypes.

==============  =================
Pandas type     Table Schema type
==============  =================
int64           integer
float64         number
bool            boolean
datetime64[ns]  datetime
timedelta64[ns] duration
object          str
categorical     any
=============== =================
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00053}{53}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.



Referenced by \mbox{\hyperlink{__table__schema_8py_source_l00101}{set\+\_\+default\+\_\+names()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_abc72b5f3e1bf4080d414a0e466c2358b}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!build\_table\_schema@{build\_table\_schema}}
\index{build\_table\_schema@{build\_table\_schema}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{build\_table\_schema()}{build\_table\_schema()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_abc72b5f3e1bf4080d414a0e466c2358b} 
 dict\mbox{[}str, JSONSerializable\mbox{]} pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+build\+\_\+table\+\_\+schema (\begin{DoxyParamCaption}\item[{Data\+Frame \texorpdfstring{$\vert$}{|} Series}]{data}{, }\item[{bool }]{index}{ = {\ttfamily \mbox{\hyperlink{classTrue}{True}}}, }\item[{bool \texorpdfstring{$\vert$}{|} None }]{primary\+\_\+key}{ = {\ttfamily None}, }\item[{bool }]{version}{ = {\ttfamily \mbox{\hyperlink{classTrue}{True}}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Create a Table schema from ``data``.

Parameters
----------
data : Series, DataFrame
index : bool, default True
    Whether to include ``data.index`` in the schema.
primary_key : bool or None, default True
    Column names to designate as the primary key.
    The default `None` will set `'primaryKey'` to the index
    level or levels if the index is unique.
version : bool, default True
    Whether to include a field `pandas_version` with the version
    of pandas that last revised the table schema. This version
    can be different from the installed pandas version.

Returns
-------
dict

Notes
-----
See `Table Schema
<https://pandas.pydata.org/docs/user_guide/io.html#table-schema>`__ for
conversion types.
Timedeltas as converted to ISO8601 duration format with
9 decimal places after the seconds field for nanosecond precision.

Categoricals are converted to the `any` dtype, and use the `enum` field
constraint to list the allowed values. The `ordered` attribute is included
in an `ordered` field.

Examples
--------
>>> from pandas.io.json._table_schema import build_table_schema
>>> df = pd.DataFrame(
...     {'A': [1, 2, 3],
...      'B': ['a', 'b', 'c'],
...      'C': pd.date_range('2016-01-01', freq='d', periods=3),
...     }, index=pd.Index(range(3), name='idx'))
>>> build_table_schema(df)
{'fields': \
[{'name': 'idx', 'type': 'integer'}, \
{'name': 'A', 'type': 'integer'}, \
{'name': 'B', 'type': 'string'}, \
{'name': 'C', 'type': 'datetime'}], \
'primaryKey': ['idx'], \
'pandas_version': '1.4.0'}
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00234}{234}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.



References \mbox{\hyperlink{__table__schema_8py_source_l00101}{set\+\_\+default\+\_\+names()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_aa0d18cb786a2bb2cb41c671d33676c25}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!convert\_json\_field\_to\_pandas\_type@{convert\_json\_field\_to\_pandas\_type}}
\index{convert\_json\_field\_to\_pandas\_type@{convert\_json\_field\_to\_pandas\_type}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{convert\_json\_field\_to\_pandas\_type()}{convert\_json\_field\_to\_pandas\_type()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_aa0d18cb786a2bb2cb41c671d33676c25} 
 str \texorpdfstring{$\vert$}{|} \mbox{\hyperlink{classpandas_1_1core_1_1dtypes_1_1dtypes_1_1CategoricalDtype}{Categorical\+Dtype}} pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+convert\+\_\+json\+\_\+field\+\_\+to\+\_\+pandas\+\_\+type (\begin{DoxyParamCaption}\item[{}]{field}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Converts a JSON field descriptor into its corresponding NumPy / pandas type

Parameters
----------
field
    A JSON field descriptor

Returns
-------
dtype

Raises
------
ValueError
    If the type of the provided field is unknown or currently unsupported

Examples
--------
>>> convert_json_field_to_pandas_type({"name": "an_int", "type": "integer"})
'int64'

>>> convert_json_field_to_pandas_type(
...     {
...         "name": "a_categorical",
...         "type": "any",
...         "constraints": {"enum": ["a", "b", "c"]},
...         "ordered": True,
...     }
... )
CategoricalDtype(categories=['a', 'b', 'c'], ordered=True, categories_dtype=object)

>>> convert_json_field_to_pandas_type({"name": "a_datetime", "type": "datetime"})
'datetime64[ns]'

>>> convert_json_field_to_pandas_type(
...     {"name": "a_datetime_with_tz", "type": "datetime", "tz": "US/Central"}
... )
'datetime64[ns, US/Central]'
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00157}{157}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.



Referenced by \mbox{\hyperlink{__table__schema_8py_source_l00326}{parse\+\_\+table\+\_\+schema()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_a2012aa5725837421696f2bfbd600479c}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!convert\_pandas\_type\_to\_json\_field@{convert\_pandas\_type\_to\_json\_field}}
\index{convert\_pandas\_type\_to\_json\_field@{convert\_pandas\_type\_to\_json\_field}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{convert\_pandas\_type\_to\_json\_field()}{convert\_pandas\_type\_to\_json\_field()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_a2012aa5725837421696f2bfbd600479c} 
 dict\mbox{[}str, JSONSerializable\mbox{]} pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+convert\+\_\+pandas\+\_\+type\+\_\+to\+\_\+json\+\_\+field (\begin{DoxyParamCaption}\item[{}]{arr}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00125}{125}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_a809531a4ed8f6c6f7d83fe20c8bbae53}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!parse\_table\_schema@{parse\_table\_schema}}
\index{parse\_table\_schema@{parse\_table\_schema}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{parse\_table\_schema()}{parse\_table\_schema()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_a809531a4ed8f6c6f7d83fe20c8bbae53} 
 Data\+Frame pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+parse\+\_\+table\+\_\+schema (\begin{DoxyParamCaption}\item[{}]{json}{, }\item[{bool}]{precise\+\_\+float}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Builds a DataFrame from a given schema

Parameters
----------
json :
    A JSON table schema
precise_float : bool
    Flag controlling precision when decoding string to double values, as
    dictated by ``read_json``

Returns
-------
df : DataFrame

Raises
------
NotImplementedError
    If the JSON table schema contains either timezone or timedelta data

Notes
-----
    Because :func:`DataFrame.to_json` uses the string 'index' to denote a
    name-less :class:`Index`, this function sets the name of the returned
    :class:`DataFrame` to ``None`` when said string is encountered with a
    normal :class:`Index`. For a :class:`MultiIndex`, the same limitation
    applies to any strings beginning with 'level_'. Therefore, an
    :class:`Index` name of 'index'  and :class:`MultiIndex` names starting
    with 'level_' are not supported.

See Also
--------
build_table_schema : Inverse function.
pandas.read_json
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00326}{326}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.



References \mbox{\hyperlink{__table__schema_8py_source_l00157}{convert\+\_\+json\+\_\+field\+\_\+to\+\_\+pandas\+\_\+type()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_a974bf0ae4146952b83392281a3cacb97}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!set\_default\_names@{set\_default\_names}}
\index{set\_default\_names@{set\_default\_names}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{set\_default\_names()}{set\_default\_names()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_a974bf0ae4146952b83392281a3cacb97} 
pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+set\+\_\+default\+\_\+names (\begin{DoxyParamCaption}\item[{}]{data}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Sets index names to 'index' for regular, or 'level_x' for Multi\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00101}{101}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.



References \mbox{\hyperlink{__table__schema_8py_source_l00053}{as\+\_\+json\+\_\+table\+\_\+type()}}.



Referenced by \mbox{\hyperlink{__table__schema_8py_source_l00239}{build\+\_\+table\+\_\+schema()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{namespacepandas_1_1io_1_1json_1_1__table__schema_acfee1fd64e741185e0e4ee5dc0d2da77}\index{pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}!TABLE\_SCHEMA\_VERSION@{TABLE\_SCHEMA\_VERSION}}
\index{TABLE\_SCHEMA\_VERSION@{TABLE\_SCHEMA\_VERSION}!pandas.io.json.\_table\_schema@{pandas.io.json.\_table\_schema}}
\doxysubsubsection{\texorpdfstring{TABLE\_SCHEMA\_VERSION}{TABLE\_SCHEMA\_VERSION}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__table__schema_acfee1fd64e741185e0e4ee5dc0d2da77} 
str pandas.\+io.\+json.\+\_\+table\+\_\+schema.\+TABLE\+\_\+\+SCHEMA\+\_\+\+VERSION = "{}1.\+4.\+0"{}}



Definition at line \mbox{\hyperlink{__table__schema_8py_source_l00050}{50}} of file \mbox{\hyperlink{__table__schema_8py_source}{\+\_\+table\+\_\+schema.\+py}}.

