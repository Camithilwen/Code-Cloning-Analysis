\doxysection{\+\_\+reingold\+\_\+tilford.\+py}
\hypertarget{__reingold__tilford_8py_source}{}\label{__reingold__tilford_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/tree/\_reingold\_tilford.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/tree/\_reingold\_tilford.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00001}\mbox{\hyperlink{namespacesklearn_1_1tree_1_1__reingold__tilford}{00001}}\ \textcolor{comment}{\#\ Authors:\ The\ scikit-\/learn\ developers}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00002}00002\ \textcolor{comment}{\#\ SPDX-\/License-\/Identifier:\ BSD-\/3-\/Clause}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00004}00004\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00007}\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree}{00007}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree}{DrawTree}}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00008}00008\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ tree,\ parent=None,\ depth=0,\ number=1):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00009}00009\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a6c6a370ddfaa2ee03c7532ca4acb2785}{x}}\ =\ -\/1.0}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00010}00010\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a6a7c2a7335dce8c8a7936a0d0df45235}{y}}\ =\ depth}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00011}00011\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a796f76f31bf5a612748481510561c226}{tree}}\ =\ tree}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00012}00012\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ac6640b9f5b3af2ecd443aa7409157659}{children}}\ =\ [}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00013}00013\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree}{DrawTree}}(c,\ self,\ depth\ +\ 1,\ i\ +\ 1)\ \textcolor{keywordflow}{for}\ i,\ c\ \textcolor{keywordflow}{in}\ enumerate(tree.children)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00014}00014\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00015}00015\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a73adb52cf43b57af644e3c206b21bd98}{parent}}\ =\ parent}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00016}00016\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a5ded8ef327e4355d5c6a892210dd0d92}{thread}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00017}00017\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a22d6912709abd6233cbb4b04ee3e417f}{mod}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a9cbb17bfe2a85265a680be630b49c21f}{ancestor}}\ =\ self}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a5bae0bc32de26e5804ba14391cdde494}{change}}\ =\ self.shift\ =\ 0}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a060e57c49242928de2cd13b62a3499d5}{\_lmost\_sibling}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ this\ is\ the\ number\ of\ the\ node\ in\ its\ group\ of\ siblings\ 1..n}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a1ebaf6b6f2b6d1e3393cce4cd295c4af}{number}}\ =\ number}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00024}00024\ \ \ \ \ \textcolor{keyword}{def\ }left(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a5ded8ef327e4355d5c6a892210dd0d92}{thread}}\ \textcolor{keywordflow}{or}\ (len(self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ac6640b9f5b3af2ecd443aa7409157659}{children}})\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ac6640b9f5b3af2ecd443aa7409157659}{children}}[0])}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00027}00027\ \ \ \ \ \textcolor{keyword}{def\ }right(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a5ded8ef327e4355d5c6a892210dd0d92}{thread}}\ \textcolor{keywordflow}{or}\ (len(self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ac6640b9f5b3af2ecd443aa7409157659}{children}})\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ac6640b9f5b3af2ecd443aa7409157659}{children}}[-\/1])}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00030}00030\ \ \ \ \ \textcolor{keyword}{def\ }lbrother(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ n\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a73adb52cf43b57af644e3c206b21bd98}{parent}}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ node\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a73adb52cf43b57af644e3c206b21bd98}{parent}}.children:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ node\ ==\ self:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ n}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n\ =\ node}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ n}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00040}00040\ \ \ \ \ \textcolor{keyword}{def\ }get\_lmost\_sibling(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a060e57c49242928de2cd13b62a3499d5}{\_lmost\_sibling}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a73adb52cf43b57af644e3c206b21bd98}{parent}}\ \textcolor{keywordflow}{and}\ self\ !=\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a73adb52cf43b57af644e3c206b21bd98}{parent}}.children[0]:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a060e57c49242928de2cd13b62a3499d5}{\_lmost\_sibling}}\ =\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a73adb52cf43b57af644e3c206b21bd98}{parent}}.children[0]}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a060e57c49242928de2cd13b62a3499d5}{\_lmost\_sibling}}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00045}00045\ \ \ \ \ lmost\_sibling\ =\ property(get\_lmost\_sibling)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00047}00047\ \ \ \ \ \textcolor{keyword}{def\ }\_\_str\_\_(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\%s:\ x=\%s\ mod=\%s"{}}\ \%\ (self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a796f76f31bf5a612748481510561c226}{tree}},\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a6c6a370ddfaa2ee03c7532ca4acb2785}{x}},\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a22d6912709abd6233cbb4b04ee3e417f}{mod}})}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00050}00050\ \ \ \ \ \textcolor{keyword}{def\ }\_\_repr\_\_(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ad12cdd0d399d0bfbf8fbd48be4863064}{\_\_str\_\_}}()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00053}00053\ \ \ \ \ \textcolor{keyword}{def\ }max\_extents(self):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ extents\ =\ [c.max\_extents()\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_ac6640b9f5b3af2ecd443aa7409157659}{children}}]}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ extents.append((self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a6c6a370ddfaa2ee03c7532ca4acb2785}{x}},\ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree_a6a7c2a7335dce8c8a7936a0d0df45235}{y}}))}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.max(extents,\ axis=0)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00059}00059\ \textcolor{keyword}{def\ }buchheim(tree):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00060}00060\ \ \ \ \ dt\ =\ first\_walk(\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1DrawTree}{DrawTree}}(tree))}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00061}00061\ \ \ \ \ min\ =\ second\_walk(dt)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00062}00062\ \ \ \ \ \textcolor{keywordflow}{if}\ min\ <\ 0:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ third\_walk(dt,\ -\/min)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00064}00064\ \ \ \ \ \textcolor{keywordflow}{return}\ dt}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00067}00067\ \textcolor{keyword}{def\ }third\_walk(tree,\ n):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00068}00068\ \ \ \ \ tree.x\ +=\ n}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00069}00069\ \ \ \ \ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ tree.children:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ third\_walk(c,\ n)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00073}00073\ \textcolor{keyword}{def\ }first\_walk(v,\ distance=1.0):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00074}00074\ \ \ \ \ \textcolor{keywordflow}{if}\ len(v.children)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v.lmost\_sibling:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ v.x\ =\ v.lbrother().x\ +\ distance}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ v.x\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00079}00079\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ default\_ancestor\ =\ v.children[0]}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ w\ \textcolor{keywordflow}{in}\ v.children:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ first\_walk(w)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ default\_ancestor\ =\ apportion(w,\ default\_ancestor,\ distance)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}finished\ v\ ="{},\ v.tree,\ "{}children"{})}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ execute\_shifts(v)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ midpoint\ =\ (v.children[0].x\ +\ v.children[-\/1].x)\ /\ 2}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ w\ =\ v.lbrother()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ w:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ v.x\ =\ w.x\ +\ distance}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ v.mod\ =\ v.x\ -\/\ midpoint}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ v.x\ =\ midpoint}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00095}00095\ \ \ \ \ \textcolor{keywordflow}{return}\ v}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00098}00098\ \textcolor{keyword}{def\ }apportion(v,\ default\_ancestor,\ distance):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00099}00099\ \ \ \ \ w\ =\ v.lbrother()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00100}00100\ \ \ \ \ \textcolor{keywordflow}{if}\ w\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ in\ buchheim\ notation:}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i\ ==\ inner;\ o\ ==\ outer;\ r\ ==\ right;\ l\ ==\ left;\ r\ =\ +;\ l\ =\ -\/}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ vir\ =\ vor\ =\ v}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ vil\ =\ w}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ vol\ =\ v.lmost\_sibling}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ sir\ =\ sor\ =\ v.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ sil\ =\ vil.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ sol\ =\ vol.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ vil.right()\ \textcolor{keywordflow}{and}\ vir.left():}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ vil\ =\ vil.right()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ vir\ =\ vir.left()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ vol\ =\ vol.left()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ vor\ =\ vor.right()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ vor.ancestor\ =\ v}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ =\ (vil.x\ +\ sil)\ -\/\ (vir.x\ +\ sir)\ +\ distance}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ shift\ >\ 0:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ move\_subtree(ancestor(vil,\ v,\ default\_ancestor),\ v,\ shift)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sir\ =\ sir\ +\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sor\ =\ sor\ +\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ sil\ +=\ vil.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ sir\ +=\ vir.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ sol\ +=\ vol.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ sor\ +=\ vor.mod}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ vil.right()\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ vor.right():}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ vor.thread\ =\ vil.right()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ vor.mod\ +=\ sil\ -\/\ sor}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ vir.left()\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ vol.left():}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vol.thread\ =\ vir.left()}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vol.mod\ +=\ sir\ -\/\ sol}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ default\_ancestor\ =\ v}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00132}00132\ \ \ \ \ \textcolor{keywordflow}{return}\ default\_ancestor}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00135}00135\ \textcolor{keyword}{def\ }move\_subtree(wl,\ wr,\ shift):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00136}00136\ \ \ \ \ subtrees\ =\ wr.number\ -\/\ wl.number}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00137}00137\ \ \ \ \ \textcolor{comment}{\#\ print(wl.tree,\ "{}is\ conflicted\ with"{},\ wr.tree,\ 'moving',\ subtrees,}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00138}00138\ \ \ \ \ \textcolor{comment}{\#\ 'shift',\ shift)}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00139}00139\ \ \ \ \ \textcolor{comment}{\#\ print\ wl,\ wr,\ wr.number,\ wl.number,\ shift,\ subtrees,\ shift/subtrees}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00140}00140\ \ \ \ \ wr.change\ -\/=\ shift\ /\ subtrees}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00141}00141\ \ \ \ \ wr.shift\ +=\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00142}00142\ \ \ \ \ wl.change\ +=\ shift\ /\ subtrees}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00143}00143\ \ \ \ \ wr.x\ +=\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00144}00144\ \ \ \ \ wr.mod\ +=\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00147}00147\ \textcolor{keyword}{def\ }execute\_shifts(v):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00148}00148\ \ \ \ \ shift\ =\ change\ =\ 0}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00149}00149\ \ \ \ \ \textcolor{keywordflow}{for}\ w\ \textcolor{keywordflow}{in}\ v.children[::-\/1]:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}shift:"{},\ w,\ shift,\ w.change)}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ w.x\ +=\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ w.mod\ +=\ shift}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ change\ +=\ w.change}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ shift\ +=\ w.shift\ +\ change}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00156}00156\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00157}00157\ \textcolor{keyword}{def\ }ancestor(vil,\ v,\ default\_ancestor):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00158}00158\ \ \ \ \ \textcolor{comment}{\#\ the\ relevant\ text\ is\ at\ the\ bottom\ of\ page\ 7\ of}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00159}00159\ \ \ \ \ \textcolor{comment}{\#\ "{}Improving\ Walker's\ Algorithm\ to\ Run\ in\ Linear\ Time"{}\ by\ Buchheim\ et\ al,}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00160}00160\ \ \ \ \ \textcolor{comment}{\#\ (2002)}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00161}00161\ \ \ \ \ \textcolor{comment}{\#\ https://citeseerx.ist.psu.edu/doc\_view/pid/1f41c3c2a4880dc49238e46d555f16d28da2940d}}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00162}00162\ \ \ \ \ \textcolor{keywordflow}{if}\ vil.ancestor\ \textcolor{keywordflow}{in}\ v.parent.children:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ vil.ancestor}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ default\_ancestor}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00168}00168\ \textcolor{keyword}{def\ }second\_walk(v,\ m=0,\ depth=0,\ min=None):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00169}00169\ \ \ \ \ v.x\ +=\ m}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00170}00170\ \ \ \ \ v.y\ =\ depth}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00172}00172\ \ \ \ \ \textcolor{keywordflow}{if}\ min\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{or}\ v.x\ <\ min:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ min\ =\ v.x}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00175}00175\ \ \ \ \ \textcolor{keywordflow}{for}\ w\ \textcolor{keywordflow}{in}\ v.children:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ min\ =\ second\_walk(w,\ m\ +\ v.mod,\ depth\ +\ 1,\ min)}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00178}00178\ \ \ \ \ \textcolor{keywordflow}{return}\ min}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00181}\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1Tree}{00181}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1Tree}{Tree}}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00182}00182\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ label="{}"{},\ node\_id=-\/1,\ *children):}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1Tree_a027c5d79fe71172d83065c2baf1237cd}{label}}\ =\ label}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1Tree_a4f71ff74994e9e0f3d12e04db062e23e}{node\_id}}\ =\ node\_id}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ children:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1Tree_ab16772038403eb438e15408ded5f266f}{children}}\ =\ children}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__reingold__tilford_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1tree_1_1__reingold__tilford_1_1Tree_ab16772038403eb438e15408ded5f266f}{children}}\ =\ []}

\end{DoxyCode}
