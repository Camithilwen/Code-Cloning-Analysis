\doxysection{font\+Builder.\+py}
\hypertarget{fontBuilder_8py_source}{}\label{fontBuilder_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/fontBuilder.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/fontBuilder.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00001}\mbox{\hyperlink{namespacefontTools_1_1fontBuilder}{00001}}\ \_\_all\_\_\ =\ [\textcolor{stringliteral}{"{}FontBuilder"{}}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00003}00003\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00004}00004\ \textcolor{stringliteral}{This\ module\ is\ *experimental*,\ meaning\ it\ still\ may\ evolve\ and\ change.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00005}00005\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00006}00006\ \textcolor{stringliteral}{The\ \`{}FontBuilder\`{}\ class\ is\ a\ convenient\ helper\ to\ construct\ working\ TTF\ or}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00007}00007\ \textcolor{stringliteral}{OTF\ fonts\ from\ scratch.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00008}00008\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00009}00009\ \textcolor{stringliteral}{Note\ that\ the\ various\ setup\ methods\ cannot\ be\ called\ in\ arbitrary\ order,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00010}00010\ \textcolor{stringliteral}{due\ to\ various\ interdependencies\ between\ OpenType\ tables.\ Here\ is\ an\ order}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00011}00011\ \textcolor{stringliteral}{that\ works:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00012}00012\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00013}00013\ \textcolor{stringliteral}{\ \ \ \ fb\ =\ FontBuilder(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00014}00014\ \textcolor{stringliteral}{\ \ \ \ fb.setupGlyphOrder(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ \ \ fb.setupCharacterMap(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00016}00016\ \textcolor{stringliteral}{\ \ \ \ fb.setupGlyf(...)\ -\/-\/or-\/-\/\ fb.setupCFF(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00017}00017\ \textcolor{stringliteral}{\ \ \ \ fb.setupHorizontalMetrics(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ \ \ fb.setupHorizontalHeader()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ \ \ fb.setupNameTable(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ \ \ fb.setupOS2()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ fb.addOpenTypeFeatures(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00022}00022\ \textcolor{stringliteral}{\ \ \ \ fb.setupPost()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ fb.save(...)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00024}00024\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00025}00025\ \textcolor{stringliteral}{Here\ is\ how\ to\ build\ a\ minimal\ TTF:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00026}00026\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00027}00027\ \textcolor{stringliteral}{\`{}\`{}\`{}python}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00028}00028\ \textcolor{stringliteral}{from\ fontTools.fontBuilder\ import\ FontBuilder}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00029}00029\ \textcolor{stringliteral}{from\ fontTools.pens.ttGlyphPen\ import\ TTGlyphPen}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00030}00030\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00031}00031\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00032}00032\ \textcolor{stringliteral}{def\ drawTestGlyph(pen):}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00033}00033\ \textcolor{stringliteral}{\ \ \ \ pen.moveTo((100,\ 100))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ pen.lineTo((100,\ 1000))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ pen.qCurveTo((200,\ 900),\ (400,\ 900),\ (500,\ 1000))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ pen.lineTo((500,\ 100))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ pen.closePath()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00038}00038\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00039}00039\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00040}00040\ \textcolor{stringliteral}{fb\ =\ FontBuilder(1024,\ isTTF=True)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00041}00041\ \textcolor{stringliteral}{fb.setupGlyphOrder(["{}.notdef"{},\ "{}.null"{},\ "{}space"{},\ "{}A"{},\ "{}a"{}])}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00042}00042\ \textcolor{stringliteral}{fb.setupCharacterMap(\{32:\ "{}space"{},\ 65:\ "{}A"{},\ 97:\ "{}a"{}\})}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00043}00043\ \textcolor{stringliteral}{advanceWidths\ =\ \{"{}.notdef"{}:\ 600,\ "{}space"{}:\ 500,\ "{}A"{}:\ 600,\ "{}a"{}:\ 600,\ "{}.null"{}:\ 0\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00044}00044\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00045}00045\ \textcolor{stringliteral}{familyName\ =\ "{}HelloTestFont"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00046}00046\ \textcolor{stringliteral}{styleName\ =\ "{}TotallyNormal"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00047}00047\ \textcolor{stringliteral}{version\ =\ "{}0.1"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00048}00048\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00049}00049\ \textcolor{stringliteral}{nameStrings\ =\ dict(}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ familyName=dict(en=familyName,\ nl="{}HalloTestFont"{}),}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ styleName=dict(en=styleName,\ nl="{}TotaalNormaal"{}),}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ uniqueFontIdentifier="{}fontBuilder:\ "{}\ +\ familyName\ +\ "{}."{}\ +\ styleName,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ fullName=familyName\ +\ "{}-\/"{}\ +\ styleName,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ psName=familyName\ +\ "{}-\/"{}\ +\ styleName,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ version="{}Version\ "{}\ +\ version,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00056}00056\ \textcolor{stringliteral}{)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00057}00057\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00058}00058\ \textcolor{stringliteral}{pen\ =\ TTGlyphPen(None)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00059}00059\ \textcolor{stringliteral}{drawTestGlyph(pen)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00060}00060\ \textcolor{stringliteral}{glyph\ =\ pen.glyph()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00061}00061\ \textcolor{stringliteral}{glyphs\ =\ \{"{}.notdef"{}:\ glyph,\ "{}space"{}:\ glyph,\ "{}A"{}:\ glyph,\ "{}a"{}:\ glyph,\ "{}.null"{}:\ glyph\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00062}00062\ \textcolor{stringliteral}{fb.setupGlyf(glyphs)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00063}00063\ \textcolor{stringliteral}{metrics\ =\ \{\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00064}00064\ \textcolor{stringliteral}{glyphTable\ =\ fb.font["{}glyf"{}]}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00065}00065\ \textcolor{stringliteral}{for\ gn,\ advanceWidth\ in\ advanceWidths.items():}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ metrics[gn]\ =\ (advanceWidth,\ glyphTable[gn].xMin)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00067}00067\ \textcolor{stringliteral}{fb.setupHorizontalMetrics(metrics)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00068}00068\ \textcolor{stringliteral}{fb.setupHorizontalHeader(ascent=824,\ descent=-\/200)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00069}00069\ \textcolor{stringliteral}{fb.setupNameTable(nameStrings)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00070}00070\ \textcolor{stringliteral}{fb.setupOS2(sTypoAscender=824,\ usWinAscent=824,\ usWinDescent=200)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00071}00071\ \textcolor{stringliteral}{fb.setupPost()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00072}00072\ \textcolor{stringliteral}{fb.save("{}test.ttf"{})}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00073}00073\ \textcolor{stringliteral}{\`{}\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00074}00074\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00075}00075\ \textcolor{stringliteral}{And\ here's\ how\ to\ build\ a\ minimal\ OTF:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00076}00076\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00077}00077\ \textcolor{stringliteral}{\`{}\`{}\`{}python}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00078}00078\ \textcolor{stringliteral}{from\ fontTools.fontBuilder\ import\ FontBuilder}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00079}00079\ \textcolor{stringliteral}{from\ fontTools.pens.t2CharStringPen\ import\ T2CharStringPen}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00080}00080\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00081}00081\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00082}00082\ \textcolor{stringliteral}{def\ drawTestGlyph(pen):}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00083}00083\ \textcolor{stringliteral}{\ \ \ \ pen.moveTo((100,\ 100))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00084}00084\ \textcolor{stringliteral}{\ \ \ \ pen.lineTo((100,\ 1000))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00085}00085\ \textcolor{stringliteral}{\ \ \ \ pen.curveTo((200,\ 900),\ (400,\ 900),\ (500,\ 1000))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00086}00086\ \textcolor{stringliteral}{\ \ \ \ pen.lineTo((500,\ 100))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ pen.closePath()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00088}00088\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00089}00089\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00090}00090\ \textcolor{stringliteral}{fb\ =\ FontBuilder(1024,\ isTTF=False)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00091}00091\ \textcolor{stringliteral}{fb.setupGlyphOrder(["{}.notdef"{},\ "{}.null"{},\ "{}space"{},\ "{}A"{},\ "{}a"{}])}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00092}00092\ \textcolor{stringliteral}{fb.setupCharacterMap(\{32:\ "{}space"{},\ 65:\ "{}A"{},\ 97:\ "{}a"{}\})}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00093}00093\ \textcolor{stringliteral}{advanceWidths\ =\ \{"{}.notdef"{}:\ 600,\ "{}space"{}:\ 500,\ "{}A"{}:\ 600,\ "{}a"{}:\ 600,\ "{}.null"{}:\ 0\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00094}00094\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00095}00095\ \textcolor{stringliteral}{familyName\ =\ "{}HelloTestFont"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00096}00096\ \textcolor{stringliteral}{styleName\ =\ "{}TotallyNormal"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00097}00097\ \textcolor{stringliteral}{version\ =\ "{}0.1"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00098}00098\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00099}00099\ \textcolor{stringliteral}{nameStrings\ =\ dict(}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ familyName=dict(en=familyName,\ nl="{}HalloTestFont"{}),}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ styleName=dict(en=styleName,\ nl="{}TotaalNormaal"{}),}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ uniqueFontIdentifier="{}fontBuilder:\ "{}\ +\ familyName\ +\ "{}."{}\ +\ styleName,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00103}00103\ \textcolor{stringliteral}{\ \ \ \ fullName=familyName\ +\ "{}-\/"{}\ +\ styleName,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00104}00104\ \textcolor{stringliteral}{\ \ \ \ psName=familyName\ +\ "{}-\/"{}\ +\ styleName,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ version="{}Version\ "{}\ +\ version,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00106}00106\ \textcolor{stringliteral}{)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00107}00107\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00108}00108\ \textcolor{stringliteral}{pen\ =\ T2CharStringPen(600,\ None)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00109}00109\ \textcolor{stringliteral}{drawTestGlyph(pen)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00110}00110\ \textcolor{stringliteral}{charString\ =\ pen.getCharString()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00111}00111\ \textcolor{stringliteral}{charStrings\ =\ \{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ "{}.notdef"{}:\ charString,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ "{}space"{}:\ charString,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ "{}A"{}:\ charString,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00115}00115\ \textcolor{stringliteral}{\ \ \ \ "{}a"{}:\ charString,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ "{}.null"{}:\ charString,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00117}00117\ \textcolor{stringliteral}{\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00118}00118\ \textcolor{stringliteral}{fb.setupCFF(nameStrings["{}psName"{}],\ \{"{}FullName"{}:\ nameStrings["{}psName"{}]\},\ charStrings,\ \{\})}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00119}00119\ \textcolor{stringliteral}{lsb\ =\ \{gn:\ cs.calcBounds(None)[0]\ for\ gn,\ cs\ in\ charStrings.items()\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00120}00120\ \textcolor{stringliteral}{metrics\ =\ \{\}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00121}00121\ \textcolor{stringliteral}{for\ gn,\ advanceWidth\ in\ advanceWidths.items():}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00122}00122\ \textcolor{stringliteral}{\ \ \ \ metrics[gn]\ =\ (advanceWidth,\ lsb[gn])}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00123}00123\ \textcolor{stringliteral}{fb.setupHorizontalMetrics(metrics)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00124}00124\ \textcolor{stringliteral}{fb.setupHorizontalHeader(ascent=824,\ descent=200)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00125}00125\ \textcolor{stringliteral}{fb.setupNameTable(nameStrings)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00126}00126\ \textcolor{stringliteral}{fb.setupOS2(sTypoAscender=824,\ usWinAscent=824,\ usWinDescent=200)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00127}00127\ \textcolor{stringliteral}{fb.setupPost()}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00128}00128\ \textcolor{stringliteral}{fb.save("{}test.otf"{})}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00129}00129\ \textcolor{stringliteral}{\`{}\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00130}00130\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00132}00132\ \textcolor{keyword}{from}\ .ttLib\ \textcolor{keyword}{import}\ TTFont,\ newTable}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00133}00133\ \textcolor{keyword}{from}\ .ttLib.tables.\_c\_m\_a\_p\ \textcolor{keyword}{import}\ cmap\_classes}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00134}00134\ \textcolor{keyword}{from}\ .ttLib.tables.\_g\_l\_y\_f\ \textcolor{keyword}{import}\ flagCubic}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00135}00135\ \textcolor{keyword}{from}\ .ttLib.tables.O\_S\_2f\_2\ \textcolor{keyword}{import}\ Panose}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00136}00136\ \textcolor{keyword}{from}\ .misc.timeTools\ \textcolor{keyword}{import}\ timestampNow}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00137}00137\ \textcolor{keyword}{import}\ struct}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00138}00138\ \textcolor{keyword}{from}\ collections\ \textcolor{keyword}{import}\ OrderedDict}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00141}00141\ \_headDefaults\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00142}00142\ \ \ \ \ tableVersion=1.0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00143}00143\ \ \ \ \ fontRevision=1.0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00144}00144\ \ \ \ \ checkSumAdjustment=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00145}00145\ \ \ \ \ magicNumber=0x5F0F3CF5,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00146}00146\ \ \ \ \ flags=0x0003,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00147}00147\ \ \ \ \ unitsPerEm=1000,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00148}00148\ \ \ \ \ created=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00149}00149\ \ \ \ \ modified=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00150}00150\ \ \ \ \ xMin=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00151}00151\ \ \ \ \ yMin=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00152}00152\ \ \ \ \ xMax=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00153}00153\ \ \ \ \ yMax=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00154}00154\ \ \ \ \ macStyle=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00155}00155\ \ \ \ \ lowestRecPPEM=3,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00156}00156\ \ \ \ \ fontDirectionHint=2,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00157}00157\ \ \ \ \ indexToLocFormat=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00158}00158\ \ \ \ \ glyphDataFormat=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00159}00159\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00161}00161\ \_maxpDefaultsTTF\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00162}00162\ \ \ \ \ tableVersion=0x00010000,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00163}00163\ \ \ \ \ numGlyphs=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00164}00164\ \ \ \ \ maxPoints=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00165}00165\ \ \ \ \ maxContours=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00166}00166\ \ \ \ \ maxCompositePoints=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00167}00167\ \ \ \ \ maxCompositeContours=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00168}00168\ \ \ \ \ maxZones=2,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00169}00169\ \ \ \ \ maxTwilightPoints=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00170}00170\ \ \ \ \ maxStorage=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00171}00171\ \ \ \ \ maxFunctionDefs=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00172}00172\ \ \ \ \ maxInstructionDefs=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00173}00173\ \ \ \ \ maxStackElements=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00174}00174\ \ \ \ \ maxSizeOfInstructions=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00175}00175\ \ \ \ \ maxComponentElements=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00176}00176\ \ \ \ \ maxComponentDepth=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00177}00177\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00178}00178\ \_maxpDefaultsOTF\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00179}00179\ \ \ \ \ tableVersion=0x00005000,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00180}00180\ \ \ \ \ numGlyphs=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00181}00181\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00183}00183\ \_postDefaults\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00184}00184\ \ \ \ \ formatType=3.0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00185}00185\ \ \ \ \ italicAngle=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00186}00186\ \ \ \ \ underlinePosition=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00187}00187\ \ \ \ \ underlineThickness=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00188}00188\ \ \ \ \ isFixedPitch=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00189}00189\ \ \ \ \ minMemType42=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00190}00190\ \ \ \ \ maxMemType42=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00191}00191\ \ \ \ \ minMemType1=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00192}00192\ \ \ \ \ maxMemType1=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00193}00193\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00195}00195\ \_hheaDefaults\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00196}00196\ \ \ \ \ tableVersion=0x00010000,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00197}00197\ \ \ \ \ ascent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00198}00198\ \ \ \ \ descent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00199}00199\ \ \ \ \ lineGap=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00200}00200\ \ \ \ \ advanceWidthMax=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00201}00201\ \ \ \ \ minLeftSideBearing=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00202}00202\ \ \ \ \ minRightSideBearing=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00203}00203\ \ \ \ \ xMaxExtent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00204}00204\ \ \ \ \ caretSlopeRise=1,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00205}00205\ \ \ \ \ caretSlopeRun=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00206}00206\ \ \ \ \ caretOffset=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00207}00207\ \ \ \ \ reserved0=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00208}00208\ \ \ \ \ reserved1=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00209}00209\ \ \ \ \ reserved2=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00210}00210\ \ \ \ \ reserved3=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00211}00211\ \ \ \ \ metricDataFormat=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00212}00212\ \ \ \ \ numberOfHMetrics=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00213}00213\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00214}00214\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00215}00215\ \_vheaDefaults\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00216}00216\ \ \ \ \ tableVersion=0x00010000,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00217}00217\ \ \ \ \ ascent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00218}00218\ \ \ \ \ descent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00219}00219\ \ \ \ \ lineGap=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00220}00220\ \ \ \ \ advanceHeightMax=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00221}00221\ \ \ \ \ minTopSideBearing=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00222}00222\ \ \ \ \ minBottomSideBearing=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00223}00223\ \ \ \ \ yMaxExtent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00224}00224\ \ \ \ \ caretSlopeRise=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00225}00225\ \ \ \ \ caretSlopeRun=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00226}00226\ \ \ \ \ reserved0=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00227}00227\ \ \ \ \ reserved1=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00228}00228\ \ \ \ \ reserved2=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00229}00229\ \ \ \ \ reserved3=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00230}00230\ \ \ \ \ reserved4=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00231}00231\ \ \ \ \ metricDataFormat=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00232}00232\ \ \ \ \ numberOfVMetrics=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00233}00233\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00234}00234\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00235}00235\ \_nameIDs\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00236}00236\ \ \ \ \ copyright=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00237}00237\ \ \ \ \ familyName=1,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00238}00238\ \ \ \ \ styleName=2,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00239}00239\ \ \ \ \ uniqueFontIdentifier=3,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00240}00240\ \ \ \ \ fullName=4,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00241}00241\ \ \ \ \ version=5,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00242}00242\ \ \ \ \ psName=6,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00243}00243\ \ \ \ \ trademark=7,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00244}00244\ \ \ \ \ manufacturer=8,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00245}00245\ \ \ \ \ designer=9,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00246}00246\ \ \ \ \ description=10,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00247}00247\ \ \ \ \ vendorURL=11,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00248}00248\ \ \ \ \ designerURL=12,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00249}00249\ \ \ \ \ licenseDescription=13,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00250}00250\ \ \ \ \ licenseInfoURL=14,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00251}00251\ \ \ \ \ \textcolor{comment}{\#\ reserved\ =\ 15,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00252}00252\ \ \ \ \ typographicFamily=16,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00253}00253\ \ \ \ \ typographicSubfamily=17,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00254}00254\ \ \ \ \ compatibleFullName=18,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00255}00255\ \ \ \ \ sampleText=19,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00256}00256\ \ \ \ \ postScriptCIDFindfontName=20,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00257}00257\ \ \ \ \ wwsFamilyName=21,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00258}00258\ \ \ \ \ wwsSubfamilyName=22,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00259}00259\ \ \ \ \ lightBackgroundPalette=23,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00260}00260\ \ \ \ \ darkBackgroundPalette=24,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00261}00261\ \ \ \ \ variationsPostScriptNamePrefix=25,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00262}00262\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00263}00263\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00264}00264\ \textcolor{comment}{\#\ to\ insert\ in\ setupNameTable\ doc\ string:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00265}00265\ \textcolor{comment}{\#\ print("{}\(\backslash\)n"{}.join(("{}\%s\ (nameID\ \%s)"{}\ \%\ (k,\ v))\ for\ k,\ v\ in\ sorted(\_nameIDs.items(),\ key=lambda\ x:\ x[1])))}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00266}00266\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00267}00267\ \_panoseDefaults\ =\ \mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1O__S__2f__2_1_1Panose}{Panose}}()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00268}00268\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00269}00269\ \_OS2Defaults\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00270}00270\ \ \ \ \ version=3,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00271}00271\ \ \ \ \ xAvgCharWidth=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00272}00272\ \ \ \ \ usWeightClass=400,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00273}00273\ \ \ \ \ usWidthClass=5,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00274}00274\ \ \ \ \ fsType=0x0004,\ \ \textcolor{comment}{\#\ default:\ Preview\ \&\ Print\ embedding}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00275}00275\ \ \ \ \ ySubscriptXSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00276}00276\ \ \ \ \ ySubscriptYSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00277}00277\ \ \ \ \ ySubscriptXOffset=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00278}00278\ \ \ \ \ ySubscriptYOffset=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00279}00279\ \ \ \ \ ySuperscriptXSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00280}00280\ \ \ \ \ ySuperscriptYSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00281}00281\ \ \ \ \ ySuperscriptXOffset=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00282}00282\ \ \ \ \ ySuperscriptYOffset=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00283}00283\ \ \ \ \ yStrikeoutSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00284}00284\ \ \ \ \ yStrikeoutPosition=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00285}00285\ \ \ \ \ sFamilyClass=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00286}00286\ \ \ \ \ panose=\_panoseDefaults,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00287}00287\ \ \ \ \ ulUnicodeRange1=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00288}00288\ \ \ \ \ ulUnicodeRange2=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00289}00289\ \ \ \ \ ulUnicodeRange3=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00290}00290\ \ \ \ \ ulUnicodeRange4=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00291}00291\ \ \ \ \ achVendID=\textcolor{stringliteral}{"{}????"{}},}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00292}00292\ \ \ \ \ fsSelection=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00293}00293\ \ \ \ \ usFirstCharIndex=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00294}00294\ \ \ \ \ usLastCharIndex=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00295}00295\ \ \ \ \ sTypoAscender=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00296}00296\ \ \ \ \ sTypoDescender=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00297}00297\ \ \ \ \ sTypoLineGap=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00298}00298\ \ \ \ \ usWinAscent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00299}00299\ \ \ \ \ usWinDescent=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00300}00300\ \ \ \ \ ulCodePageRange1=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00301}00301\ \ \ \ \ ulCodePageRange2=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00302}00302\ \ \ \ \ sxHeight=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00303}00303\ \ \ \ \ sCapHeight=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00304}00304\ \ \ \ \ usDefaultChar=0,\ \ \textcolor{comment}{\#\ .notdef}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00305}00305\ \ \ \ \ usBreakChar=32,\ \ \textcolor{comment}{\#\ space}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00306}00306\ \ \ \ \ usMaxContext=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00307}00307\ \ \ \ \ usLowerOpticalPointSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00308}00308\ \ \ \ \ usUpperOpticalPointSize=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00309}00309\ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00310}00310\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00311}00311\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00312}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder}{00312}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder}{FontBuilder}}(object):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00313}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a3d521fa0aec8f294ed5e6e61e1ac9ec4}{00313}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a3d521fa0aec8f294ed5e6e61e1ac9ec4}{\_\_init\_\_}}(self,\ unitsPerEm=None,\ font=None,\ isTTF=True,\ glyphDataFormat=0):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Initialize\ a\ FontBuilder\ instance.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00315}00315\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00316}00316\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ the\ \`{}font\`{}\ argument\ is\ not\ given,\ a\ new\ \`{}TTFont\`{}\ will\ be}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00317}00317\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ constructed,\ and\ \`{}unitsPerEm\`{}\ must\ be\ given.\ If\ \`{}isTTF\`{}\ is\ True,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00318}00318\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ font\ will\ be\ a\ glyf-\/based\ TTF;\ if\ \`{}isTTF\`{}\ is\ False\ it\ will\ be}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00319}00319\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ a\ CFF-\/based\ OTF.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00320}00320\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00321}00321\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}glyphDataFormat\`{}\ argument\ corresponds\ to\ the\ \`{}head\`{}\ table\ field}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00322}00322\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ that\ defines\ the\ format\ of\ the\ TrueType\ \`{}glyf\`{}\ table\ (default=0).}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00323}00323\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ TrueType\ glyphs\ historically\ can\ only\ contain\ quadratic\ splines\ and\ static}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00324}00324\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ components,\ but\ there's\ a\ proposal\ to\ add\ support\ for\ cubic\ Bezier\ curves\ as\ well}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00325}00325\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ as\ variable\ composites/components\ at}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00326}00326\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ https://github.com/harfbuzz/boring-\/expansion-\/spec/blob/main/glyf1.md}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00327}00327\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ You\ can\ experiment\ with\ the\ new\ features\ by\ setting\ \`{}glyphDataFormat\`{}\ to\ 1.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00328}00328\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ ValueError\ is\ raised\ if\ \`{}glyphDataFormat\`{}\ is\ left\ at\ 0\ but\ glyphs\ are\ added}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00329}00329\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ that\ contain\ cubic\ splines\ or\ varcomposites.\ This\ is\ to\ prevent\ accidentally}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00330}00330\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ creating\ fonts\ that\ are\ incompatible\ with\ existing\ TrueType\ implementations.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00331}00331\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00332}00332\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}font\`{}\ is\ given,\ it\ must\ be\ a\ \`{}TTFont\`{}\ instance\ and\ \`{}unitsPerEm\`{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00333}00333\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ must\ \_not\_\ be\ given.\ The\ \`{}isTTF\`{}\ and\ \`{}glyphDataFormat\`{}\ arguments\ will\ be\ ignored.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00334}00334\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ font\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}\ =\ \mbox{\hyperlink{classfontTools_1_1ttLib_1_1ttFont_1_1TTFont}{TTFont}}(recalcTimestamp=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}\ =\ isTTF}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ now\ =\ timestampNow()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ unitsPerEm\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a5d01b7510beae1f0eaa7b16e9296f36b}{setupHead}}(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unitsPerEm=unitsPerEm,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ created=now,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ modified=now,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glyphDataFormat=glyphDataFormat,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ace8c101d0ad43b501bad393c908a755a}{setupMaxp}}()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ unitsPerEm\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}\ =\ font}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}\ =\ \textcolor{stringliteral}{"{}glyf"{}}\ \textcolor{keywordflow}{in}\ font}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00351}00351\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00352}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a2f92970176a2113abcdd2ad31c803c5b}{00352}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a2f92970176a2113abcdd2ad31c803c5b}{save}}(self,\ file):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Save\ the\ font.\ The\ 'file'\ argument\ can\ be\ either\ a\ pathname\ or\ a}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00354}00354\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ writable\ file\ object.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00355}00355\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a2f92970176a2113abcdd2ad31c803c5b}{save}}(file)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00357}00357\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00358}00358\ \ \ \ \ \textcolor{keyword}{def\ }\_initTableWithValues(self,\ tableTag,\ defaults,\ values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ table\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[tableTag]\ =\ newTable(tableTag)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ defaults.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(table,\ k,\ v)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00362}00362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ values.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00363}00363\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(table,\ k,\ v)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ table}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00366}00366\ \ \ \ \ \textcolor{keyword}{def\ }\_updateTableWithValues(self,\ tableTag,\ values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ table\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[tableTag]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ values.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(table,\ k,\ v)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00370}00370\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00371}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a5d01b7510beae1f0eaa7b16e9296f36b}{00371}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a5d01b7510beae1f0eaa7b16e9296f36b}{setupHead}}(self,\ **values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}head\`{}\ table\ and\ initialize\ it\ with\ default\ values,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00373}00373\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ which\ can\ be\ overridden\ by\ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00374}00374\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}head"{}},\ \_headDefaults,\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00376}00376\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00377}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a5c02c034ceed2a3f1d4baab35f1719c9}{00377}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a5c02c034ceed2a3f1d4baab35f1719c9}{updateHead}}(self,\ **values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Update\ the\ head\ table\ with\ the\ fields\ and\ values\ passed\ as}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00379}00379\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00380}00380\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ab6d9459b36165344822ba8d9c990cc87}{\_updateTableWithValues}}(\textcolor{stringliteral}{"{}head"{}},\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00382}00382\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00383}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_aa996e2aecb4d4ca196c43ffd354be28c}{00383}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_aa996e2aecb4d4ca196c43ffd354be28c}{setupGlyphOrder}}(self,\ glyphOrder):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Set\ the\ glyph\ order\ for\ the\ font."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00385}00385\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.setGlyphOrder(glyphOrder)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00386}00386\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00387}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a1062c2f89e9e368588339b4bb3b4fcf1}{00387}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a1062c2f89e9e368588339b4bb3b4fcf1}{setupCharacterMap}}(self,\ cmapping,\ uvs=None,\ allowFallback=False):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ the\ \`{}cmap\`{}\ table\ for\ the\ font.\ The\ \`{}cmapping\`{}\ argument\ should}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00389}00389\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ be\ a\ dict\ mapping\ unicode\ code\ points\ as\ integers\ to\ glyph\ names.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00390}00390\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00391}00391\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}uvs\`{}\ argument,\ when\ passed,\ must\ be\ a\ list\ of\ tuples,\ describing}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00392}00392\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Unicode\ Variation\ Sequences.\ These\ tuples\ have\ three\ elements:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00393}00393\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ (unicodeValue,\ variationSelector,\ glyphName)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00394}00394\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}unicodeValue\`{}\ and\ \`{}variationSelector\`{}\ are\ integer\ code\ points.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00395}00395\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}glyphName\`{}\ may\ be\ None,\ to\ indicate\ this\ is\ the\ default\ variation.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00396}00396\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Text\ processors\ will\ then\ use\ the\ cmap\ to\ find\ the\ glyph\ name.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00397}00397\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Each\ Unicode\ Variation\ Sequence\ should\ be\ an\ officially\ supported}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00398}00398\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ sequence,\ but\ this\ is\ not\ policed.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00399}00399\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00400}00400\ \ \ \ \ \ \ \ \ subTables\ =\ []}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ highestUnicode\ =\ max(cmapping)\ \textcolor{keywordflow}{if}\ cmapping\ \textcolor{keywordflow}{else}\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00402}00402\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ highestUnicode\ >\ 0xFFFF:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00403}00403\ \ \ \ \ \ \ \ \ \ \ \ \ cmapping\_3\_1\ =\ dict((k,\ v)\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ cmapping.items()\ \textcolor{keywordflow}{if}\ k\ <\ 0x10000)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \ \ \ subTable\_3\_10\ =\ buildCmapSubTable(cmapping,\ 12,\ 3,\ 10)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00405}00405\ \ \ \ \ \ \ \ \ \ \ \ \ subTables.append(subTable\_3\_10)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00406}00406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00407}00407\ \ \ \ \ \ \ \ \ \ \ \ \ cmapping\_3\_1\ =\ cmapping}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ format\ =\ 4}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00409}00409\ \ \ \ \ \ \ \ \ subTable\_3\_1\ =\ buildCmapSubTable(cmapping\_3\_1,\ format,\ 3,\ 1)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ subTable\_3\_1.compile(self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ struct.error:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ format\ 4\ overflowed,\ fall\ back\ to\ format\ 12}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ allowFallback:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}cmap\ format\ 4\ subtable\ overflowed;\ sort\ glyph\ order\ by\ unicode\ to\ fix."{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ format\ =\ 12}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ subTable\_3\_1\ =\ buildCmapSubTable(cmapping\_3\_1,\ format,\ 3,\ 1)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ subTables.append(subTable\_3\_1)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ subTable\_0\_3\ =\ buildCmapSubTable(cmapping\_3\_1,\ format,\ 0,\ 3)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ subTables.append(subTable\_0\_3)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00423}00423\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ uvs\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ uvsDict\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ unicodeValue,\ variationSelector,\ glyphName\ \textcolor{keywordflow}{in}\ uvs:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ cmapping.get(unicodeValue)\ ==\ glyphName:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ this\ is\ a\ default\ variation}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glyphName\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ variationSelector\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ uvsDict:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uvsDict[variationSelector]\ =\ []}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uvsDict[variationSelector].append((unicodeValue,\ glyphName))}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ uvsSubTable\ =\ buildCmapSubTable(\{\},\ 14,\ 0,\ 5)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ uvsSubTable.uvsDict\ =\ uvsDict}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ subTables.append(uvsSubTable)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00436}00436\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}cmap"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}cmap"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}cmap"{}}].tableVersion\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}cmap"{}}].tables\ =\ subTables}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00440}00440\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00441}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_afedd6935c2f681cdf0e8ba6a597423aa}{00441}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_afedd6935c2f681cdf0e8ba6a597423aa}{setupNameTable}}(self,\ nameStrings,\ windows=True,\ mac=True):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ the\ \`{}name\`{}\ table\ for\ the\ font.\ The\ \`{}nameStrings\`{}\ argument\ must}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00443}00443\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ be\ a\ dict,\ mapping\ nameIDs\ or\ descriptive\ names\ for\ the\ nameIDs\ to\ name}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00444}00444\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ record\ values.\ A\ value\ is\ either\ a\ string,\ or\ a\ dict,\ mapping\ language\ codes}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00445}00445\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ strings,\ to\ allow\ localized\ name\ table\ entries.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00446}00446\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00447}00447\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ By\ default,\ both\ Windows\ (platformID=3)\ and\ Macintosh\ (platformID=1)\ name}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00448}00448\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ records\ are\ added,\ unless\ any\ of\ \`{}windows\`{}\ or\ \`{}mac\`{}\ arguments\ is\ False.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00449}00449\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00450}00450\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ following\ descriptive\ names\ are\ available\ for\ nameIDs:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00451}00451\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00452}00452\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ copyright\ (nameID\ 0)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00453}00453\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ familyName\ (nameID\ 1)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00454}00454\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ styleName\ (nameID\ 2)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00455}00455\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ uniqueFontIdentifier\ (nameID\ 3)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00456}00456\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ fullName\ (nameID\ 4)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00457}00457\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ version\ (nameID\ 5)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00458}00458\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ psName\ (nameID\ 6)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00459}00459\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ trademark\ (nameID\ 7)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00460}00460\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ manufacturer\ (nameID\ 8)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00461}00461\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ designer\ (nameID\ 9)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00462}00462\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ description\ (nameID\ 10)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00463}00463\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ vendorURL\ (nameID\ 11)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00464}00464\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ designerURL\ (nameID\ 12)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00465}00465\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ licenseDescription\ (nameID\ 13)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00466}00466\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ licenseInfoURL\ (nameID\ 14)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00467}00467\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ typographicFamily\ (nameID\ 16)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00468}00468\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ typographicSubfamily\ (nameID\ 17)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00469}00469\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ compatibleFullName\ (nameID\ 18)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00470}00470\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ sampleText\ (nameID\ 19)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00471}00471\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ postScriptCIDFindfontName\ (nameID\ 20)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00472}00472\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ wwsFamilyName\ (nameID\ 21)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00473}00473\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ wwsSubfamilyName\ (nameID\ 22)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00474}00474\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ lightBackgroundPalette\ (nameID\ 23)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00475}00475\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ darkBackgroundPalette\ (nameID\ 24)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00476}00476\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ variationsPostScriptNamePrefix\ (nameID\ 25)}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00477}00477\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ nameTable\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}name"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}name"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ nameTable.names\ =\ []}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00480}00480\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00481}00481\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ nameName,\ nameValue\ \textcolor{keywordflow}{in}\ nameStrings.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(nameName,\ int):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nameID\ =\ nameName}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nameID\ =\ \_nameIDs[nameName]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(nameValue,\ str):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nameValue\ =\ dict(en=nameValue)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ nameTable.addMultilingualName(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nameValue,\ ttFont=self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ nameID=nameID,\ windows=windows,\ mac=mac}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00491}00491\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00492}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a904ce5b09ccbae241b40cd63bb95ed9a}{00492}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a904ce5b09ccbae241b40cd63bb95ed9a}{setupOS2}}(self,\ **values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}OS/2\`{}\ table\ and\ initialize\ it\ with\ default\ values,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00494}00494\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ which\ can\ be\ overridden\ by\ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00495}00495\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}OS/2"{}},\ \_OS2Defaults,\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00497}00497\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}xAvgCharWidth"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ values:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00498}00498\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00499}00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}hmtx"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00500}00500\ \ \ \ \ \ \ \ \ \ \ \ \ ),\ \textcolor{stringliteral}{"{}the\ 'hmtx'\ table\ must\ be\ setup\ before\ the\ 'OS/2'\ table"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00501}00501\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}OS/2"{}}].recalcAvgCharWidth(self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ulUnicodeRange1"{}}\ \textcolor{keywordflow}{in}\ values}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}ulUnicodeRange2"{}}\ \textcolor{keywordflow}{in}\ values}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}ulUnicodeRange3"{}}\ \textcolor{keywordflow}{in}\ values}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}ulUnicodeRange3"{}}\ \textcolor{keywordflow}{in}\ values}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00507}00507\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}cmap"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00510}00510\ \ \ \ \ \ \ \ \ \ \ \ \ ),\ \textcolor{stringliteral}{"{}the\ 'cmap'\ table\ must\ be\ setup\ before\ the\ 'OS/2'\ table"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}OS/2"{}}].recalcUnicodeRanges(self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00512}00512\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00513}00513\ \ \ \ \ \textcolor{keyword}{def\ }setupCFF(self,\ psName,\ fontInfo,\ charStringsDict,\ privateDict):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00514}00514\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .cffLib\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \ \ \ \ CFFFontSet,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ TopDictIndex,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ TopDict,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00518}00518\ \ \ \ \ \ \ \ \ \ \ \ \ CharStrings,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \ \ \ GlobalSubrsIndex,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00520}00520\ \ \ \ \ \ \ \ \ \ \ \ \ PrivateDict,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00521}00521\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00522}00522\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00523}00523\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00524}00524\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.sfntVersion\ =\ \textcolor{stringliteral}{"{}OTTO"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00525}00525\ \ \ \ \ \ \ \ \ fontSet\ =\ CFFFontSet()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00526}00526\ \ \ \ \ \ \ \ \ fontSet.major\ =\ 1}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00527}00527\ \ \ \ \ \ \ \ \ fontSet.minor\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00528}00528\ \ \ \ \ \ \ \ \ fontSet.otFont\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00529}00529\ \ \ \ \ \ \ \ \ fontSet.fontNames\ =\ [psName]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ fontSet.topDictIndex\ =\ TopDictIndex()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00531}00531\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00532}00532\ \ \ \ \ \ \ \ \ globalSubrs\ =\ GlobalSubrsIndex()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00533}00533\ \ \ \ \ \ \ \ \ fontSet.GlobalSubrs\ =\ globalSubrs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00534}00534\ \ \ \ \ \ \ \ \ private\ =\ PrivateDict()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00535}00535\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ privateDict.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00536}00536\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(private,\ key,\ value)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00537}00537\ \ \ \ \ \ \ \ \ fdSelect\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00538}00538\ \ \ \ \ \ \ \ \ fdArray\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00539}00539\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00540}00540\ \ \ \ \ \ \ \ \ topDict\ =\ TopDict()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00541}00541\ \ \ \ \ \ \ \ \ topDict.charset\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.getGlyphOrder()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00542}00542\ \ \ \ \ \ \ \ \ topDict.Private\ =\ private}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ topDict.GlobalSubrs\ =\ fontSet.GlobalSubrs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00544}00544\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ fontInfo.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00545}00545\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(topDict,\ key,\ value)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00546}00546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}FontMatrix"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ fontInfo:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00547}00547\ \ \ \ \ \ \ \ \ \ \ \ \ scale\ =\ 1\ /\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}head"{}}].unitsPerEm}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00548}00548\ \ \ \ \ \ \ \ \ \ \ \ \ topDict.FontMatrix\ =\ [scale,\ 0,\ 0,\ scale,\ 0,\ 0]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00549}00549\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00550}00550\ \ \ \ \ \ \ \ \ charStrings\ =\ CharStrings(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00551}00551\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{None},\ topDict.charset,\ globalSubrs,\ private,\ fdSelect,\ fdArray}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00552}00552\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00553}00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ glyphName,\ charString\ \textcolor{keywordflow}{in}\ charStringsDict.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00554}00554\ \ \ \ \ \ \ \ \ \ \ \ \ charString.private\ =\ private}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00555}00555\ \ \ \ \ \ \ \ \ \ \ \ \ charString.globalSubrs\ =\ globalSubrs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00556}00556\ \ \ \ \ \ \ \ \ \ \ \ \ charStrings[glyphName]\ =\ charString}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00557}00557\ \ \ \ \ \ \ \ \ topDict.CharStrings\ =\ charStrings}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00558}00558\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00559}00559\ \ \ \ \ \ \ \ \ fontSet.topDictIndex.append(topDict)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00560}00560\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00561}00561\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}CFF\ "{}}]\ =\ newTable(\textcolor{stringliteral}{"{}CFF\ "{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00562}00562\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}CFF\ "{}}].cff\ =\ fontSet}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00563}00563\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00564}00564\ \ \ \ \ \textcolor{keyword}{def\ }setupCFF2(self,\ charStringsDict,\ fdArrayList=None,\ regions=None):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00565}00565\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .cffLib\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00566}00566\ \ \ \ \ \ \ \ \ \ \ \ \ CFFFontSet,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00567}00567\ \ \ \ \ \ \ \ \ \ \ \ \ TopDictIndex,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00568}00568\ \ \ \ \ \ \ \ \ \ \ \ \ TopDict,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00569}00569\ \ \ \ \ \ \ \ \ \ \ \ \ CharStrings,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00570}00570\ \ \ \ \ \ \ \ \ \ \ \ \ GlobalSubrsIndex,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00571}00571\ \ \ \ \ \ \ \ \ \ \ \ \ PrivateDict,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00572}00572\ \ \ \ \ \ \ \ \ \ \ \ \ FDArrayIndex,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00573}00573\ \ \ \ \ \ \ \ \ \ \ \ \ FontDict,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00574}00574\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00575}00575\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00576}00576\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00577}00577\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.sfntVersion\ =\ \textcolor{stringliteral}{"{}OTTO"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00578}00578\ \ \ \ \ \ \ \ \ fontSet\ =\ CFFFontSet()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00579}00579\ \ \ \ \ \ \ \ \ fontSet.major\ =\ 2}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00580}00580\ \ \ \ \ \ \ \ \ fontSet.minor\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00581}00581\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00582}00582\ \ \ \ \ \ \ \ \ cff2GetGlyphOrder\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.getGlyphOrder}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00583}00583\ \ \ \ \ \ \ \ \ fontSet.topDictIndex\ =\ TopDictIndex(\textcolor{keywordtype}{None},\ cff2GetGlyphOrder,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00584}00584\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00585}00585\ \ \ \ \ \ \ \ \ globalSubrs\ =\ GlobalSubrsIndex()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00586}00586\ \ \ \ \ \ \ \ \ fontSet.GlobalSubrs\ =\ globalSubrs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00587}00587\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00588}00588\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ fdArrayList\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00589}00589\ \ \ \ \ \ \ \ \ \ \ \ \ fdArrayList\ =\ [\{\}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00590}00590\ \ \ \ \ \ \ \ \ fdSelect\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00591}00591\ \ \ \ \ \ \ \ \ fdArray\ =\ FDArrayIndex()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00592}00592\ \ \ \ \ \ \ \ \ fdArray.strings\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00593}00593\ \ \ \ \ \ \ \ \ fdArray.GlobalSubrs\ =\ globalSubrs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00594}00594\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ privateDict\ \textcolor{keywordflow}{in}\ fdArrayList:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00595}00595\ \ \ \ \ \ \ \ \ \ \ \ \ fontDict\ =\ FontDict()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00596}00596\ \ \ \ \ \ \ \ \ \ \ \ \ fontDict.setCFF2(\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00597}00597\ \ \ \ \ \ \ \ \ \ \ \ \ private\ =\ PrivateDict()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00598}00598\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ privateDict.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00599}00599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ setattr(private,\ key,\ value)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00600}00600\ \ \ \ \ \ \ \ \ \ \ \ \ fontDict.Private\ =\ private}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00601}00601\ \ \ \ \ \ \ \ \ \ \ \ \ fdArray.append(fontDict)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00602}00602\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00603}00603\ \ \ \ \ \ \ \ \ topDict\ =\ TopDict()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00604}00604\ \ \ \ \ \ \ \ \ topDict.cff2GetGlyphOrder\ =\ cff2GetGlyphOrder}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00605}00605\ \ \ \ \ \ \ \ \ topDict.FDArray\ =\ fdArray}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00606}00606\ \ \ \ \ \ \ \ \ scale\ =\ 1\ /\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}head"{}}].unitsPerEm}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00607}00607\ \ \ \ \ \ \ \ \ topDict.FontMatrix\ =\ [scale,\ 0,\ 0,\ scale,\ 0,\ 0]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00608}00608\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00609}00609\ \ \ \ \ \ \ \ \ private\ =\ fdArray[0].Private}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00610}00610\ \ \ \ \ \ \ \ \ charStrings\ =\ CharStrings(\textcolor{keywordtype}{None},\ \textcolor{keywordtype}{None},\ globalSubrs,\ private,\ fdSelect,\ fdArray)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00611}00611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ glyphName,\ charString\ \textcolor{keywordflow}{in}\ charStringsDict.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00612}00612\ \ \ \ \ \ \ \ \ \ \ \ \ charString.private\ =\ private}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00613}00613\ \ \ \ \ \ \ \ \ \ \ \ \ charString.globalSubrs\ =\ globalSubrs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00614}00614\ \ \ \ \ \ \ \ \ \ \ \ \ charStrings[glyphName]\ =\ charString}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00615}00615\ \ \ \ \ \ \ \ \ topDict.CharStrings\ =\ charStrings}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00616}00616\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00617}00617\ \ \ \ \ \ \ \ \ fontSet.topDictIndex.append(topDict)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00618}00618\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00619}00619\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}CFF2"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}CFF2"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00620}00620\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}CFF2"{}}].cff\ =\ fontSet}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00621}00621\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00622}00622\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ regions:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00623}00623\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ade29e353f25224f6034ebd57a053d803}{setupCFF2Regions}}(regions)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00624}00624\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00625}00625\ \ \ \ \ \textcolor{keyword}{def\ }setupCFF2Regions(self,\ regions):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00626}00626\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .varLib.builder\ \textcolor{keyword}{import}\ buildVarRegionList,\ buildVarData,\ buildVarStore}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00627}00627\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .cffLib\ \textcolor{keyword}{import}\ VarStoreData}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00628}00628\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00629}00629\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{stringliteral}{"{}fvar"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ \textcolor{stringliteral}{"{}fvar\ must\ to\ be\ set\ up\ first"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00630}00630\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{stringliteral}{"{}CFF2"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ \textcolor{stringliteral}{"{}CFF2\ must\ to\ be\ set\ up\ first"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00631}00631\ \ \ \ \ \ \ \ \ axisTags\ =\ [a.axisTag\ \textcolor{keywordflow}{for}\ a\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}fvar"{}}].axes]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00632}00632\ \ \ \ \ \ \ \ \ varRegionList\ =\ buildVarRegionList(regions,\ axisTags)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00633}00633\ \ \ \ \ \ \ \ \ varData\ =\ buildVarData(list(range(len(regions))),\ \textcolor{keywordtype}{None},\ optimize=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00634}00634\ \ \ \ \ \ \ \ \ varStore\ =\ buildVarStore(varRegionList,\ [varData])}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00635}00635\ \ \ \ \ \ \ \ \ vstore\ =\ VarStoreData(otVarStore=varStore)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00636}00636\ \ \ \ \ \ \ \ \ topDict\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}CFF2"{}}].cff.topDictIndex[0]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00637}00637\ \ \ \ \ \ \ \ \ topDict.VarStore\ =\ vstore}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00638}00638\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ fontDict\ \textcolor{keywordflow}{in}\ topDict.FDArray:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00639}00639\ \ \ \ \ \ \ \ \ \ \ \ \ fontDict.Private.vstore\ =\ vstore}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00640}00640\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00641}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a03ce602565a9f72c8a2210b97880cc49}{00641}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a03ce602565a9f72c8a2210b97880cc49}{setupGlyf}}(self,\ glyphs,\ calcGlyphBounds=True,\ validateGlyphFormat=True):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00642}00642\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ the\ \`{}glyf\`{}\ table\ from\ a\ dict,\ that\ maps\ glyph\ names}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00643}00643\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ \`{}fontTools.ttLib.tables.\_g\_l\_y\_f.Glyph\`{}\ objects,\ for\ example}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00644}00644\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ as\ made\ by\ \`{}fontTools.pens.ttGlyphPen.TTGlyphPen\`{}.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00645}00645\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00646}00646\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}calcGlyphBounds\`{}\ is\ True,\ the\ bounds\ of\ all\ glyphs\ will\ be}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00647}00647\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ calculated.\ Only\ pass\ False\ if\ your\ glyph\ objects\ already\ have}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00648}00648\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ their\ bounding\ box\ values\ set.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00649}00649\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00650}00650\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}validateGlyphFormat\`{}\ is\ True,\ raise\ ValueError\ if\ any\ of\ the\ glyphs\ contains}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00651}00651\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ cubic\ curves\ or\ is\ a\ variable\ composite\ but\ head.glyphDataFormat=0.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00652}00652\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Set\ it\ to\ False\ to\ skip\ the\ check\ if\ you\ know\ in\ advance\ all\ the\ glyphs\ are}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00653}00653\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ compatible\ with\ the\ specified\ glyphDataFormat.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00654}00654\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00655}00655\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00656}00656\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00657}00657\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ validateGlyphFormat\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}head"{}}].glyphDataFormat\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00658}00658\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ name,\ g\ \textcolor{keywordflow}{in}\ glyphs.items():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00659}00659\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ g.numberOfContours\ >\ 0\ \textcolor{keywordflow}{and}\ any(f\ \&\ flagCubic\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ g.flags):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00660}00660\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00661}00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Glyph\ \{name!r\}\ has\ cubic\ Bezier\ outlines,\ but\ glyphDataFormat=0;\ "{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00662}00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}either\ convert\ to\ quadratics\ with\ cu2qu\ or\ set\ glyphDataFormat=1."{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00663}00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00664}00664\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00665}00665\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}loca"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}loca"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00666}00666\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}glyf"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}glyf"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00667}00667\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}glyf"{}}].glyphs\ =\ glyphs}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00668}00668\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ \textcolor{stringliteral}{"{}glyphOrder"{}}):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00669}00669\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}glyf"{}}].glyphOrder\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.glyphOrder}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00670}00670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ calcGlyphBounds:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00671}00671\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a88ecc36fd06f2c6a7da6b4e1b6b75061}{calcGlyphBounds}}()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00672}00672\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00673}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a00d9772412fd34fd8b4dd02f0aecccc0}{00673}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a00d9772412fd34fd8b4dd02f0aecccc0}{setupFvar}}(self,\ axes,\ instances):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00674}00674\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adds\ an\ font\ variations\ table\ to\ the\ font.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00675}00675\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00676}00676\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00677}00677\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ axes\ (list):\ See\ below.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00678}00678\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ instances\ (list):\ See\ below.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00679}00679\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00680}00680\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}axes\`{}\`{}\ should\ be\ a\ list\ of\ axes,\ with\ each\ axis\ either\ supplied\ as}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00681}00681\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ a\ py:class:\`{}.designspaceLib.AxisDescriptor\`{}\ object,\ or\ a\ tuple\ in\ the}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00682}00682\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ format\ \`{}\`{}\`{}tupletag,\ minValue,\ defaultValue,\ maxValue,\ name\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00683}00683\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}\`{}name\`{}\`{}\ is\ either\ a\ string,\ or\ a\ dict,\ mapping\ language\ codes}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00684}00684\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ strings,\ to\ allow\ localized\ name\ table\ entries.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00685}00685\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00686}00686\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}\`{}instances\`{}\`{}\ should\ be\ a\ list\ of\ instances,\ with\ each\ instance\ either}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00687}00687\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ supplied\ as\ a\ py:class:\`{}.designspaceLib.InstanceDescriptor\`{}\ object,\ or\ a}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00688}00688\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ dict\ with\ keys\ \`{}\`{}location\`{}\`{}\ (mapping\ of\ axis\ tags\ to\ float\ values),}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00689}00689\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}stylename\`{}\`{}\ and\ (optionally)\ \`{}\`{}postscriptfontname\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00690}00690\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}\`{}stylename\`{}\`{}\ is\ either\ a\ string,\ or\ a\ dict,\ mapping\ language\ codes}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00691}00691\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ strings,\ to\ allow\ localized\ name\ table\ entries.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00692}00692\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00693}00693\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00694}00694\ \ \ \ \ \ \ \ \ addFvar(self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ axes,\ instances)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00695}00695\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00696}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a74bc79141241e505f7db6494035b5f53}{00696}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a74bc79141241e505f7db6494035b5f53}{setupAvar}}(self,\ axes,\ mappings=None):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00697}00697\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adds\ an\ axis\ variations\ table\ to\ the\ font.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00698}00698\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00699}00699\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Args:}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00700}00700\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ axes\ (list):\ A\ list\ of\ py:class:\`{}.designspaceLib.AxisDescriptor\`{}\ objects.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00701}00701\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00702}00702\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .varLib\ \textcolor{keyword}{import}\ \_add\_avar}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00703}00703\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00704}00704\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}fvar"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00705}00705\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classKeyError}{KeyError}}(\textcolor{stringliteral}{"{}'fvar'\ table\ is\ missing;\ can't\ add\ 'avar'."{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00706}00706\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00707}00707\ \ \ \ \ \ \ \ \ axisTags\ =\ [axis.axisTag\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}fvar"{}}].axes]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00708}00708\ \ \ \ \ \ \ \ \ axes\ =\ OrderedDict(enumerate(axes))\ \ \textcolor{comment}{\#\ Only\ values\ are\ used}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00709}00709\ \ \ \ \ \ \ \ \ \_add\_avar(self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ axes,\ mappings,\ axisTags)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00710}00710\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00711}00711\ \ \ \ \ \textcolor{keyword}{def\ }setupGvar(self,\ variations):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00712}00712\ \ \ \ \ \ \ \ \ gvar\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}gvar"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}gvar"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00713}00713\ \ \ \ \ \ \ \ \ gvar.version\ =\ 1}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00714}00714\ \ \ \ \ \ \ \ \ gvar.reserved\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00715}00715\ \ \ \ \ \ \ \ \ gvar.variations\ =\ variations}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00716}00716\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00717}00717\ \ \ \ \ \textcolor{keyword}{def\ }setupGVAR(self,\ variations):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00718}00718\ \ \ \ \ \ \ \ \ gvar\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}GVAR"{}}]\ =\ newTable(\textcolor{stringliteral}{"{}GVAR"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00719}00719\ \ \ \ \ \ \ \ \ gvar.version\ =\ 1}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00720}00720\ \ \ \ \ \ \ \ \ gvar.reserved\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00721}00721\ \ \ \ \ \ \ \ \ gvar.variations\ =\ variations}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00722}00722\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00723}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a88ecc36fd06f2c6a7da6b4e1b6b75061}{00723}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a88ecc36fd06f2c6a7da6b4e1b6b75061}{calcGlyphBounds}}(self):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00724}00724\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Calculate\ the\ bounding\ boxes\ of\ all\ glyphs\ in\ the\ \`{}glyf\`{}\ table.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00725}00725\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ is\ usually\ not\ called\ explicitly\ by\ client\ code.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00726}00726\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00727}00727\ \ \ \ \ \ \ \ \ glyphTable\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}glyf"{}}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00728}00728\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ glyph\ \textcolor{keywordflow}{in}\ glyphTable.glyphs.values():}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00729}00729\ \ \ \ \ \ \ \ \ \ \ \ \ glyph.recalcBounds(glyphTable)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00730}00730\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00731}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a06314726b2c2c89dcf57a12e9e27713a}{00731}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a06314726b2c2c89dcf57a12e9e27713a}{setupHorizontalMetrics}}(self,\ metrics):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00732}00732\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}hmtx\`{}\ table,\ for\ horizontal\ metrics.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00733}00733\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00734}00734\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}metrics\`{}\ argument\ must\ be\ a\ dict,\ mapping\ glyph\ names\ to}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00735}00735\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}(width,\ leftSidebearing)\`{}\ tuples.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00736}00736\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00737}00737\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a7934929fba14943b54f0bd3aa6cc3fbb}{setupMetrics}}(\textcolor{stringliteral}{"{}hmtx"{}},\ metrics)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00738}00738\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00739}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ae31cda2bf6cb176a331aacf86aa5be50}{00739}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ae31cda2bf6cb176a331aacf86aa5be50}{setupVerticalMetrics}}(self,\ metrics):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00740}00740\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}vmtx\`{}\ table,\ for\ horizontal\ metrics.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00741}00741\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00742}00742\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}metrics\`{}\ argument\ must\ be\ a\ dict,\ mapping\ glyph\ names\ to}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00743}00743\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}(height,\ topSidebearing)\`{}\ tuples.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00744}00744\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00745}00745\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a7934929fba14943b54f0bd3aa6cc3fbb}{setupMetrics}}(\textcolor{stringliteral}{"{}vmtx"{}},\ metrics)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00746}00746\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00747}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a7934929fba14943b54f0bd3aa6cc3fbb}{00747}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a7934929fba14943b54f0bd3aa6cc3fbb}{setupMetrics}}(self,\ tableTag,\ metrics):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00748}00748\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}See\ \`{}setupHorizontalMetrics()\`{}\ and\ \`{}setupVerticalMetrics()\`{}."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00749}00749\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ tableTag\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}hmtx"{}},\ \textcolor{stringliteral}{"{}vmtx"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00750}00750\ \ \ \ \ \ \ \ \ mtxTable\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[tableTag]\ =\ newTable(tableTag)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00751}00751\ \ \ \ \ \ \ \ \ roundedMetrics\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00752}00752\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ gn\ \textcolor{keywordflow}{in}\ metrics:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00753}00753\ \ \ \ \ \ \ \ \ \ \ \ \ w,\ lsb\ =\ metrics[gn]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00754}00754\ \ \ \ \ \ \ \ \ \ \ \ \ roundedMetrics[gn]\ =\ int(round(w)),\ int(round(lsb))}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00755}00755\ \ \ \ \ \ \ \ \ mtxTable.metrics\ =\ roundedMetrics}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00756}00756\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00757}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a9b1d38e4c0615e4368e0e99b962a9073}{00757}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a9b1d38e4c0615e4368e0e99b962a9073}{setupHorizontalHeader}}(self,\ **values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00758}00758\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}hhea\`{}\ table\ initialize\ it\ with\ default\ values,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00759}00759\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ which\ can\ be\ overridden\ by\ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00760}00760\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00761}00761\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}hhea"{}},\ \_hheaDefaults,\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00762}00762\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00763}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a97b2d612520c402239c215bad5364498}{00763}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a97b2d612520c402239c215bad5364498}{setupVerticalHeader}}(self,\ **values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00764}00764\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}vhea\`{}\ table\ initialize\ it\ with\ default\ values,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00765}00765\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ which\ can\ be\ overridden\ by\ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00766}00766\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00767}00767\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}vhea"{}},\ \_vheaDefaults,\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00768}00768\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00769}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_acadfdaec9f76e11b3b8d2ef351cd27b0}{00769}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_acadfdaec9f76e11b3b8d2ef351cd27b0}{setupVerticalOrigins}}(self,\ verticalOrigins,\ defaultVerticalOrigin=None):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00770}00770\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}VORG\`{}\ table.\ The\ \`{}verticalOrigins\`{}\ argument\ must\ be}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00771}00771\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ a\ dict,\ mapping\ glyph\ names\ to\ vertical\ origin\ values.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00772}00772\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00773}00773\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}defaultVerticalOrigin\`{}\ argument\ should\ be\ the\ most\ common\ vertical}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00774}00774\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ origin\ value.\ If\ omitted,\ this\ value\ will\ be\ derived\ from\ the\ actual}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00775}00775\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ values\ in\ the\ \`{}verticalOrigins\`{}\ argument.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00776}00776\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00777}00777\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ defaultVerticalOrigin\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00778}00778\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ find\ the\ most\ frequent\ vorg\ value}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00779}00779\ \ \ \ \ \ \ \ \ \ \ \ \ bag\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00780}00780\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ gn\ \textcolor{keywordflow}{in}\ verticalOrigins:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00781}00781\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vorg\ =\ verticalOrigins[gn]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00782}00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ vorg\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ bag:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00783}00783\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bag[vorg]\ =\ 1}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00784}00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00785}00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bag[vorg]\ +=\ 1}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00786}00786\ \ \ \ \ \ \ \ \ \ \ \ \ defaultVerticalOrigin\ =\ sorted(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00787}00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bag,\ key=\textcolor{keyword}{lambda}\ vorg:\ bag[vorg],\ reverse=\textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00788}00788\ \ \ \ \ \ \ \ \ \ \ \ \ )[0]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00789}00789\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00790}00790\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}VORG"{}},}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00791}00791\ \ \ \ \ \ \ \ \ \ \ \ \ \{\},}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00792}00792\ \ \ \ \ \ \ \ \ \ \ \ \ dict(VOriginRecords=\{\},\ defaultVertOriginY=defaultVerticalOrigin),}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00793}00793\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00794}00794\ \ \ \ \ \ \ \ \ vorgTable\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}VORG"{}}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00795}00795\ \ \ \ \ \ \ \ \ vorgTable.majorVersion\ =\ 1}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00796}00796\ \ \ \ \ \ \ \ \ vorgTable.minorVersion\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00797}00797\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ gn\ \textcolor{keywordflow}{in}\ verticalOrigins:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00798}00798\ \ \ \ \ \ \ \ \ \ \ \ \ vorgTable[gn]\ =\ verticalOrigins[gn]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00799}00799\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00800}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a98a73602e88987fcef3308bdbae1136a}{00800}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a98a73602e88987fcef3308bdbae1136a}{setupPost}}(self,\ keepGlyphNames=True,\ **values):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00801}00801\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}post\`{}\ table\ and\ initialize\ it\ with\ default\ values,}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00802}00802\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ which\ can\ be\ overridden\ by\ keyword\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00803}00803\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00804}00804\ \ \ \ \ \ \ \ \ isCFF2\ =\ \textcolor{stringliteral}{"{}CFF2"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00805}00805\ \ \ \ \ \ \ \ \ postTable\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}post"{}},\ \_postDefaults,\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00806}00806\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}\ \textcolor{keywordflow}{or}\ isCFF2)\ \textcolor{keywordflow}{and}\ keepGlyphNames:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00807}00807\ \ \ \ \ \ \ \ \ \ \ \ \ postTable.formatType\ =\ 2.0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00808}00808\ \ \ \ \ \ \ \ \ \ \ \ \ postTable.extraNames\ =\ []}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00809}00809\ \ \ \ \ \ \ \ \ \ \ \ \ postTable.mapping\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00810}00810\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00811}00811\ \ \ \ \ \ \ \ \ \ \ \ \ postTable.formatType\ =\ 3.0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00812}00812\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00813}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ace8c101d0ad43b501bad393c908a755a}{00813}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_ace8c101d0ad43b501bad393c908a755a}{setupMaxp}}(self):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00814}00814\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ new\ \`{}maxp\`{}\ table.\ This\ is\ called\ implicitly\ by\ FontBuilder}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00815}00815\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ itself\ and\ is\ usually\ not\ called\ by\ client\ code.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00816}00816\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00817}00817\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a0feecee78c338a75b722439e6b011d14}{isTTF}}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00818}00818\ \ \ \ \ \ \ \ \ \ \ \ \ defaults\ =\ \_maxpDefaultsTTF}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00819}00819\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00820}00820\ \ \ \ \ \ \ \ \ \ \ \ \ defaults\ =\ \_maxpDefaultsOTF}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00821}00821\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}maxp"{}},\ defaults,\ \{\})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00822}00822\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00823}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_acd7a1ddc582d43fbf6cfa88bb774e6fb}{00823}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_acd7a1ddc582d43fbf6cfa88bb774e6fb}{setupDummyDSIG}}(self):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00824}00824\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}This\ adds\ an\ empty\ DSIG\ table\ to\ the\ font\ to\ make\ some\ MS\ applications}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00825}00825\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ happy.\ This\ does\ not\ properly\ sign\ the\ font.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00826}00826\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00827}00827\ \ \ \ \ \ \ \ \ values\ =\ dict(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00828}00828\ \ \ \ \ \ \ \ \ \ \ \ \ ulVersion=1,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00829}00829\ \ \ \ \ \ \ \ \ \ \ \ \ usFlag=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00830}00830\ \ \ \ \ \ \ \ \ \ \ \ \ usNumSigs=0,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00831}00831\ \ \ \ \ \ \ \ \ \ \ \ \ signatureRecords=[],}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00832}00832\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00833}00833\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a147c9e4c30d630aa423fde95f60c880f}{\_initTableWithValues}}(\textcolor{stringliteral}{"{}DSIG"{}},\ \{\},\ values)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00834}00834\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00835}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a34022aebc4cc8b86a3e20ecb4fb954e6}{00835}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a34022aebc4cc8b86a3e20ecb4fb954e6}{addOpenTypeFeatures}}(self,\ features,\ filename=None,\ tables=None,\ debug=False):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00836}00836\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Add\ OpenType\ features\ to\ the\ font\ from\ a\ string\ containing}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00837}00837\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Feature\ File\ syntax.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00838}00838\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00839}00839\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}filename\`{}\ argument\ is\ used\ in\ error\ messages\ and\ to\ determine}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00840}00840\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ where\ to\ look\ for\ "{}include"{}\ files.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00841}00841\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00842}00842\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ optional\ \`{}tables\`{}\ argument\ can\ be\ a\ list\ of\ OTL\ tables\ tags\ to}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00843}00843\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ build,\ allowing\ the\ caller\ to\ only\ build\ selected\ OTL\ tables.\ See}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00844}00844\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}fontTools.feaLib\`{}\ for\ details.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00845}00845\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00846}00846\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ optional\ \`{}debug\`{}\ argument\ controls\ whether\ to\ add\ source\ debugging}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00847}00847\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ information\ to\ the\ font\ in\ the\ \`{}Debg\`{}\ table.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00848}00848\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00849}00849\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .feaLib.builder\ \textcolor{keyword}{import}\ addOpenTypeFeaturesFromString}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00850}00850\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00851}00851\ \ \ \ \ \ \ \ \ addOpenTypeFeaturesFromString(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00852}00852\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ features,\ filename=filename,\ tables=tables,\ debug=debug}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00853}00853\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00854}00854\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00855}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a39c6055a238b0368c2ff8e5dd25cd371}{00855}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a39c6055a238b0368c2ff8e5dd25cd371}{addFeatureVariations}}(self,\ conditionalSubstitutions,\ featureTag="{}rvrn"{}):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00856}00856\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Add\ conditional\ substitutions\ to\ a\ Variable\ Font.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00857}00857\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00858}00858\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ See\ \`{}fontTools.varLib.featureVars.addFeatureVariations\`{}.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00859}00859\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00860}00860\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .varLib\ \textcolor{keyword}{import}\ featureVars}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00861}00861\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00862}00862\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}fvar"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00863}00863\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classKeyError}{KeyError}}(\textcolor{stringliteral}{"{}'fvar'\ table\ is\ missing;\ can't\ add\ FeatureVariations."{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00864}00864\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00865}00865\ \ \ \ \ \ \ \ \ featureVars.addFeatureVariations(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00866}00866\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ conditionalSubstitutions,\ featureTag=featureTag}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00867}00867\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00868}00868\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00869}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a6ddec70f9ec6f7c59ac944c7f87c83c6}{00869}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a6ddec70f9ec6f7c59ac944c7f87c83c6}{setupCOLR}}(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00870}00870\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00871}00871\ \ \ \ \ \ \ \ \ colorLayers,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00872}00872\ \ \ \ \ \ \ \ \ version=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00873}00873\ \ \ \ \ \ \ \ \ varStore=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00874}00874\ \ \ \ \ \ \ \ \ varIndexMap=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00875}00875\ \ \ \ \ \ \ \ \ clipBoxes=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00876}00876\ \ \ \ \ \ \ \ \ allowLayerReuse=True,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00877}00877\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00878}00878\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ new\ COLR\ table\ using\ color\ layers\ dictionary.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00879}00879\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00880}00880\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cf.\ \`{}fontTools.colorLib.builder.buildCOLR\`{}.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00881}00881\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00882}00882\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1colorLib_1_1builder}{fontTools.colorLib.builder}}\ \textcolor{keyword}{import}\ buildCOLR}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00883}00883\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00884}00884\ \ \ \ \ \ \ \ \ glyphMap\ =\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.getReverseGlyphMap()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00885}00885\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}COLR"{}}]\ =\ buildCOLR(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00886}00886\ \ \ \ \ \ \ \ \ \ \ \ \ colorLayers,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00887}00887\ \ \ \ \ \ \ \ \ \ \ \ \ version=version,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00888}00888\ \ \ \ \ \ \ \ \ \ \ \ \ glyphMap=glyphMap,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00889}00889\ \ \ \ \ \ \ \ \ \ \ \ \ varStore=varStore,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00890}00890\ \ \ \ \ \ \ \ \ \ \ \ \ varIndexMap=varIndexMap,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00891}00891\ \ \ \ \ \ \ \ \ \ \ \ \ clipBoxes=clipBoxes,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00892}00892\ \ \ \ \ \ \ \ \ \ \ \ \ allowLayerReuse=allowLayerReuse,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00893}00893\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00894}00894\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00895}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a35c6ae352a7fd72910f7d99b91badef6}{00895}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_a35c6ae352a7fd72910f7d99b91badef6}{setupCPAL}}(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00896}00896\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00897}00897\ \ \ \ \ \ \ \ \ palettes,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00898}00898\ \ \ \ \ \ \ \ \ paletteTypes=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00899}00899\ \ \ \ \ \ \ \ \ paletteLabels=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00900}00900\ \ \ \ \ \ \ \ \ paletteEntryLabels=None,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00901}00901\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00902}00902\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ new\ CPAL\ table\ using\ list\ of\ palettes.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00903}00903\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00904}00904\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Optionally\ build\ CPAL\ v1\ table\ using\ paletteTypes,\ paletteLabels\ and}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00905}00905\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ paletteEntryLabels.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00906}00906\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00907}00907\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Cf.\ \`{}fontTools.colorLib.builder.buildCPAL\`{}.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00908}00908\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00909}00909\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1colorLib_1_1builder}{fontTools.colorLib.builder}}\ \textcolor{keyword}{import}\ buildCPAL}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00910}00910\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00911}00911\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}CPAL"{}}]\ =\ buildCPAL(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00912}00912\ \ \ \ \ \ \ \ \ \ \ \ \ palettes,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00913}00913\ \ \ \ \ \ \ \ \ \ \ \ \ paletteTypes=paletteTypes,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00914}00914\ \ \ \ \ \ \ \ \ \ \ \ \ paletteLabels=paletteLabels,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00915}00915\ \ \ \ \ \ \ \ \ \ \ \ \ paletteEntryLabels=paletteEntryLabels,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00916}00916\ \ \ \ \ \ \ \ \ \ \ \ \ nameTable=self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}.get(\textcolor{stringliteral}{"{}name"{}}),}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00917}00917\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00918}00918\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00919}\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_abc4dfb70bde05037482b9c1e32843329}{00919}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_abc4dfb70bde05037482b9c1e32843329}{setupStat}}(self,\ axes,\ locations=None,\ elidedFallbackName=2):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00920}00920\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ a\ new\ 'STAT'\ table.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00921}00921\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00922}00922\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ See\ \`{}fontTools.otlLib.builder.buildStatTable\`{}\ for\ details\ about}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00923}00923\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ arguments.}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00924}00924\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00925}00925\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ .otlLib.builder\ \textcolor{keyword}{import}\ buildStatTable}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00926}00926\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00927}00927\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{stringliteral}{"{}name"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},\ \textcolor{stringliteral}{"{}name\ must\ to\ be\ set\ up\ first"{}}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00928}00928\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00929}00929\ \ \ \ \ \ \ \ \ buildStatTable(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00930}00930\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}},}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00931}00931\ \ \ \ \ \ \ \ \ \ \ \ \ axes,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00932}00932\ \ \ \ \ \ \ \ \ \ \ \ \ locations,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00933}00933\ \ \ \ \ \ \ \ \ \ \ \ \ elidedFallbackName,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00934}00934\ \ \ \ \ \ \ \ \ \ \ \ \ macNames=any(nr.platformID\ ==\ 1\ \textcolor{keywordflow}{for}\ nr\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1fontBuilder_1_1FontBuilder_adad7164d4f2170b910e60badf1e2fa09}{font}}[\textcolor{stringliteral}{"{}name"{}}].names),}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00935}00935\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00936}00936\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00937}00937\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00938}00938\ \textcolor{keyword}{def\ }buildCmapSubTable(cmapping,\ format,\ platformID,\ platEncID):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00939}00939\ \ \ \ \ subTable\ =\ cmap\_classes[format](format)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00940}00940\ \ \ \ \ subTable.cmap\ =\ cmapping}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00941}00941\ \ \ \ \ subTable.platformID\ =\ platformID}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00942}00942\ \ \ \ \ subTable.platEncID\ =\ platEncID}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00943}00943\ \ \ \ \ subTable.language\ =\ 0}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00944}00944\ \ \ \ \ \textcolor{keywordflow}{return}\ subTable}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00945}00945\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00946}00946\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00947}00947\ \textcolor{keyword}{def\ }addFvar(font,\ axes,\ instances):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00948}00948\ \ \ \ \ \textcolor{keyword}{from}\ .ttLib.tables.\_f\_v\_a\_r\ \textcolor{keyword}{import}\ Axis,\ NamedInstance}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00949}00949\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00950}00950\ \ \ \ \ \textcolor{keyword}{assert}\ axes}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00951}00951\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00952}00952\ \ \ \ \ fvar\ =\ newTable(\textcolor{stringliteral}{"{}fvar"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00953}00953\ \ \ \ \ nameTable\ =\ font[\textcolor{stringliteral}{"{}name"{}}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00954}00954\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00955}00955\ \ \ \ \ \textcolor{comment}{\#\ if\ there\ are\ not\ currently\ any\ mac\ names\ don't\ add\ them\ here,\ that's\ inconsistent}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00956}00956\ \ \ \ \ \textcolor{comment}{\#\ https://github.com/fonttools/fonttools/issues/683}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00957}00957\ \ \ \ \ macNames\ =\ any(nr.platformID\ ==\ 1\ \textcolor{keywordflow}{for}\ nr\ \textcolor{keywordflow}{in}\ getattr(nameTable,\ \textcolor{stringliteral}{"{}names"{}},\ ()))}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00958}00958\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00959}00959\ \ \ \ \ \textcolor{comment}{\#\ we\ have\ all\ the\ best\ ways\ to\ express\ mac\ names}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00960}00960\ \ \ \ \ platforms\ =\ ((3,\ 1,\ 0x409),)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00961}00961\ \ \ \ \ \textcolor{keywordflow}{if}\ macNames:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00962}00962\ \ \ \ \ \ \ \ \ platforms\ =\ ((1,\ 0,\ 0),)\ +\ platforms}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00963}00963\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00964}00964\ \ \ \ \ \textcolor{keywordflow}{for}\ axis\_def\ \textcolor{keywordflow}{in}\ axes:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00965}00965\ \ \ \ \ \ \ \ \ axis\ =\ Axis()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00966}00966\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00967}00967\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(axis\_def,\ tuple):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00968}00968\ \ \ \ \ \ \ \ \ \ \ \ \ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00969}00969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis.axisTag,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00970}00970\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis.minValue,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00971}00971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis.defaultValue,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00972}00972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis.maxValue,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00973}00973\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ name,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00974}00974\ \ \ \ \ \ \ \ \ \ \ \ \ )\ =\ axis\_def}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00975}00975\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00976}00976\ \ \ \ \ \ \ \ \ \ \ \ \ (axis.axisTag,\ axis.minValue,\ axis.defaultValue,\ axis.maxValue,\ name)\ =\ (}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00977}00977\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis\_def.tag,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00978}00978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis\_def.minimum,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00979}00979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis\_def.default,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00980}00980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis\_def.maximum,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00981}00981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis\_def.name,}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00982}00982\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00983}00983\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ axis\_def.hidden:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00984}00984\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis.flags\ =\ 0x0001\ \ \textcolor{comment}{\#\ HIDDEN\_AXIS}}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00985}00985\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00986}00986\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(name,\ str):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00987}00987\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ dict(en=name)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00988}00988\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00989}00989\ \ \ \ \ \ \ \ \ axis.axisNameID\ =\ nameTable.addMultilingualName(name,\ ttFont=font,\ mac=macNames)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00990}00990\ \ \ \ \ \ \ \ \ fvar.axes.append(axis)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00991}00991\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00992}00992\ \ \ \ \ \textcolor{keywordflow}{for}\ instance\ \textcolor{keywordflow}{in}\ instances:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00993}00993\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(instance,\ dict):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00994}00994\ \ \ \ \ \ \ \ \ \ \ \ \ coordinates\ =\ instance[\textcolor{stringliteral}{"{}location"{}}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00995}00995\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ instance[\textcolor{stringliteral}{"{}stylename"{}}]}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00996}00996\ \ \ \ \ \ \ \ \ \ \ \ \ psname\ =\ instance.get(\textcolor{stringliteral}{"{}postscriptfontname"{}})}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00997}00997\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00998}00998\ \ \ \ \ \ \ \ \ \ \ \ \ coordinates\ =\ instance.location}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l00999}00999\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ instance.localisedStyleName\ \textcolor{keywordflow}{or}\ instance.styleName}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01000}01000\ \ \ \ \ \ \ \ \ \ \ \ \ psname\ =\ instance.postScriptFontName}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01001}01001\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01002}01002\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(name,\ str):}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01003}01003\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ dict(en=name)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01004}01004\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01005}01005\ \ \ \ \ \ \ \ \ inst\ =\ NamedInstance()}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01006}01006\ \ \ \ \ \ \ \ \ inst.subfamilyNameID\ =\ nameTable.addMultilingualName(}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01007}01007\ \ \ \ \ \ \ \ \ \ \ \ \ name,\ ttFont=font,\ mac=macNames}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01008}01008\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01009}01009\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ psname\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01010}01010\ \ \ \ \ \ \ \ \ \ \ \ \ inst.postscriptNameID\ =\ nameTable.addName(psname,\ platforms=platforms)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01011}01011\ \ \ \ \ \ \ \ \ inst.coordinates\ =\ coordinates}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01012}01012\ \ \ \ \ \ \ \ \ fvar.instances.append(inst)}
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01013}01013\ }
\DoxyCodeLine{\Hypertarget{fontBuilder_8py_source_l01014}01014\ \ \ \ \ font[\textcolor{stringliteral}{"{}fvar"{}}]\ =\ fvar}

\end{DoxyCode}
