\doxysection{font\+Tools.\+misc.\+filenames Namespace Reference}
\hypertarget{namespacefontTools_1_1misc_1_1filenames}{}\label{namespacefontTools_1_1misc_1_1filenames}\index{fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classfontTools_1_1misc_1_1filenames_1_1NameTranslationError}{Name\+Translation\+Error}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacefontTools_1_1misc_1_1filenames_a51cbccc9e4f956e92610bb4e0bcd76dc}{user\+Name\+To\+File\+Name}} (user\+Name, existing=\mbox{[}$\,$\mbox{]}, prefix="{}"{}, suffix="{}"{})
\item 
\mbox{\hyperlink{namespacefontTools_1_1misc_1_1filenames_ad6b3dfe02e1a70411e545fbf8b6427d3}{handle\+Clash1}} (user\+Name, existing=\mbox{[}$\,$\mbox{]}, prefix="{}"{}, suffix="{}"{})
\item 
\mbox{\hyperlink{namespacefontTools_1_1misc_1_1filenames_a41bbc471466dacfef297336b8455de30}{handle\+Clash2}} (existing=\mbox{[}$\,$\mbox{]}, prefix="{}"{}, suffix="{}"{})
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacefontTools_1_1misc_1_1filenames_aba16142b59fdbecd160d0b154b1d76c0}{illegal\+Characters}} = r"{}\textbackslash{}"{} \texorpdfstring{$\ast$}{*} + / \+: $<$ $>$ ? \mbox{[} \textbackslash{} \mbox{]} \texorpdfstring{$\vert$}{|} \textbackslash{}0"{}.split("{} "{})
\item 
str \mbox{\hyperlink{namespacefontTools_1_1misc_1_1filenames_af26d6507721623d4302f5ad65c77bc28}{reserved\+File\+Names}} = "{}CON PRN AUX CLOCK\$ NUL A\+:-\/Z\+: COM1"{}.\+lower().split("{} "{})
\item 
int \mbox{\hyperlink{namespacefontTools_1_1misc_1_1filenames_a9933dfe571ea2653a84951f7471fdfc1}{max\+File\+Name\+Length}} = 255
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}This module implements the algorithm for converting between a "user name" -
something that a user can choose arbitrarily inside a font editor - and a file
name suitable for use in a wide range of operating systems and filesystems.

The `UFO 3 specification <http://unifiedfontobject.org/versions/ufo3/conventions/>`_
provides an example of an algorithm for such conversion, which avoids illegal
characters, reserved file names, ambiguity between upper- and lower-case
characters, and clashes with existing files.

This code was originally copied from
`ufoLib <https://github.com/unified-font-object/ufoLib/blob/8747da7/Lib/ufoLib/filenames.py>`_
by Tal Leming and is copyright (c) 2005-2016, The RoboFab Developers:

-   Erik van Blokland
-   Tal Leming
-   Just van Rossum
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacefontTools_1_1misc_1_1filenames_ad6b3dfe02e1a70411e545fbf8b6427d3}\index{fontTools.misc.filenames@{fontTools.misc.filenames}!handleClash1@{handleClash1}}
\index{handleClash1@{handleClash1}!fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection{\texorpdfstring{handleClash1()}{handleClash1()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1misc_1_1filenames_ad6b3dfe02e1a70411e545fbf8b6427d3} 
font\+Tools.\+misc.\+filenames.\+handle\+Clash1 (\begin{DoxyParamCaption}\item[{}]{user\+Name}{, }\item[{}]{existing}{ = {\ttfamily \mbox{[}\mbox{]}}, }\item[{}]{prefix}{ = {\ttfamily "{}"{}}, }\item[{}]{suffix}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}existing should be a case-insensitive list
of all existing file names.

>>> prefix = ("0" * 5) + "."
>>> suffix = "." + ("0" * 10)
>>> existing = ["a" * 5]

>>> e = list(existing)
>>> handleClash1(userName="A" * 5, existing=e,
...     prefix=prefix, suffix=suffix) == (
...     '00000.AAAAA000000000000001.0000000000')
True

>>> e = list(existing)
>>> e.append(prefix + "aaaaa" + "1".zfill(15) + suffix)
>>> handleClash1(userName="A" * 5, existing=e,
...     prefix=prefix, suffix=suffix) == (
...     '00000.AAAAA000000000000002.0000000000')
True

>>> e = list(existing)
>>> e.append(prefix + "AAAAA" + "2".zfill(15) + suffix)
>>> handleClash1(userName="A" * 5, existing=e,
...     prefix=prefix, suffix=suffix) == (
...     '00000.AAAAA000000000000001.0000000000')
True
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{misc_2filenames_8py_source_l00136}{136}} of file \mbox{\hyperlink{misc_2filenames_8py_source}{filenames.\+py}}.



References \mbox{\hyperlink{misc_2filenames_8py_source_l00193}{handle\+Clash2()}}.

\Hypertarget{namespacefontTools_1_1misc_1_1filenames_a41bbc471466dacfef297336b8455de30}\index{fontTools.misc.filenames@{fontTools.misc.filenames}!handleClash2@{handleClash2}}
\index{handleClash2@{handleClash2}!fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection{\texorpdfstring{handleClash2()}{handleClash2()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1misc_1_1filenames_a41bbc471466dacfef297336b8455de30} 
font\+Tools.\+misc.\+filenames.\+handle\+Clash2 (\begin{DoxyParamCaption}\item[{}]{existing}{ = {\ttfamily \mbox{[}\mbox{]}}, }\item[{}]{prefix}{ = {\ttfamily "{}"{}}, }\item[{}]{suffix}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}existing should be a case-insensitive list
of all existing file names.

>>> prefix = ("0" * 5) + "."
>>> suffix = "." + ("0" * 10)
>>> existing = [prefix + str(i) + suffix for i in range(100)]

>>> e = list(existing)
>>> handleClash2(existing=e, prefix=prefix, suffix=suffix) == (
...     '00000.100.0000000000')
True

>>> e = list(existing)
>>> e.remove(prefix + "1" + suffix)
>>> handleClash2(existing=e, prefix=prefix, suffix=suffix) == (
...     '00000.1.0000000000')
True

>>> e = list(existing)
>>> e.remove(prefix + "2" + suffix)
>>> handleClash2(existing=e, prefix=prefix, suffix=suffix) == (
...     '00000.2.0000000000')
True
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{misc_2filenames_8py_source_l00193}{193}} of file \mbox{\hyperlink{misc_2filenames_8py_source}{filenames.\+py}}.



Referenced by \mbox{\hyperlink{misc_2filenames_8py_source_l00136}{handle\+Clash1()}}.

\Hypertarget{namespacefontTools_1_1misc_1_1filenames_a51cbccc9e4f956e92610bb4e0bcd76dc}\index{fontTools.misc.filenames@{fontTools.misc.filenames}!userNameToFileName@{userNameToFileName}}
\index{userNameToFileName@{userNameToFileName}!fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection{\texorpdfstring{userNameToFileName()}{userNameToFileName()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1misc_1_1filenames_a51cbccc9e4f956e92610bb4e0bcd76dc} 
font\+Tools.\+misc.\+filenames.\+user\+Name\+To\+File\+Name (\begin{DoxyParamCaption}\item[{}]{user\+Name}{, }\item[{}]{existing}{ = {\ttfamily \mbox{[}\mbox{]}}, }\item[{}]{prefix}{ = {\ttfamily "{}"{}}, }\item[{}]{suffix}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Converts from a user name to a file name.

Takes care to avoid illegal characters, reserved file names, ambiguity between
upper- and lower-case characters, and clashes with existing files.

Args:
        userName (str): The input file name.
        existing: A case-insensitive list of all existing file names.
        prefix: Prefix to be prepended to the file name.
        suffix: Suffix to be appended to the file name.

Returns:
        A suitable filename.

Raises:
        NameTranslationError: If no suitable name could be generated.

Examples::

        >>> userNameToFileName("a") == "a"
        True
        >>> userNameToFileName("A") == "A_"
        True
        >>> userNameToFileName("AE") == "A_E_"
        True
        >>> userNameToFileName("Ae") == "A_e"
        True
        >>> userNameToFileName("ae") == "ae"
        True
        >>> userNameToFileName("aE") == "aE_"
        True
        >>> userNameToFileName("a.alt") == "a.alt"
        True
        >>> userNameToFileName("A.alt") == "A_.alt"
        True
        >>> userNameToFileName("A.Alt") == "A_.A_lt"
        True
        >>> userNameToFileName("A.aLt") == "A_.aL_t"
        True
        >>> userNameToFileName(u"A.alT") == "A_.alT_"
        True
        >>> userNameToFileName("T_H") == "T__H_"
        True
        >>> userNameToFileName("T_h") == "T__h"
        True
        >>> userNameToFileName("t_h") == "t_h"
        True
        >>> userNameToFileName("F_F_I") == "F__F__I_"
        True
        >>> userNameToFileName("f_f_i") == "f_f_i"
        True
        >>> userNameToFileName("Aacute_V.swash") == "A_acute_V_.swash"
        True
        >>> userNameToFileName(".notdef") == "_notdef"
        True
        >>> userNameToFileName("con") == "_con"
        True
        >>> userNameToFileName("CON") == "C_O_N_"
        True
        >>> userNameToFileName("con.alt") == "_con.alt"
        True
        >>> userNameToFileName("alt.con") == "alt._con"
        True
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{misc_2filenames_8py_source_l00032}{32}} of file \mbox{\hyperlink{misc_2filenames_8py_source}{filenames.\+py}}.



\doxysubsection{Variable Documentation}
\Hypertarget{namespacefontTools_1_1misc_1_1filenames_aba16142b59fdbecd160d0b154b1d76c0}\index{fontTools.misc.filenames@{fontTools.misc.filenames}!illegalCharacters@{illegalCharacters}}
\index{illegalCharacters@{illegalCharacters}!fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection{\texorpdfstring{illegalCharacters}{illegalCharacters}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1misc_1_1filenames_aba16142b59fdbecd160d0b154b1d76c0} 
str font\+Tools.\+misc.\+filenames.\+illegal\+Characters = r"{}\textbackslash{}"{} \texorpdfstring{$\ast$}{*} + / \+: $<$ $>$ ? \mbox{[} \textbackslash{} \mbox{]} \texorpdfstring{$\vert$}{|} \textbackslash{}0"{}.split("{} "{})}



Definition at line \mbox{\hyperlink{misc_2filenames_8py_source_l00020}{20}} of file \mbox{\hyperlink{misc_2filenames_8py_source}{filenames.\+py}}.

\Hypertarget{namespacefontTools_1_1misc_1_1filenames_a9933dfe571ea2653a84951f7471fdfc1}\index{fontTools.misc.filenames@{fontTools.misc.filenames}!maxFileNameLength@{maxFileNameLength}}
\index{maxFileNameLength@{maxFileNameLength}!fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection{\texorpdfstring{maxFileNameLength}{maxFileNameLength}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1misc_1_1filenames_a9933dfe571ea2653a84951f7471fdfc1} 
int font\+Tools.\+misc.\+filenames.\+max\+File\+Name\+Length = 255}



Definition at line \mbox{\hyperlink{misc_2filenames_8py_source_l00025}{25}} of file \mbox{\hyperlink{misc_2filenames_8py_source}{filenames.\+py}}.

\Hypertarget{namespacefontTools_1_1misc_1_1filenames_af26d6507721623d4302f5ad65c77bc28}\index{fontTools.misc.filenames@{fontTools.misc.filenames}!reservedFileNames@{reservedFileNames}}
\index{reservedFileNames@{reservedFileNames}!fontTools.misc.filenames@{fontTools.misc.filenames}}
\doxysubsubsection{\texorpdfstring{reservedFileNames}{reservedFileNames}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1misc_1_1filenames_af26d6507721623d4302f5ad65c77bc28} 
str font\+Tools.\+misc.\+filenames.\+reserved\+File\+Names = "{}CON PRN AUX CLOCK\$ NUL A\+:-\/Z\+: COM1"{}.\+lower().split("{} "{})}



Definition at line \mbox{\hyperlink{misc_2filenames_8py_source_l00023}{23}} of file \mbox{\hyperlink{misc_2filenames_8py_source}{filenames.\+py}}.

