\doxysection{algorithms.\+py}
\hypertarget{algorithms_8py_source}{}\label{algorithms_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pandas/core/algorithms.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/pandas/core/algorithms.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00001}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00002}00002\ \textcolor{stringliteral}{Generic\ data\ algorithms.\ This\ module\ is\ experimental\ at\ the\ moment\ and\ not}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00003}00003\ \textcolor{stringliteral}{intended\ for\ public\ consumption}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00004}00004\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00005}00005\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ annotations}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00007}00007\ \textcolor{keyword}{import}\ decimal}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00008}00008\ \textcolor{keyword}{import}\ operator}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00009}00009\ \textcolor{keyword}{from}\ textwrap\ \textcolor{keyword}{import}\ dedent}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00010}00010\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00011}00011\ \ \ \ \ TYPE\_CHECKING,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00012}00012\ \ \ \ \ Literal,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00013}00013\ \ \ \ \ cast,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00014}00014\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00015}00015\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00017}00017\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00019}00019\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1__libs}{pandas.\_libs}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00020}00020\ \ \ \ \ algos,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00021}00021\ \ \ \ \ hashtable\ \textcolor{keyword}{as}\ htable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00022}00022\ \ \ \ \ iNaT,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00023}00023\ \ \ \ \ lib,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00024}00024\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00025}00025\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1__typing}{pandas.\_typing}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00026}00026\ \ \ \ \ AnyArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00027}00027\ \ \ \ \ ArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00028}00028\ \ \ \ \ AxisInt,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00029}00029\ \ \ \ \ DtypeObj,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00030}00030\ \ \ \ \ TakeIndexer,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00031}00031\ \ \ \ \ npt,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00032}00032\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00033}00033\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1util_1_1__decorators}{pandas.util.\_decorators}}\ \textcolor{keyword}{import}\ doc}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00034}00034\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1util_1_1__exceptions}{pandas.util.\_exceptions}}\ \textcolor{keyword}{import}\ find\_stack\_level}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00036}00036\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1dtypes_1_1cast}{pandas.core.dtypes.cast}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00037}00037\ \ \ \ \ construct\_1d\_object\_array\_from\_listlike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00038}00038\ \ \ \ \ np\_find\_common\_type,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00039}00039\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00040}00040\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1dtypes_1_1common}{pandas.core.dtypes.common}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00041}00041\ \ \ \ \ ensure\_float64,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00042}00042\ \ \ \ \ ensure\_object,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00043}00043\ \ \ \ \ ensure\_platform\_int,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00044}00044\ \ \ \ \ is\_array\_like,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00045}00045\ \ \ \ \ is\_bool\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00046}00046\ \ \ \ \ is\_complex\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00047}00047\ \ \ \ \ is\_dict\_like,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00048}00048\ \ \ \ \ is\_extension\_array\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00049}00049\ \ \ \ \ is\_float\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00050}00050\ \ \ \ \ is\_integer,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00051}00051\ \ \ \ \ is\_integer\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00052}00052\ \ \ \ \ is\_list\_like,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00053}00053\ \ \ \ \ is\_object\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00054}00054\ \ \ \ \ is\_signed\_integer\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00055}00055\ \ \ \ \ needs\_i8\_conversion,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00056}00056\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00057}00057\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1dtypes_1_1concat}{pandas.core.dtypes.concat}}\ \textcolor{keyword}{import}\ concat\_compat}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00058}00058\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1dtypes_1_1dtypes}{pandas.core.dtypes.dtypes}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00059}00059\ \ \ \ \ BaseMaskedDtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00060}00060\ \ \ \ \ CategoricalDtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00061}00061\ \ \ \ \ ExtensionDtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00062}00062\ \ \ \ \ NumpyEADtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00063}00063\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00064}00064\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1dtypes_1_1generic}{pandas.core.dtypes.generic}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00065}00065\ \ \ \ \ ABCDatetimeArray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00066}00066\ \ \ \ \ ABCExtensionArray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00067}00067\ \ \ \ \ ABCIndex,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00068}00068\ \ \ \ \ ABCMultiIndex,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00069}00069\ \ \ \ \ ABCSeries,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00070}00070\ \ \ \ \ ABCTimedeltaArray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00071}00071\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00072}00072\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1dtypes_1_1missing}{pandas.core.dtypes.missing}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00073}00073\ \ \ \ \ isna,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00074}00074\ \ \ \ \ na\_value\_for\_dtype,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00075}00075\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00077}00077\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1array__algos_1_1take}{pandas.core.array\_algos.take}}\ \textcolor{keyword}{import}\ take\_nd}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00078}00078\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1construction}{pandas.core.construction}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00079}00079\ \ \ \ \ array\ \textcolor{keyword}{as}\ pd\_array,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00080}00080\ \ \ \ \ ensure\_wrapped\_if\_datetimelike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00081}00081\ \ \ \ \ extract\_array,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00082}00082\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00083}00083\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1indexers}{pandas.core.indexers}}\ \textcolor{keyword}{import}\ validate\_indices}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00085}00085\ \textcolor{keywordflow}{if}\ TYPE\_CHECKING:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00086}00086\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1__typing}{pandas.\_typing}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ ListLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ NumpySorter,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ NumpyValueArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00090}00090\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00092}00092\ \ \ \ \ \textcolor{keyword}{from}\ pandas\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ Categorical,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ Index,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ Series,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00096}00096\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00097}00097\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1arrays}{pandas.core.arrays}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ BaseMaskedArray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ ExtensionArray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00100}00100\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00103}00103\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00104}00104\ \textcolor{comment}{\#\ dtype\ access\ \ \ \ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00105}00105\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00106}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{00106}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values:\ ArrayLike)\ -\/>\ np.ndarray:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00107}00107\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ routine\ to\ ensure\ that\ our\ data\ is\ of\ the\ correct}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ input\ dtype\ for\ lower-\/level\ routines}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00110}00110\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00111}00111\ \textcolor{stringliteral}{\ \ \ \ This\ will\ coerce:}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ -\/\ ints\ -\/>\ int64}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ -\/\ uint\ -\/>\ uint64}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ -\/\ bool\ -\/>\ uint8}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00115}00115\ \textcolor{stringliteral}{\ \ \ \ -\/\ datetimelike\ -\/>\ i8}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ -\/\ datetime64tz\ -\/>\ i8\ (in\ local\ tz)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00117}00117\ \textcolor{stringliteral}{\ \ \ \ -\/\ categorical\ -\/>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00118}00118\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00119}00119\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00120}00120\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00121}00121\ \textcolor{stringliteral}{\ \ \ \ values\ :\ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00122}00122\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00123}00123\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00124}00124\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00125}00125\ \textcolor{stringliteral}{\ \ \ \ np.ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00126}00126\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00128}00128\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(values,\ ABCMultiIndex):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ extract\_array\ would\ raise}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ values\ =\ extract\_array(values,\ extract\_numpy=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00132}00132\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_object\_dtype(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ensure\_object(np.asarray(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00135}00135\ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(values.dtype,\ BaseMaskedDtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i.e.\ BooleanArray,\ FloatingArray,\ IntegerArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ values\ =\ cast(\textcolor{stringliteral}{"{}BaseMaskedArray"{}},\ values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ values.\_hasna:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ No\ pd.NAs\ -\/>\ We\ can\ avoid\ an\ object-\/dtype\ cast\ (and\ copy)\ GH\#41816}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ recurse\ to\ avoid\ re-\/implementing\ logic\ for\ eg\ bool-\/>uint8}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values.\_data)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.asarray(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00144}00144\ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(values.dtype,\ CategoricalDtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ NB:\ cases\ that\ go\ through\ here\ should\ NOT\ be\ using\ \_reconstruct\_data}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ on\ the\ back-\/end.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ values\ =\ cast(\textcolor{stringliteral}{"{}Categorical"{}},\ values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ values.codes}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00149}00149\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00150}00150\ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_bool\_dtype(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(values,\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i.e.\ actually\ dtype\ ==\ np.dtype("{}bool"{})}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.asarray(values).view(\textcolor{stringliteral}{"{}uint8"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ e.g.\ Sparse[bool,\ False]\ \ \#\ TODO:\ no\ test\ cases\ get\ here}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.asarray(values).astype(\textcolor{stringliteral}{"{}uint8"{}},\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00158}00158\ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_integer\_dtype(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.asarray(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00161}00161\ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_float\_dtype(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Note:\ checking\ \`{}values.dtype\ ==\ "{}float128"{}`\ raises\ on\ Windows\ and\ 32bit}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ error:\ Item\ "{}ExtensionDtype"{}\ of\ "{}Union[Any,\ ExtensionDtype,\ dtype[Any]]"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ has\ no\ attribute\ "{}itemsize"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ values.dtype.itemsize\ \textcolor{keywordflow}{in}\ [2,\ 12,\ 16]:\ \ \textcolor{comment}{\#\ type:\ ignore[union-\/attr]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ we\ dont\ (yet)\ have\ float128\ hashtable\ support}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ensure\_float64(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.asarray(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00170}00170\ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_complex\_dtype(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cast(np.ndarray,\ values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00173}00173\ \ \ \ \ \textcolor{comment}{\#\ datetimelike}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00174}00174\ \ \ \ \ \textcolor{keywordflow}{elif}\ needs\_i8\_conversion(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ npvalues\ =\ values.view(\textcolor{stringliteral}{"{}i8"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ npvalues\ =\ cast(np.ndarray,\ npvalues)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ npvalues}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00179}00179\ \ \ \ \ \textcolor{comment}{\#\ we\ have\ failed,\ return\ object}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00180}00180\ \ \ \ \ values\ =\ np.asarray(values,\ dtype=object)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00181}00181\ \ \ \ \ \textcolor{keywordflow}{return}\ ensure\_object(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00184}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{00184}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00185}00185\ \ \ \ \ values:\ ArrayLike,\ dtype:\ DtypeObj,\ original:\ AnyArrayLike}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00186}00186\ )\ -\/>\ ArrayLike:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00187}00187\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00188}00188\ \textcolor{stringliteral}{\ \ \ \ reverse\ of\ \_ensure\_data}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00189}00189\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00190}00190\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00191}00191\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00192}00192\ \textcolor{stringliteral}{\ \ \ \ values\ :\ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00193}00193\ \textcolor{stringliteral}{\ \ \ \ dtype\ :\ np.dtype\ or\ ExtensionDtype}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00194}00194\ \textcolor{stringliteral}{\ \ \ \ original\ :\ AnyArrayLike}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00195}00195\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00196}00196\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00197}00197\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00198}00198\ \textcolor{stringliteral}{\ \ \ \ ExtensionArray\ or\ np.ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00199}00199\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00200}00200\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(values,\ ABCExtensionArray)\ \textcolor{keywordflow}{and}\ values.dtype\ ==\ dtype:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Catch\ DatetimeArray/TimedeltaArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00204}00204\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(dtype,\ np.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i.e.\ ExtensionDtype;\ note\ we\ have\ ruled\ out\ above\ the\ possibility}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ that\ values.dtype\ ==\ dtype}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ cls\ =\ dtype.construct\_array\_type()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ values\ =\ cls.\_from\_sequence(values,\ dtype=dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00211}00211\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ values\ =\ values.astype(dtype,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00214}00214\ \ \ \ \ \textcolor{keywordflow}{return}\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00217}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{00217}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(values,\ func\_name:\ str)\ -\/>\ ArrayLike:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00218}00218\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00219}00219\ \textcolor{stringliteral}{\ \ \ \ ensure\ that\ we\ are\ arraylike\ if\ not\ already}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00220}00220\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00221}00221\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(values,\ (ABCIndex,\ ABCSeries,\ ABCExtensionArray,\ np.ndarray)):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ GH\#52986}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ func\_name\ !=\ \textcolor{stringliteral}{"{}isin-\/targets"{}}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Make\ an\ exception\ for\ the\ comps\ argument\ in\ isin.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{func\_name\}\ with\ argument\ that\ is\ not\ not\ a\ Series,\ Index,\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ExtensionArray,\ or\ np.ndarray\ is\ deprecated\ and\ will\ raise\ in\ a\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}future\ version."{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FutureWarning,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=find\_stack\_level(),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00232}00232\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ inferred\ =\ lib.infer\_dtype(values,\ skipna=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ inferred\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}mixed"{}},\ \textcolor{stringliteral}{"{}string"{}},\ \textcolor{stringliteral}{"{}mixed-\/integer"{}}]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ "{}mixed-\/integer"{}\ to\ ensure\ we\ do\ not\ cast\ ["{}ss"{},\ 42]\ to\ str\ GH\#22160}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(values,\ tuple):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ list(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ construct\_1d\_object\_array\_from\_listlike(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ np.asarray(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00241}00241\ \ \ \ \ \textcolor{keywordflow}{return}\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00242}00242\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00244}00244\ \_hashtables\ =\ \{}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00245}00245\ \ \ \ \ \textcolor{stringliteral}{"{}complex128"{}}:\ htable.Complex128HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00246}00246\ \ \ \ \ \textcolor{stringliteral}{"{}complex64"{}}:\ htable.Complex64HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00247}00247\ \ \ \ \ \textcolor{stringliteral}{"{}float64"{}}:\ htable.Float64HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00248}00248\ \ \ \ \ \textcolor{stringliteral}{"{}float32"{}}:\ htable.Float32HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00249}00249\ \ \ \ \ \textcolor{stringliteral}{"{}uint64"{}}:\ htable.UInt64HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00250}00250\ \ \ \ \ \textcolor{stringliteral}{"{}uint32"{}}:\ htable.UInt32HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00251}00251\ \ \ \ \ \textcolor{stringliteral}{"{}uint16"{}}:\ htable.UInt16HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00252}00252\ \ \ \ \ \textcolor{stringliteral}{"{}uint8"{}}:\ htable.UInt8HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00253}00253\ \ \ \ \ \textcolor{stringliteral}{"{}int64"{}}:\ htable.Int64HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00254}00254\ \ \ \ \ \textcolor{stringliteral}{"{}int32"{}}:\ htable.Int32HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00255}00255\ \ \ \ \ \textcolor{stringliteral}{"{}int16"{}}:\ htable.Int16HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00256}00256\ \ \ \ \ \textcolor{stringliteral}{"{}int8"{}}:\ htable.Int8HashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00257}00257\ \ \ \ \ \textcolor{stringliteral}{"{}string"{}}:\ htable.StringHashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00258}00258\ \ \ \ \ \textcolor{stringliteral}{"{}object"{}}:\ htable.PyObjectHashTable,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00259}00259\ \}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00261}00261\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00262}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a42c1f2997367be47d8e23ab79fb93c98}{00262}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a42c1f2997367be47d8e23ab79fb93c98}{\_get\_hashtable\_algo}}(values:\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00263}00263\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00264}00264\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00265}00265\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00266}00266\ \textcolor{stringliteral}{\ \ \ \ values\ :\ np.ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00267}00267\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00268}00268\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00269}00269\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00270}00270\ \textcolor{stringliteral}{\ \ \ \ htable\ :\ HashTable\ subclass}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00271}00271\ \textcolor{stringliteral}{\ \ \ \ values\ :\ ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00272}00272\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00273}00273\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00274}00274\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00275}00275\ \ \ \ \ ndtype\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8703d635d626d874a194d111f277e8fe}{\_check\_object\_for\_strings}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00276}00276\ \ \ \ \ hashtable\ =\ \_hashtables[ndtype]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00277}00277\ \ \ \ \ \textcolor{keywordflow}{return}\ hashtable,\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00279}00279\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00280}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8703d635d626d874a194d111f277e8fe}{00280}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8703d635d626d874a194d111f277e8fe}{\_check\_object\_for\_strings}}(values:\ np.ndarray)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00281}00281\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00282}00282\ \textcolor{stringliteral}{\ \ \ \ Check\ if\ we\ can\ use\ string\ hashtable\ instead\ of\ object\ hashtable.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00283}00283\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00284}00284\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00285}00285\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00286}00286\ \textcolor{stringliteral}{\ \ \ \ values\ :\ ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00287}00287\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00288}00288\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00289}00289\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00290}00290\ \textcolor{stringliteral}{\ \ \ \ str}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00291}00291\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00292}00292\ \ \ \ \ ndtype\ =\ values.dtype.name}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00293}00293\ \ \ \ \ \textcolor{keywordflow}{if}\ ndtype\ ==\ \textcolor{stringliteral}{"{}object"{}}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ it's\ cheaper\ to\ use\ a\ String\ Hash\ Table\ than\ Object;\ we\ infer}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ including\ nulls\ because\ that\ is\ the\ only\ difference\ between}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00296}00296\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ StringHashTable\ and\ ObjectHashtable}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lib.is\_string\_array(values,\ skipna=\textcolor{keyword}{False}):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ ndtype\ =\ \textcolor{stringliteral}{"{}string"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00299}00299\ \ \ \ \ \textcolor{keywordflow}{return}\ ndtype}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00300}00300\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00301}00301\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00302}00302\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00303}00303\ \textcolor{comment}{\#\ top-\/level\ algos\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00304}00304\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00306}00306\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00307}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aaf2a16f208025c0e7ed8cba4fdf45489}{00307}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aaf2a16f208025c0e7ed8cba4fdf45489}{unique}}(values):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00308}00308\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00309}00309\ \textcolor{stringliteral}{\ \ \ \ Return\ unique\ values\ based\ on\ a\ hash\ table.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00310}00310\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00311}00311\ \textcolor{stringliteral}{\ \ \ \ Uniques\ are\ returned\ in\ order\ of\ appearance.\ This\ does\ NOT\ sort.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00312}00312\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00313}00313\ \textcolor{stringliteral}{\ \ \ \ Significantly\ faster\ than\ numpy.unique\ for\ long\ enough\ sequences.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00314}00314\ \textcolor{stringliteral}{\ \ \ \ Includes\ NA\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00315}00315\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00316}00316\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00317}00317\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00318}00318\ \textcolor{stringliteral}{\ \ \ \ values\ :\ 1d\ array-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00319}00319\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00320}00320\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00321}00321\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00322}00322\ \textcolor{stringliteral}{\ \ \ \ numpy.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00323}00323\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00324}00324\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ return\ can\ be:}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00325}00325\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00326}00326\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ Index\ :\ when\ the\ input\ is\ an\ Index}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00327}00327\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ Categorical\ :\ when\ the\ input\ is\ a\ Categorical\ dtype}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00328}00328\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ ndarray\ :\ when\ the\ input\ is\ a\ Series/ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00329}00329\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00330}00330\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Return\ numpy.ndarray\ or\ ExtensionArray.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00331}00331\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00332}00332\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00333}00333\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00334}00334\ \textcolor{stringliteral}{\ \ \ \ Index.unique\ :\ Return\ unique\ values\ from\ an\ Index.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00335}00335\ \textcolor{stringliteral}{\ \ \ \ Series.unique\ :\ Return\ unique\ values\ of\ Series\ object.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00336}00336\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00337}00337\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00338}00338\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00339}00339\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(pd.Series([2,\ 1,\ 3,\ 3]))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00340}00340\ \textcolor{stringliteral}{\ \ \ \ array([2,\ 1,\ 3])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00341}00341\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00342}00342\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(pd.Series([2]\ +\ [1]\ *\ 5))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00343}00343\ \textcolor{stringliteral}{\ \ \ \ array([2,\ 1])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00344}00344\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00345}00345\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(pd.Series([pd.Timestamp("{}20160101"{}),\ pd.Timestamp("{}20160101"{})]))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00346}00346\ \textcolor{stringliteral}{\ \ \ \ array(['2016-\/01-\/01T00:00:00.000000000'],\ dtype='datetime64[ns]')}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00347}00347\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00348}00348\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00349}00349\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ pd.Series(}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00350}00350\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ [}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00351}00351\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ pd.Timestamp("{}20160101"{},\ tz="{}US/Eastern"{}),}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00352}00352\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ pd.Timestamp("{}20160101"{},\ tz="{}US/Eastern"{}),}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00353}00353\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ ]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00354}00354\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ )}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00355}00355\ \textcolor{stringliteral}{\ \ \ \ ...\ )}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00356}00356\ \textcolor{stringliteral}{\ \ \ \ <DatetimeArray>}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00357}00357\ \textcolor{stringliteral}{\ \ \ \ ['2016-\/01-\/01\ 00:00:00-\/05:00']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00358}00358\ \textcolor{stringliteral}{\ \ \ \ Length:\ 1,\ dtype:\ datetime64[ns,\ US/Eastern]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00359}00359\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00360}00360\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00361}00361\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ pd.Index(}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00362}00362\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ [}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00363}00363\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ pd.Timestamp("{}20160101"{},\ tz="{}US/Eastern"{}),}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00364}00364\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ pd.Timestamp("{}20160101"{},\ tz="{}US/Eastern"{}),}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00365}00365\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ ]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00366}00366\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ )}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00367}00367\ \textcolor{stringliteral}{\ \ \ \ ...\ )}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00368}00368\ \textcolor{stringliteral}{\ \ \ \ DatetimeIndex(['2016-\/01-\/01\ 00:00:00-\/05:00'],}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00369}00369\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ dtype='datetime64[ns,\ US/Eastern]',}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00370}00370\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ freq=None)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00371}00371\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00372}00372\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(np.array(list("{}baabc"{}),\ dtype="{}O"{}))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00373}00373\ \textcolor{stringliteral}{\ \ \ \ array(['b',\ 'a',\ 'c'],\ dtype=object)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00374}00374\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00375}00375\ \textcolor{stringliteral}{\ \ \ \ An\ unordered\ Categorical\ will\ return\ categories\ in\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00376}00376\ \textcolor{stringliteral}{\ \ \ \ order\ of\ appearance.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00377}00377\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00378}00378\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(pd.Series(pd.Categorical(list("{}baabc"{}))))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00379}00379\ \textcolor{stringliteral}{\ \ \ \ ['b',\ 'a',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00380}00380\ \textcolor{stringliteral}{\ \ \ \ Categories\ (3,\ object):\ ['a',\ 'b',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00381}00381\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00382}00382\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(pd.Series(pd.Categorical(list("{}baabc"{}),\ categories=list("{}abc"{}))))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00383}00383\ \textcolor{stringliteral}{\ \ \ \ ['b',\ 'a',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00384}00384\ \textcolor{stringliteral}{\ \ \ \ Categories\ (3,\ object):\ ['a',\ 'b',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00385}00385\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00386}00386\ \textcolor{stringliteral}{\ \ \ \ An\ ordered\ Categorical\ preserves\ the\ category\ ordering.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00387}00387\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00388}00388\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00389}00389\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ pd.Series(}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00390}00390\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ pd.Categorical(list("{}baabc"{}),\ categories=list("{}abc"{}),\ ordered=True)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00391}00391\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ )}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00392}00392\ \textcolor{stringliteral}{\ \ \ \ ...\ )}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00393}00393\ \textcolor{stringliteral}{\ \ \ \ ['b',\ 'a',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00394}00394\ \textcolor{stringliteral}{\ \ \ \ Categories\ (3,\ object):\ ['a'\ <\ 'b'\ <\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00395}00395\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00396}00396\ \textcolor{stringliteral}{\ \ \ \ An\ array\ of\ tuples}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00397}00397\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00398}00398\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.unique(pd.Series([("{}a"{},\ "{}b"{}),\ ("{}b"{},\ "{}a"{}),\ ("{}a"{},\ "{}c"{}),\ ("{}b"{},\ "{}a"{})]).values)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00399}00399\ \textcolor{stringliteral}{\ \ \ \ array([('a',\ 'b'),\ ('b',\ 'a'),\ ('a',\ 'c')],\ dtype=object)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00400}00400\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00401}00401\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a9b109d6754b5a73d5d0f048daa50c652}{unique\_with\_mask}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00402}00402\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00403}00403\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00404}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6be054c00fc334b246a4c07ac28b3639}{00404}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6be054c00fc334b246a4c07ac28b3639}{nunique\_ints}}(values:\ ArrayLike)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00405}00405\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00406}00406\ \textcolor{stringliteral}{\ \ \ \ Return\ the\ number\ of\ unique\ values\ for\ integer\ array-\/likes.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00407}00407\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00408}00408\ \textcolor{stringliteral}{\ \ \ \ Significantly\ faster\ than\ pandas.unique\ for\ long\ enough\ sequences.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00409}00409\ \textcolor{stringliteral}{\ \ \ \ No\ checks\ are\ done\ to\ ensure\ input\ is\ integral.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00410}00410\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00411}00411\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00412}00412\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00413}00413\ \textcolor{stringliteral}{\ \ \ \ values\ :\ 1d\ array-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00414}00414\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00415}00415\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00416}00416\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00417}00417\ \textcolor{stringliteral}{\ \ \ \ int\ :\ The\ number\ of\ unique\ values\ in\ \`{}\`{}values\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00418}00418\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00419}00419\ \ \ \ \ \textcolor{keywordflow}{if}\ len(values)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00421}00421\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00422}00422\ \ \ \ \ \textcolor{comment}{\#\ bincount\ requires\ intp}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00423}00423\ \ \ \ \ result\ =\ (np.bincount(values.ravel().astype(\textcolor{stringliteral}{"{}intp"{}}))\ !=\ 0).sum()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00424}00424\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00425}00425\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00426}00426\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00427}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a9b109d6754b5a73d5d0f048daa50c652}{00427}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a9b109d6754b5a73d5d0f048daa50c652}{unique\_with\_mask}}(values,\ mask:\ npt.NDArray[np.bool\_]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None}):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00428}00428\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}See\ algorithms.unique\ for\ docs.\ Takes\ a\ mask\ for\ masked\ arrays."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00429}00429\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(values,\ func\_name=\textcolor{stringliteral}{"{}unique"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00430}00430\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00431}00431\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(values.dtype,\ ExtensionDtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Dispatch\ to\ extension\ dtype's\ unique.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ values.unique()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00434}00434\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00435}00435\ \ \ \ \ original\ =\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00436}00436\ \ \ \ \ hashtable,\ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a42c1f2997367be47d8e23ab79fb93c98}{\_get\_hashtable\_algo}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00437}00437\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00438}00438\ \ \ \ \ table\ =\ hashtable(len(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00439}00439\ \ \ \ \ \textcolor{keywordflow}{if}\ mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ uniques\ =\ table.unique(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00441}00441\ \ \ \ \ \ \ \ \ uniques\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(uniques,\ original.dtype,\ original)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ uniques}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00443}00443\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00444}00444\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00445}00445\ \ \ \ \ \ \ \ \ uniques,\ mask\ =\ table.unique(values,\ mask=mask)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ uniques\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(uniques,\ original.dtype,\ original)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \ \textcolor{comment}{\#\ for\ mypy}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ uniques,\ mask.astype(\textcolor{stringliteral}{"{}bool"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00449}00449\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00451}00451\ unique1d\ =\ unique}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00452}00452\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00453}00453\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00454}00454\ \_MINIMUM\_COMP\_ARR\_LEN\ =\ 1\_000\_000}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00455}00455\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00456}00456\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00457}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a56c2ab8fc716c2bfc0ba0c5cb842fc3a}{00457}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a56c2ab8fc716c2bfc0ba0c5cb842fc3a}{isin}}(comps:\ ListLike,\ values:\ ListLike)\ -\/>\ npt.NDArray[np.bool\_]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00458}00458\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00459}00459\ \textcolor{stringliteral}{\ \ \ \ Compute\ the\ isin\ boolean\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00460}00460\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00461}00461\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00462}00462\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00463}00463\ \textcolor{stringliteral}{\ \ \ \ comps\ :\ list-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00464}00464\ \textcolor{stringliteral}{\ \ \ \ values\ :\ list-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00465}00465\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00466}00466\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00467}00467\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00468}00468\ \textcolor{stringliteral}{\ \ \ \ ndarray[bool]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00469}00469\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Same\ length\ as\ \`{}comps\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00470}00470\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00471}00471\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ is\_list\_like(comps):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}only\ list-\/like\ objects\ are\ allowed\ to\ be\ passed\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}to\ isin(),\ you\ passed\ a\ \`{}\{type(comps).\_\_name\_\_\}`"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00476}00476\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ is\_list\_like(values):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}only\ list-\/like\ objects\ are\ allowed\ to\ be\ passed\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}to\ isin(),\ you\ passed\ a\ \`{}\{type(values).\_\_name\_\_\}`"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00480}00480\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00481}00481\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00482}00482\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(values,\ (ABCIndex,\ ABCSeries,\ ABCExtensionArray,\ np.ndarray)):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ orig\_values\ =\ list(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(orig\_values,\ func\_name=\textcolor{stringliteral}{"{}isin-\/targets"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00485}00485\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ len(values)\ >\ 0}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ values.dtype.kind\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{"{}iufcb"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ is\_signed\_integer\_dtype(comps)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ GH\#46485\ Use\ object\ to\ avoid\ upcast\ to\ float64\ later}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TODO:\ Share\ with\ \_find\_common\_type\_compat}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ construct\_1d\_object\_array\_from\_listlike(orig\_values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00494}00494\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00495}00495\ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(values,\ ABCMultiIndex):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Avoid\ raising\ in\ extract\_array}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00497}00497\ \ \ \ \ \ \ \ \ values\ =\ np.array(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00498}00498\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00499}00499\ \ \ \ \ \ \ \ \ values\ =\ extract\_array(values,\ extract\_numpy=\textcolor{keyword}{True},\ extract\_range=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00500}00500\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00501}00501\ \ \ \ \ comps\_array\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(comps,\ func\_name=\textcolor{stringliteral}{"{}isin"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00502}00502\ \ \ \ \ comps\_array\ =\ extract\_array(comps\_array,\ extract\_numpy=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00503}00503\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(comps\_array,\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i.e.\ Extension\ Array}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ comps\_array.isin(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00506}00506\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00507}00507\ \ \ \ \ \textcolor{keywordflow}{elif}\ needs\_i8\_conversion(comps\_array.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Dispatch\ to\ DatetimeLikeArrayMixin.isin}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pd\_array(comps\_array).\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a56c2ab8fc716c2bfc0ba0c5cb842fc3a}{isin}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00510}00510\ \ \ \ \ \textcolor{keywordflow}{elif}\ needs\_i8\_conversion(values.dtype)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ is\_object\_dtype(comps\_array.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00511}00511\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ e.g.\ comps\_array\ are\ integers\ and\ values\ are\ datetime64s}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00512}00512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.zeros(comps\_array.shape,\ dtype=bool)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00513}00513\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TODO:\ not\ quite\ right\ ...\ Sparse/Categorical}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00514}00514\ \ \ \ \ \textcolor{keywordflow}{elif}\ needs\_i8\_conversion(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a56c2ab8fc716c2bfc0ba0c5cb842fc3a}{isin}}(comps\_array,\ values.astype(object))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00516}00516\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00517}00517\ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(values.dtype,\ ExtensionDtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00518}00518\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a56c2ab8fc716c2bfc0ba0c5cb842fc3a}{isin}}(np.asarray(comps\_array),\ np.asarray(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00519}00519\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00520}00520\ \ \ \ \ \textcolor{comment}{\#\ GH16012}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00521}00521\ \ \ \ \ \textcolor{comment}{\#\ Ensure\ np.isin\ doesn't\ get\ object\ types\ or\ it\ *may*\ throw\ an\ exception}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00522}00522\ \ \ \ \ \textcolor{comment}{\#\ Albeit\ hashmap\ has\ O(1)\ look-\/up\ (vs.\ O(logn)\ in\ sorted\ array),}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00523}00523\ \ \ \ \ \textcolor{comment}{\#\ isin\ is\ faster\ for\ small\ sizes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00524}00524\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00525}00525\ \ \ \ \ \ \ \ \ len(comps\_array)\ >\ \_MINIMUM\_COMP\_ARR\_LEN}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00526}00526\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ len(values)\ <=\ 26}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00527}00527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ comps\_array.dtype\ !=\ object}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00528}00528\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00529}00529\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ the\ values\ include\ nan\ we\ need\ to\ check\ for\ nan\ explicitly}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ since\ np.nan\ it\ not\ equal\ to\ np.nan}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isna(values).any():}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00532}00532\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00533}00533\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }f(c,\ v):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00534}00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.logical\_or(np.isin(c,\ v).ravel(),\ np.isnan(c))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00535}00535\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00536}00536\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00537}00537\ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ \textcolor{keyword}{lambda}\ a,\ b:\ np.isin(a,\ b).ravel()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00538}00538\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00539}00539\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00540}00540\ \ \ \ \ \ \ \ \ common\ =\ np\_find\_common\_type(values.dtype,\ comps\_array.dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00541}00541\ \ \ \ \ \ \ \ \ values\ =\ values.astype(common,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00542}00542\ \ \ \ \ \ \ \ \ comps\_array\ =\ comps\_array.astype(common,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ f\ =\ htable.ismember}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00544}00544\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00545}00545\ \ \ \ \ \textcolor{keywordflow}{return}\ f(comps\_array,\ values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00546}00546\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00547}00547\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00548}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6096054268032718871ce73cda7b9c2e}{00548}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6096054268032718871ce73cda7b9c2e}{factorize\_array}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00549}00549\ \ \ \ \ values:\ np.ndarray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00550}00550\ \ \ \ \ use\_na\_sentinel:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00551}00551\ \ \ \ \ size\_hint:\ int\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00552}00552\ \ \ \ \ na\_value:\ object\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00553}00553\ \ \ \ \ mask:\ npt.NDArray[np.bool\_]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00554}00554\ )\ -\/>\ tuple[npt.NDArray[np.intp],\ np.ndarray]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00555}00555\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00556}00556\ \textcolor{stringliteral}{\ \ \ \ Factorize\ a\ numpy\ array\ to\ codes\ and\ uniques.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00557}00557\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00558}00558\ \textcolor{stringliteral}{\ \ \ \ This\ doesn't\ do\ any\ coercion\ of\ types\ or\ unboxing\ before\ factorization.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00559}00559\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00560}00560\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00561}00561\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00562}00562\ \textcolor{stringliteral}{\ \ \ \ values\ :\ ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00563}00563\ \textcolor{stringliteral}{\ \ \ \ use\_na\_sentinel\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00564}00564\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ True,\ the\ sentinel\ -\/1\ will\ be\ used\ for\ NaN\ values.\ If\ False,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00565}00565\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NaN\ values\ will\ be\ encoded\ as\ non-\/negative\ integers\ and\ will\ not\ drop\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00566}00566\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NaN\ from\ the\ uniques\ of\ the\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00567}00567\ \textcolor{stringliteral}{\ \ \ \ size\_hint\ :\ int,\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00568}00568\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Passed\ through\ to\ the\ hashtable's\ 'get\_labels'\ method}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00569}00569\ \textcolor{stringliteral}{\ \ \ \ na\_value\ :\ object,\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00570}00570\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ value\ in\ \`{}values\`{}\ to\ consider\ missing.\ Note:\ only\ use\ this}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00571}00571\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ parameter\ when\ you\ know\ that\ you\ don't\ have\ any\ values\ pandas\ would}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00572}00572\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ consider\ missing\ in\ the\ array\ (NaN\ for\ float\ data,\ iNaT\ for}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00573}00573\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ datetimes,\ etc.).}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00574}00574\ \textcolor{stringliteral}{\ \ \ \ mask\ :\ ndarray[bool],\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00575}00575\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ not\ None,\ the\ mask\ is\ used\ as\ indicator\ for\ missing\ values}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00576}00576\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ (True\ =\ missing,\ False\ =\ valid)\ instead\ of\ \`{}na\_value\`{}\ or}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00577}00577\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ condition\ "{}val\ !=\ val"{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00578}00578\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00579}00579\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00580}00580\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00581}00581\ \textcolor{stringliteral}{\ \ \ \ codes\ :\ ndarray[np.intp]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00582}00582\ \textcolor{stringliteral}{\ \ \ \ uniques\ :\ ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00583}00583\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00584}00584\ \ \ \ \ original\ =\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00585}00585\ \ \ \ \ \textcolor{keywordflow}{if}\ values.dtype.kind\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{"{}mM"{}}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00586}00586\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \_get\_hashtable\_algo\ will\ cast\ dt64/td64\ to\ i8\ via\ \_ensure\_data,\ so\ we}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00587}00587\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ need\ to\ do\ the\ same\ to\ na\_value.\ We\ are\ assuming\ here\ that\ the\ passed}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00588}00588\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ na\_value\ is\ an\ appropriately-\/typed\ NaT.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00589}00589\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ e.g.\ test\_where\_datetimelike\_categorical}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00590}00590\ \ \ \ \ \ \ \ \ na\_value\ =\ iNaT}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00591}00591\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00592}00592\ \ \ \ \ hash\_klass,\ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a42c1f2997367be47d8e23ab79fb93c98}{\_get\_hashtable\_algo}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00593}00593\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00594}00594\ \ \ \ \ table\ =\ hash\_klass(size\_hint\ \textcolor{keywordflow}{or}\ len(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00595}00595\ \ \ \ \ uniques,\ codes\ =\ table.factorize(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00596}00596\ \ \ \ \ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00597}00597\ \ \ \ \ \ \ \ \ na\_sentinel=-\/1,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00598}00598\ \ \ \ \ \ \ \ \ na\_value=na\_value,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00599}00599\ \ \ \ \ \ \ \ \ mask=mask,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00600}00600\ \ \ \ \ \ \ \ \ ignore\_na=use\_na\_sentinel,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00601}00601\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00602}00602\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00603}00603\ \ \ \ \ \textcolor{comment}{\#\ re-\/cast\ e.g.\ i8-\/>dt64/td64,\ uint8-\/>bool}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00604}00604\ \ \ \ \ uniques\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(uniques,\ original.dtype,\ original)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00605}00605\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00606}00606\ \ \ \ \ codes\ =\ ensure\_platform\_int(codes)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00607}00607\ \ \ \ \ \textcolor{keywordflow}{return}\ codes,\ uniques}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00608}00608\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00609}00609\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00610}00610\ \textcolor{preprocessor}{@doc}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00611}00611\ \ \ \ \ values=dedent(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00612}00612\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00613}00613\ \textcolor{stringliteral}{\ \ \ \ values\ :\ sequence}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00614}00614\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ 1-\/D\ sequence.\ Sequences\ that\ aren't\ pandas\ objects\ are}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00615}00615\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ coerced\ to\ ndarrays\ before\ factorization.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00616}00616\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00617}00617\ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00618}00618\ \ \ \ \ sort=dedent(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00619}00619\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00620}00620\ \textcolor{stringliteral}{\ \ \ \ sort\ :\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00621}00621\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sort\ \`{}uniques\`{}\ and\ shuffle\ \`{}codes\`{}\ to\ maintain\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00622}00622\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ relationship.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00623}00623\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00624}00624\ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00625}00625\ \ \ \ \ size\_hint=dedent(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00626}00626\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00627}00627\ \textcolor{stringliteral}{\ \ \ \ size\_hint\ :\ int,\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00628}00628\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Hint\ to\ the\ hashtable\ sizer.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00629}00629\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00630}00630\ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00631}00631\ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00632}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_adbe3e37562bc26a771cda872aaa1f2bd}{00632}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_adbe3e37562bc26a771cda872aaa1f2bd}{factorize}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00633}00633\ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00634}00634\ \ \ \ \ sort:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00635}00635\ \ \ \ \ use\_na\_sentinel:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00636}00636\ \ \ \ \ size\_hint:\ int\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00637}00637\ )\ -\/>\ tuple[np.ndarray,\ np.ndarray\ |\ Index]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00638}00638\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00639}00639\ \textcolor{stringliteral}{\ \ \ \ Encode\ the\ object\ as\ an\ enumerated\ type\ or\ categorical\ variable.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00640}00640\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00641}00641\ \textcolor{stringliteral}{\ \ \ \ This\ method\ is\ useful\ for\ obtaining\ a\ numeric\ representation\ of\ an}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00642}00642\ \textcolor{stringliteral}{\ \ \ \ array\ when\ all\ that\ matters\ is\ identifying\ distinct\ values.\ \`{}factorize\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00643}00643\ \textcolor{stringliteral}{\ \ \ \ is\ available\ as\ both\ a\ top-\/level\ function\ :func:\`{}pandas.factorize\`{},}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00644}00644\ \textcolor{stringliteral}{\ \ \ \ and\ as\ a\ method\ :meth:\`{}Series.factorize\`{}\ and\ :meth:\`{}Index.factorize\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00645}00645\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00646}00646\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00647}00647\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00648}00648\ \textcolor{stringliteral}{\ \ \ \ \{values\}\{sort\}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00649}00649\ \textcolor{stringliteral}{\ \ \ \ use\_na\_sentinel\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00650}00650\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ True,\ the\ sentinel\ -\/1\ will\ be\ used\ for\ NaN\ values.\ If\ False,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00651}00651\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NaN\ values\ will\ be\ encoded\ as\ non-\/negative\ integers\ and\ will\ not\ drop\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00652}00652\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NaN\ from\ the\ uniques\ of\ the\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00653}00653\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00654}00654\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionadded::\ 1.5.0}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00655}00655\ \textcolor{stringliteral}{\ \ \ \ \{size\_hint\}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00656}00656\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00657}00657\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00658}00658\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00659}00659\ \textcolor{stringliteral}{\ \ \ \ codes\ :\ ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00660}00660\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ An\ integer\ ndarray\ that's\ an\ indexer\ into\ \`{}uniques\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00661}00661\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}\`{}uniques.take(codes)\`{}\`{}\ will\ have\ the\ same\ values\ as\ \`{}values\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00662}00662\ \textcolor{stringliteral}{\ \ \ \ uniques\ :\ ndarray,\ Index,\ or\ Categorical}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00663}00663\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ unique\ valid\ values.\ When\ \`{}values\`{}\ is\ Categorical,\ \`{}uniques\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00664}00664\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ is\ a\ Categorical.\ When\ \`{}values\`{}\ is\ some\ other\ pandas\ object,\ an}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00665}00665\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}Index\`{}\ is\ returned.\ Otherwise,\ a\ 1-\/D\ ndarray\ is\ returned.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00666}00666\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00667}00667\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ note::}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00668}00668\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00669}00669\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ Even\ if\ there's\ a\ missing\ value\ in\ \`{}values\`{},\ \`{}uniques\`{}\ will}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00670}00670\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ *not*\ contain\ an\ entry\ for\ it.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00671}00671\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00672}00672\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00673}00673\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00674}00674\ \textcolor{stringliteral}{\ \ \ \ cut\ :\ Discretize\ continuous-\/valued\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00675}00675\ \textcolor{stringliteral}{\ \ \ \ unique\ :\ Find\ the\ unique\ value\ in\ an\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00676}00676\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00677}00677\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00678}00678\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00679}00679\ \textcolor{stringliteral}{\ \ \ \ Reference\ :ref:\`{}the\ user\ guide\ <reshaping.factorize>\`{}\ for\ more\ examples.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00680}00680\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00681}00681\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00682}00682\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00683}00683\ \textcolor{stringliteral}{\ \ \ \ These\ examples\ all\ show\ factorize\ as\ a\ top-\/level\ method\ like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00684}00684\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}pd.factorize(values)\`{}\`{}.\ The\ results\ are\ identical\ for\ methods\ like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00685}00685\ \textcolor{stringliteral}{\ \ \ \ :meth:\`{}Series.factorize\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00686}00686\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00687}00687\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(np.array(['b',\ 'b',\ 'a',\ 'c',\ 'b'],\ dtype="{}O"{}))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00688}00688\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00689}00689\ \textcolor{stringliteral}{\ \ \ \ array([0,\ 0,\ 1,\ 2,\ 0])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00690}00690\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00691}00691\ \textcolor{stringliteral}{\ \ \ \ array(['b',\ 'a',\ 'c'],\ dtype=object)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00692}00692\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00693}00693\ \textcolor{stringliteral}{\ \ \ \ With\ \`{}\`{}sort=True\`{}\`{},\ the\ \`{}uniques\`{}\ will\ be\ sorted,\ and\ \`{}codes\`{}\ will\ be}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00694}00694\ \textcolor{stringliteral}{\ \ \ \ shuffled\ so\ that\ the\ relationship\ is\ the\ maintained.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00695}00695\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00696}00696\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(np.array(['b',\ 'b',\ 'a',\ 'c',\ 'b'],\ dtype="{}O"{}),}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00697}00697\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sort=True)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00698}00698\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00699}00699\ \textcolor{stringliteral}{\ \ \ \ array([1,\ 1,\ 0,\ 2,\ 1])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00700}00700\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00701}00701\ \textcolor{stringliteral}{\ \ \ \ array(['a',\ 'b',\ 'c'],\ dtype=object)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00702}00702\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00703}00703\ \textcolor{stringliteral}{\ \ \ \ When\ \`{}\`{}use\_na\_sentinel=True\`{}\`{}\ (the\ default),\ missing\ values\ are\ indicated\ in}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00704}00704\ \textcolor{stringliteral}{\ \ \ \ the\ \`{}codes\`{}\ with\ the\ sentinel\ value\ \`{}\`{}-\/1\`{}\`{}\ and\ missing\ values\ are\ not}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00705}00705\ \textcolor{stringliteral}{\ \ \ \ included\ in\ \`{}uniques\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00706}00706\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00707}00707\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(np.array(['b',\ None,\ 'a',\ 'c',\ 'b'],\ dtype="{}O"{}))}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00708}00708\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00709}00709\ \textcolor{stringliteral}{\ \ \ \ array([\ 0,\ -\/1,\ \ 1,\ \ 2,\ \ 0])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00710}00710\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00711}00711\ \textcolor{stringliteral}{\ \ \ \ array(['b',\ 'a',\ 'c'],\ dtype=object)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00712}00712\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00713}00713\ \textcolor{stringliteral}{\ \ \ \ Thus\ far,\ we've\ only\ factorized\ lists\ (which\ are\ internally\ coerced\ to}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00714}00714\ \textcolor{stringliteral}{\ \ \ \ NumPy\ arrays).\ When\ factorizing\ pandas\ objects,\ the\ type\ of\ \`{}uniques\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00715}00715\ \textcolor{stringliteral}{\ \ \ \ will\ differ.\ For\ Categoricals,\ a\ \`{}Categorical\`{}\ is\ returned.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00716}00716\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00717}00717\ \textcolor{stringliteral}{\ \ \ \ >>>\ cat\ =\ pd.Categorical(['a',\ 'a',\ 'c'],\ categories=['a',\ 'b',\ 'c'])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00718}00718\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(cat)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00719}00719\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00720}00720\ \textcolor{stringliteral}{\ \ \ \ array([0,\ 0,\ 1])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00721}00721\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00722}00722\ \textcolor{stringliteral}{\ \ \ \ ['a',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00723}00723\ \textcolor{stringliteral}{\ \ \ \ Categories\ (3,\ object):\ ['a',\ 'b',\ 'c']}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00724}00724\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00725}00725\ \textcolor{stringliteral}{\ \ \ \ Notice\ that\ \`{}\`{}'b'\`{}\`{}\ is\ in\ \`{}\`{}uniques.categories\`{}\`{},\ despite\ not\ being}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00726}00726\ \textcolor{stringliteral}{\ \ \ \ present\ in\ \`{}\`{}cat.values\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00727}00727\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00728}00728\ \textcolor{stringliteral}{\ \ \ \ For\ all\ other\ pandas\ objects,\ an\ Index\ of\ the\ appropriate\ type\ is}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00729}00729\ \textcolor{stringliteral}{\ \ \ \ returned.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00730}00730\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00731}00731\ \textcolor{stringliteral}{\ \ \ \ >>>\ cat\ =\ pd.Series(['a',\ 'a',\ 'c'])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00732}00732\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(cat)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00733}00733\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00734}00734\ \textcolor{stringliteral}{\ \ \ \ array([0,\ 0,\ 1])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00735}00735\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00736}00736\ \textcolor{stringliteral}{\ \ \ \ Index(['a',\ 'c'],\ dtype='object')}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00737}00737\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00738}00738\ \textcolor{stringliteral}{\ \ \ \ If\ NaN\ is\ in\ the\ values,\ and\ we\ want\ to\ include\ NaN\ in\ the\ uniques\ of\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00739}00739\ \textcolor{stringliteral}{\ \ \ \ values,\ it\ can\ be\ achieved\ by\ setting\ \`{}\`{}use\_na\_sentinel=False\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00740}00740\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00741}00741\ \textcolor{stringliteral}{\ \ \ \ >>>\ values\ =\ np.array([1,\ 2,\ 1,\ np.nan])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00742}00742\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(values)\ \ \#\ default:\ use\_na\_sentinel=True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00743}00743\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00744}00744\ \textcolor{stringliteral}{\ \ \ \ array([\ 0,\ \ 1,\ \ 0,\ -\/1])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00745}00745\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00746}00746\ \textcolor{stringliteral}{\ \ \ \ array([1.,\ 2.])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00747}00747\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00748}00748\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes,\ uniques\ =\ pd.factorize(values,\ use\_na\_sentinel=False)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00749}00749\ \textcolor{stringliteral}{\ \ \ \ >>>\ codes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00750}00750\ \textcolor{stringliteral}{\ \ \ \ array([0,\ 1,\ 0,\ 2])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00751}00751\ \textcolor{stringliteral}{\ \ \ \ >>>\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00752}00752\ \textcolor{stringliteral}{\ \ \ \ array([\ 1.,\ \ 2.,\ nan])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00753}00753\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00754}00754\ \ \ \ \ \textcolor{comment}{\#\ Implementation\ notes:\ This\ method\ is\ responsible\ for\ 3\ things}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00755}00755\ \ \ \ \ \textcolor{comment}{\#\ 1.)\ coercing\ data\ to\ array-\/like\ (ndarray,\ Index,\ extension\ array)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00756}00756\ \ \ \ \ \textcolor{comment}{\#\ 2.)\ factorizing\ codes\ and\ uniques}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00757}00757\ \ \ \ \ \textcolor{comment}{\#\ 3.)\ Maybe\ boxing\ the\ uniques\ in\ an\ Index}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00758}00758\ \ \ \ \ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00759}00759\ \ \ \ \ \textcolor{comment}{\#\ Step\ 2\ is\ dispatched\ to\ extension\ types\ (like\ Categorical).\ They\ are}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00760}00760\ \ \ \ \ \textcolor{comment}{\#\ responsible\ only\ for\ factorization.\ All\ data\ coercion,\ sorting\ and\ boxing}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00761}00761\ \ \ \ \ \textcolor{comment}{\#\ should\ happen\ here.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00762}00762\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(values,\ (ABCIndex,\ ABCSeries)):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00763}00763\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ values.factorize(sort=sort,\ use\_na\_sentinel=use\_na\_sentinel)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00764}00764\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00765}00765\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(values,\ func\_name=\textcolor{stringliteral}{"{}factorize"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00766}00766\ \ \ \ \ original\ =\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00767}00767\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00768}00768\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00769}00769\ \ \ \ \ \ \ \ \ isinstance(values,\ (ABCDatetimeArray,\ ABCTimedeltaArray))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00770}00770\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ values.freq\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00771}00771\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00772}00772\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ The\ presence\ of\ 'freq'\ means\ we\ can\ fast-\/path\ sorting\ and\ know\ there}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00773}00773\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ aren't\ NAs}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00774}00774\ \ \ \ \ \ \ \ \ codes,\ uniques\ =\ values.factorize(sort=sort)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00775}00775\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ codes,\ uniques}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00776}00776\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00777}00777\ \ \ \ \ \textcolor{keywordflow}{elif}\ \textcolor{keywordflow}{not}\ isinstance(values,\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00778}00778\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i.e.\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00779}00779\ \ \ \ \ \ \ \ \ codes,\ uniques\ =\ values.factorize(use\_na\_sentinel=use\_na\_sentinel)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00780}00780\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00781}00781\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00782}00782\ \ \ \ \ \ \ \ \ values\ =\ np.asarray(values)\ \ \textcolor{comment}{\#\ convert\ DTA/TDA/MultiIndex}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00783}00783\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00784}00784\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ use\_na\_sentinel\ \textcolor{keywordflow}{and}\ values.dtype\ ==\ object:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00785}00785\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ factorize\ can\ now\ handle\ differentiating\ various\ types\ of\ null\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00786}00786\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ These\ can\ only\ occur\ when\ the\ array\ has\ object\ dtype.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00787}00787\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ However,\ for\ backwards\ compatibility\ we\ only\ use\ the\ null\ for\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00788}00788\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ provided\ dtype.\ This\ may\ be\ revisited\ in\ the\ future,\ see\ GH\#48476.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00789}00789\ \ \ \ \ \ \ \ \ \ \ \ \ null\_mask\ =\ isna(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00790}00790\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ null\_mask.any():}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00791}00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ na\_value\ =\ na\_value\_for\_dtype(values.dtype,\ compat=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00792}00792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Don't\ modify\ (potentially\ user-\/provided)\ array}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00793}00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ np.where(null\_mask,\ na\_value,\ values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00794}00794\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00795}00795\ \ \ \ \ \ \ \ \ codes,\ uniques\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6096054268032718871ce73cda7b9c2e}{factorize\_array}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00796}00796\ \ \ \ \ \ \ \ \ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00797}00797\ \ \ \ \ \ \ \ \ \ \ \ \ use\_na\_sentinel=use\_na\_sentinel,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00798}00798\ \ \ \ \ \ \ \ \ \ \ \ \ size\_hint=size\_hint,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00799}00799\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00800}00800\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00801}00801\ \ \ \ \ \textcolor{keywordflow}{if}\ sort\ \textcolor{keywordflow}{and}\ len(uniques)\ >\ 0:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00802}00802\ \ \ \ \ \ \ \ \ uniques,\ codes\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa3884e0c8777c346895692d3c0a815c8}{safe\_sort}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00803}00803\ \ \ \ \ \ \ \ \ \ \ \ \ uniques,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00804}00804\ \ \ \ \ \ \ \ \ \ \ \ \ codes,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00805}00805\ \ \ \ \ \ \ \ \ \ \ \ \ use\_na\_sentinel=use\_na\_sentinel,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00806}00806\ \ \ \ \ \ \ \ \ \ \ \ \ assume\_unique=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00807}00807\ \ \ \ \ \ \ \ \ \ \ \ \ verify=\textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00808}00808\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00809}00809\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00810}00810\ \ \ \ \ uniques\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(uniques,\ original.dtype,\ original)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00811}00811\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00812}00812\ \ \ \ \ \textcolor{keywordflow}{return}\ codes,\ uniques}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00813}00813\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00814}00814\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00815}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_ac4e9a411ce11004fdee2f052eb473b21}{00815}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_ac4e9a411ce11004fdee2f052eb473b21}{value\_counts}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00816}00816\ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00817}00817\ \ \ \ \ sort:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00818}00818\ \ \ \ \ ascending:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00819}00819\ \ \ \ \ normalize:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00820}00820\ \ \ \ \ bins=\textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00821}00821\ \ \ \ \ dropna:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00822}00822\ )\ -\/>\ Series:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00823}00823\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00824}00824\ \textcolor{stringliteral}{\ \ \ \ Compute\ a\ histogram\ of\ the\ counts\ of\ non-\/null\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00825}00825\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00826}00826\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00827}00827\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00828}00828\ \textcolor{stringliteral}{\ \ \ \ values\ :\ ndarray\ (1-\/d)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00829}00829\ \textcolor{stringliteral}{\ \ \ \ sort\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00830}00830\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sort\ by\ values}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00831}00831\ \textcolor{stringliteral}{\ \ \ \ ascending\ :\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00832}00832\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sort\ in\ ascending\ order}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00833}00833\ \textcolor{stringliteral}{\ \ \ \ normalize:\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00834}00834\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ True\ then\ compute\ a\ relative\ histogram}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00835}00835\ \textcolor{stringliteral}{\ \ \ \ bins\ :\ integer,\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00836}00836\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Rather\ than\ count\ values,\ group\ them\ into\ half-\/open\ bins,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00837}00837\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ convenience\ for\ pd.cut,\ only\ works\ with\ numeric\ data}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00838}00838\ \textcolor{stringliteral}{\ \ \ \ dropna\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00839}00839\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Don't\ include\ counts\ of\ NaN}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00840}00840\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00841}00841\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00842}00842\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00843}00843\ \textcolor{stringliteral}{\ \ \ \ Series}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00844}00844\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00845}00845\ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00846}00846\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ GH\#53493}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00847}00847\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}pandas.value\_counts\ is\ deprecated\ and\ will\ be\ removed\ in\ a\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00848}00848\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}future\ version.\ Use\ pd.Series(obj).value\_counts()\ instead."{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00849}00849\ \ \ \ \ \ \ \ \ FutureWarning,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00850}00850\ \ \ \ \ \ \ \ \ stacklevel=find\_stack\_level(),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00851}00851\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00852}00852\ \ \ \ \ \textcolor{keywordflow}{return}\ value\_counts\_internal(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00853}00853\ \ \ \ \ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00854}00854\ \ \ \ \ \ \ \ \ sort=sort,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00855}00855\ \ \ \ \ \ \ \ \ ascending=ascending,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00856}00856\ \ \ \ \ \ \ \ \ normalize=normalize,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00857}00857\ \ \ \ \ \ \ \ \ bins=bins,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00858}00858\ \ \ \ \ \ \ \ \ dropna=dropna,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00859}00859\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00860}00860\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00861}00861\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00862}00862\ \textcolor{keyword}{def\ }value\_counts\_internal(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00863}00863\ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00864}00864\ \ \ \ \ sort:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00865}00865\ \ \ \ \ ascending:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00866}00866\ \ \ \ \ normalize:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00867}00867\ \ \ \ \ bins=\textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00868}00868\ \ \ \ \ dropna:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00869}00869\ )\ -\/>\ Series:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00870}00870\ \ \ \ \ \textcolor{keyword}{from}\ pandas\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00871}00871\ \ \ \ \ \ \ \ \ Index,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00872}00872\ \ \ \ \ \ \ \ \ Series,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00873}00873\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00874}00874\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00875}00875\ \ \ \ \ index\_name\ =\ getattr(values,\ \textcolor{stringliteral}{"{}name"{}},\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00876}00876\ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}proportion"{}}\ \textcolor{keywordflow}{if}\ normalize\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}count"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00877}00877\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00878}00878\ \ \ \ \ \textcolor{keywordflow}{if}\ bins\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00879}00879\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1reshape_1_1tile}{pandas.core.reshape.tile}}\ \textcolor{keyword}{import}\ cut}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00880}00880\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00881}00881\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(values,\ Series):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00882}00882\ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ values.\_values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00883}00883\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00884}00884\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00885}00885\ \ \ \ \ \ \ \ \ \ \ \ \ ii\ =\ cut(values,\ bins,\ include\_lowest=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00886}00886\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ TypeError\ \textcolor{keyword}{as}\ err:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00887}00887\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(\textcolor{stringliteral}{"{}bins\ argument\ only\ works\ with\ numeric\ data."{}})\ \textcolor{keyword}{from}\ err}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00888}00888\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00889}00889\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ count,\ remove\ nulls\ (from\ the\ index),\ and\ but\ the\ bins}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00890}00890\ \ \ \ \ \ \ \ \ result\ =\ ii.value\_counts(dropna=dropna)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00891}00891\ \ \ \ \ \ \ \ \ result.name\ =\ name}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00892}00892\ \ \ \ \ \ \ \ \ result\ =\ result[result.index.notna()]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00893}00893\ \ \ \ \ \ \ \ \ result.index\ =\ result.index.astype(\textcolor{stringliteral}{"{}interval"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00894}00894\ \ \ \ \ \ \ \ \ result\ =\ result.sort\_index()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00895}00895\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00896}00896\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ we\ are\ dropna\ and\ we\ have\ NO\ values}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00897}00897\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ dropna\ \textcolor{keywordflow}{and}\ (result.\_values\ ==\ 0).all():}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00898}00898\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ result.iloc[0:0]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00899}00899\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00900}00900\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ normalizing\ is\ by\ len\ of\ all\ (regardless\ of\ dropna)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00901}00901\ \ \ \ \ \ \ \ \ counts\ =\ np.array([len(ii)])}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00902}00902\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00903}00903\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00904}00904\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ is\_extension\_array\_dtype(values):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00905}00905\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ handle\ Categorical\ and\ sparse,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00906}00906\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Series(values,\ copy=\textcolor{keyword}{False}).\_values.value\_counts(dropna=dropna)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00907}00907\ \ \ \ \ \ \ \ \ \ \ \ \ result.name\ =\ name}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00908}00908\ \ \ \ \ \ \ \ \ \ \ \ \ result.index.name\ =\ index\_name}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00909}00909\ \ \ \ \ \ \ \ \ \ \ \ \ counts\ =\ result.\_values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00910}00910\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(counts,\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00911}00911\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ e.g.\ ArrowExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00912}00912\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ counts\ =\ np.asarray(counts)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00913}00913\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00914}00914\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(values,\ ABCMultiIndex):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00915}00915\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ GH49558}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00916}00916\ \ \ \ \ \ \ \ \ \ \ \ \ levels\ =\ list(range(values.nlevels))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00917}00917\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00918}00918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Series(index=values,\ name=name)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00919}00919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .groupby(level=levels,\ dropna=dropna)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00920}00920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .size()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00921}00921\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00922}00922\ \ \ \ \ \ \ \ \ \ \ \ \ result.index.names\ =\ values.names}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00923}00923\ \ \ \ \ \ \ \ \ \ \ \ \ counts\ =\ result.\_values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00924}00924\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00925}00925\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00926}00926\ \ \ \ \ \ \ \ \ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(values,\ func\_name=\textcolor{stringliteral}{"{}value\_counts"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00927}00927\ \ \ \ \ \ \ \ \ \ \ \ \ keys,\ counts,\ \_\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a9bb85a6aa15624399a22bdeb27a16591}{value\_counts\_arraylike}}(values,\ dropna)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00928}00928\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ keys.dtype\ ==\ np.float16:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00929}00929\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ keys\ =\ keys.astype(np.float32)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00930}00930\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00931}00931\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ backwards\ compatibility,\ we\ let\ Index\ do\ its\ normal\ type}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00932}00932\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ inference,\ \_except\_\ for\ if\ if\ infers\ from\ object\ to\ bool.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00933}00933\ \ \ \ \ \ \ \ \ \ \ \ \ idx\ =\ Index(keys)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00934}00934\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ idx.dtype\ \textcolor{keywordflow}{in}\ [bool,\ \textcolor{stringliteral}{"{}string"{}}]\ \textcolor{keywordflow}{and}\ keys.dtype\ ==\ object:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00935}00935\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx\ =\ idx.astype(object)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00936}00936\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00937}00937\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx.dtype\ !=\ keys.dtype\ \ \textcolor{comment}{\#\ noqa:\ PLR1714\ \ \#\ \#\ pylint:\ disable=R1714}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00938}00938\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ idx.dtype\ !=\ \textcolor{stringliteral}{"{}string"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00939}00939\ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00940}00940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00941}00941\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ GH\#56161}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00942}00942\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ behavior\ of\ value\_counts\ with\ object-\/dtype\ is\ deprecated.\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00943}00943\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}In\ a\ future\ version,\ this\ will\ *not*\ perform\ dtype\ inference\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00944}00944\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}on\ the\ resulting\ index.\ To\ retain\ the\ old\ behavior,\ use\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00945}00945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\`{}result.index\ =\ result.index.infer\_objects()`"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00946}00946\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FutureWarning,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00947}00947\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=find\_stack\_level(),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00948}00948\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00949}00949\ \ \ \ \ \ \ \ \ \ \ \ \ idx.name\ =\ index\_name}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00950}00950\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00951}00951\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Series(counts,\ index=idx,\ name=name,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00952}00952\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00953}00953\ \ \ \ \ \textcolor{keywordflow}{if}\ sort:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00954}00954\ \ \ \ \ \ \ \ \ result\ =\ result.sort\_values(ascending=ascending)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00955}00955\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00956}00956\ \ \ \ \ \textcolor{keywordflow}{if}\ normalize:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00957}00957\ \ \ \ \ \ \ \ \ result\ =\ result\ /\ counts.sum()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00958}00958\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00959}00959\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00960}00960\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00961}00961\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00962}00962\ \textcolor{comment}{\#\ Called\ once\ from\ SparseArray,\ otherwise\ could\ be\ private}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00963}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a9bb85a6aa15624399a22bdeb27a16591}{00963}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a9bb85a6aa15624399a22bdeb27a16591}{value\_counts\_arraylike}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00964}00964\ \ \ \ \ values:\ np.ndarray,\ dropna:\ bool,\ mask:\ npt.NDArray[np.bool\_]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00965}00965\ )\ -\/>\ tuple[ArrayLike,\ npt.NDArray[np.int64],\ int]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00966}00966\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00967}00967\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00968}00968\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00969}00969\ \textcolor{stringliteral}{\ \ \ \ values\ :\ np.ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00970}00970\ \textcolor{stringliteral}{\ \ \ \ dropna\ :\ bool}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00971}00971\ \textcolor{stringliteral}{\ \ \ \ mask\ :\ np.ndarray[bool]\ or\ None,\ default\ None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00972}00972\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00973}00973\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00974}00974\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00975}00975\ \textcolor{stringliteral}{\ \ \ \ uniques\ :\ np.ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00976}00976\ \textcolor{stringliteral}{\ \ \ \ counts\ :\ np.ndarray[np.int64]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00977}00977\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00978}00978\ \ \ \ \ original\ =\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00979}00979\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00980}00980\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00981}00981\ \ \ \ \ keys,\ counts,\ na\_counter\ =\ htable.value\_count(values,\ dropna,\ mask=mask)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00982}00982\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00983}00983\ \ \ \ \ \textcolor{keywordflow}{if}\ needs\_i8\_conversion(original.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00984}00984\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ datetime,\ timedelta,\ or\ period}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00985}00985\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00986}00986\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ dropna:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00987}00987\ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ keys\ !=\ iNaT}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00988}00988\ \ \ \ \ \ \ \ \ \ \ \ \ keys,\ counts\ =\ keys[mask],\ counts[mask]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00989}00989\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00990}00990\ \ \ \ \ res\_keys\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(keys,\ original.dtype,\ original)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00991}00991\ \ \ \ \ \textcolor{keywordflow}{return}\ res\_keys,\ counts,\ na\_counter}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00992}00992\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00993}00993\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00994}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_ac5fc7d5a4ae51a9a16547336ef4b98a1}{00994}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_ac5fc7d5a4ae51a9a16547336ef4b98a1}{duplicated}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00995}00995\ \ \ \ \ values:\ ArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00996}00996\ \ \ \ \ keep:\ Literal[\textcolor{stringliteral}{"{}first"{}},\ \textcolor{stringliteral}{"{}last"{}},\ \textcolor{keyword}{False}]\ =\ \textcolor{stringliteral}{"{}first"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00997}00997\ \ \ \ \ mask:\ npt.NDArray[np.bool\_]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00998}00998\ )\ -\/>\ npt.NDArray[np.bool\_]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l00999}00999\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01000}01000\ \textcolor{stringliteral}{\ \ \ \ Return\ boolean\ ndarray\ denoting\ duplicate\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01001}01001\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01002}01002\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01003}01003\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01004}01004\ \textcolor{stringliteral}{\ \ \ \ values\ :\ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01005}01005\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Array\ over\ which\ to\ check\ for\ duplicate\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01006}01006\ \textcolor{stringliteral}{\ \ \ \ keep\ :\ \{'first',\ 'last',\ False\},\ default\ 'first'}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01007}01007\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ \`{}\`{}first\`{}\`{}\ :\ Mark\ duplicates\ as\ \`{}\`{}True\`{}\`{}\ except\ for\ the\ first}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01008}01008\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ occurrence.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01009}01009\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ \`{}\`{}last\`{}\`{}\ :\ Mark\ duplicates\ as\ \`{}\`{}True\`{}\`{}\ except\ for\ the\ last}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01010}01010\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ occurrence.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01011}01011\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ False\ :\ Mark\ all\ duplicates\ as\ \`{}\`{}True\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01012}01012\ \textcolor{stringliteral}{\ \ \ \ mask\ :\ ndarray[bool],\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01013}01013\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ array\ indicating\ which\ elements\ to\ exclude\ from\ checking}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01014}01014\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01015}01015\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01016}01016\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01017}01017\ \textcolor{stringliteral}{\ \ \ \ duplicated\ :\ ndarray[bool]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01018}01018\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01019}01019\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01020}01020\ \ \ \ \ \textcolor{keywordflow}{return}\ htable.duplicated(values,\ keep=keep,\ mask=mask)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01021}01021\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01022}01022\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01023}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_abce89cf7249e152882399c613f25ff4c}{01023}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_abce89cf7249e152882399c613f25ff4c}{mode}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01024}01024\ \ \ \ \ values:\ ArrayLike,\ dropna:\ bool\ =\ \textcolor{keyword}{True},\ mask:\ npt.NDArray[np.bool\_]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01025}01025\ )\ -\/>\ ArrayLike:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01026}01026\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01027}01027\ \textcolor{stringliteral}{\ \ \ \ Returns\ the\ mode(s)\ of\ an\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01028}01028\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01029}01029\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01030}01030\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01031}01031\ \textcolor{stringliteral}{\ \ \ \ values\ :\ array-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01032}01032\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Array\ over\ which\ to\ check\ for\ duplicate\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01033}01033\ \textcolor{stringliteral}{\ \ \ \ dropna\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01034}01034\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Don't\ consider\ counts\ of\ NaN/NaT.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01035}01035\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01036}01036\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01037}01037\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01038}01038\ \textcolor{stringliteral}{\ \ \ \ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01039}01039\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01040}01040\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a8c63b819e3cf054a44a36ed3cb32916b}{\_ensure\_arraylike}}(values,\ func\_name=\textcolor{stringliteral}{"{}mode"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01041}01041\ \ \ \ \ original\ =\ values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01042}01042\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01043}01043\ \ \ \ \ \textcolor{keywordflow}{if}\ needs\_i8\_conversion(values.dtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01044}01044\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Got\ here\ with\ ndarray;\ dispatch\ to\ DatetimeArray/TimedeltaArray.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01045}01045\ \ \ \ \ \ \ \ \ values\ =\ ensure\_wrapped\_if\_datetimelike(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01046}01046\ \ \ \ \ \ \ \ \ values\ =\ cast(\textcolor{stringliteral}{"{}ExtensionArray"{}},\ values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01047}01047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ values.\_mode(dropna=dropna)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01048}01048\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01049}01049\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01050}01050\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01051}01051\ \ \ \ \ npresult,\ res\_mask\ =\ htable.mode(values,\ dropna=dropna,\ mask=mask)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01052}01052\ \ \ \ \ \textcolor{keywordflow}{if}\ res\_mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01053}01053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ npresult,\ res\_mask\ \ \textcolor{comment}{\#\ type:\ ignore[return-\/value]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01054}01054\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01055}01055\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01056}01056\ \ \ \ \ \ \ \ \ npresult\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa3884e0c8777c346895692d3c0a815c8}{safe\_sort}}(npresult)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01057}01057\ \ \ \ \ \textcolor{keywordflow}{except}\ TypeError\ \textcolor{keyword}{as}\ err:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01058}01058\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01059}01059\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Unable\ to\ sort\ modes:\ \{err\}"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01060}01060\ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=find\_stack\_level(),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01061}01061\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01062}01062\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01063}01063\ \ \ \ \ result\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a7cc56a5f7c5c53e4c93b3f64a2be1966}{\_reconstruct\_data}}(npresult,\ original.dtype,\ original)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01064}01064\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01065}01065\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01066}01066\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01067}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa6de261414ddc15b0d07646cfc80eee6}{01067}}\ \textcolor{keyword}{def\ }rank(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01068}01068\ \ \ \ \ values:\ ArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01069}01069\ \ \ \ \ axis:\ AxisInt\ =\ 0,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01070}01070\ \ \ \ \ method:\ str\ =\ \textcolor{stringliteral}{"{}average"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01071}01071\ \ \ \ \ na\_option:\ str\ =\ \textcolor{stringliteral}{"{}keep"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01072}01072\ \ \ \ \ ascending:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01073}01073\ \ \ \ \ pct:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01074}01074\ )\ -\/>\ npt.NDArray[np.float64]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01075}01075\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01076}01076\ \textcolor{stringliteral}{\ \ \ \ Rank\ the\ values\ along\ a\ given\ axis.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01077}01077\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01078}01078\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01079}01079\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01080}01080\ \textcolor{stringliteral}{\ \ \ \ values\ :\ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01081}01081\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Array\ whose\ values\ will\ be\ ranked.\ The\ number\ of\ dimensions\ in\ this}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01082}01082\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ array\ must\ not\ exceed\ 2.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01083}01083\ \textcolor{stringliteral}{\ \ \ \ axis\ :\ int,\ default\ 0}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01084}01084\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Axis\ over\ which\ to\ perform\ rankings.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01085}01085\ \textcolor{stringliteral}{\ \ \ \ method\ :\ \{'average',\ 'min',\ 'max',\ 'first',\ 'dense'\},\ default\ 'average'}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01086}01086\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ method\ by\ which\ tiebreaks\ are\ broken\ during\ the\ ranking.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01087}01087\ \textcolor{stringliteral}{\ \ \ \ na\_option\ :\ \{'keep',\ 'top'\},\ default\ 'keep'}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01088}01088\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ method\ by\ which\ NaNs\ are\ placed\ in\ the\ ranking.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01089}01089\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ \`{}\`{}keep\`{}\`{}:\ rank\ each\ NaN\ value\ with\ a\ NaN\ ranking}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01090}01090\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/\ \`{}\`{}top\`{}\`{}:\ replace\ each\ NaN\ with\ either\ +/-\/\ inf\ so\ that\ they}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01091}01091\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ there\ are\ ranked\ at\ the\ top}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01092}01092\ \textcolor{stringliteral}{\ \ \ \ ascending\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01093}01093\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Whether\ or\ not\ the\ elements\ should\ be\ ranked\ in\ ascending\ order.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01094}01094\ \textcolor{stringliteral}{\ \ \ \ pct\ :\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01095}01095\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Whether\ or\ not\ to\ the\ display\ the\ returned\ rankings\ in\ integer\ form}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01096}01096\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ (e.g.\ 1,\ 2,\ 3)\ or\ in\ percentile\ form\ (e.g.\ 0.333...,\ 0.666...,\ 1).}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01097}01097\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01098}01098\ \ \ \ \ is\_datetimelike\ =\ needs\_i8\_conversion(values.dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01099}01099\ \ \ \ \ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a874d39e4200cf44ffe3d92f229ffb058}{\_ensure\_data}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01100}01100\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01101}01101\ \ \ \ \ \textcolor{keywordflow}{if}\ values.ndim\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01102}01102\ \ \ \ \ \ \ \ \ ranks\ =\ algos.rank\_1d(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01103}01103\ \ \ \ \ \ \ \ \ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01104}01104\ \ \ \ \ \ \ \ \ \ \ \ \ is\_datetimelike=is\_datetimelike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01105}01105\ \ \ \ \ \ \ \ \ \ \ \ \ ties\_method=method,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01106}01106\ \ \ \ \ \ \ \ \ \ \ \ \ ascending=ascending,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01107}01107\ \ \ \ \ \ \ \ \ \ \ \ \ na\_option=na\_option,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01108}01108\ \ \ \ \ \ \ \ \ \ \ \ \ pct=pct,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01109}01109\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01110}01110\ \ \ \ \ \textcolor{keywordflow}{elif}\ values.ndim\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01111}01111\ \ \ \ \ \ \ \ \ ranks\ =\ algos.rank\_2d(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01112}01112\ \ \ \ \ \ \ \ \ \ \ \ \ values,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01113}01113\ \ \ \ \ \ \ \ \ \ \ \ \ axis=axis,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01114}01114\ \ \ \ \ \ \ \ \ \ \ \ \ is\_datetimelike=is\_datetimelike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01115}01115\ \ \ \ \ \ \ \ \ \ \ \ \ ties\_method=method,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01116}01116\ \ \ \ \ \ \ \ \ \ \ \ \ ascending=ascending,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01117}01117\ \ \ \ \ \ \ \ \ \ \ \ \ na\_option=na\_option,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01118}01118\ \ \ \ \ \ \ \ \ \ \ \ \ pct=pct,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01119}01119\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01120}01120\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01121}01121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(\textcolor{stringliteral}{"{}Array\ with\ ndim\ >\ 2\ are\ not\ supported."{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01122}01122\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01123}01123\ \ \ \ \ \textcolor{keywordflow}{return}\ ranks}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01124}01124\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01125}01125\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01126}01126\ \textcolor{comment}{\#\ -\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01127}01127\ \textcolor{comment}{\#\ take\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01128}01128\ \textcolor{comment}{\#\ -\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01129}01129\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01130}01130\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01131}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6d682c6c7a73b1c0f29ec7f55785a730}{01131}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6d682c6c7a73b1c0f29ec7f55785a730}{take}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01132}01132\ \ \ \ \ arr,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01133}01133\ \ \ \ \ indices:\ TakeIndexer,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01134}01134\ \ \ \ \ axis:\ AxisInt\ =\ 0,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01135}01135\ \ \ \ \ allow\_fill:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01136}01136\ \ \ \ \ fill\_value=\textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01137}01137\ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01138}01138\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01139}01139\ \textcolor{stringliteral}{\ \ \ \ Take\ elements\ from\ an\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01140}01140\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01141}01141\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01142}01142\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01143}01143\ \textcolor{stringliteral}{\ \ \ \ arr\ :\ array-\/like\ or\ scalar\ value}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01144}01144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Non\ array-\/likes\ (sequences/scalars\ without\ a\ dtype)\ are\ coerced}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01145}01145\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ to\ an\ ndarray.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01146}01146\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01147}01147\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ deprecated::\ 2.1.0}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01148}01148\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Passing\ an\ argument\ other\ than\ a\ numpy.ndarray,\ ExtensionArray,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01149}01149\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Index,\ or\ Series\ is\ deprecated.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01150}01150\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01151}01151\ \textcolor{stringliteral}{\ \ \ \ indices\ :\ sequence\ of\ int\ or\ one-\/dimensional\ np.ndarray\ of\ int}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01152}01152\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Indices\ to\ be\ taken.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01153}01153\ \textcolor{stringliteral}{\ \ \ \ axis\ :\ int,\ default\ 0}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01154}01154\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ axis\ over\ which\ to\ select\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01155}01155\ \textcolor{stringliteral}{\ \ \ \ allow\_fill\ :\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01156}01156\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ How\ to\ handle\ negative\ values\ in\ \`{}indices\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01157}01157\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01158}01158\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ False:\ negative\ values\ in\ \`{}indices\`{}\ indicate\ positional\ indices}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01159}01159\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ from\ the\ right\ (the\ default).\ This\ is\ similar\ to\ :func:\`{}numpy.take\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01160}01160\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01161}01161\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ True:\ negative\ values\ in\ \`{}indices\`{}\ indicate}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01162}01162\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ missing\ values.\ These\ values\ are\ set\ to\ \`{}fill\_value\`{}.\ Any\ other}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01163}01163\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ negative\ values\ raise\ a\ \`{}\`{}ValueError\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01164}01164\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01165}01165\ \textcolor{stringliteral}{\ \ \ \ fill\_value\ :\ any,\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01166}01166\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Fill\ value\ to\ use\ for\ NA-\/indices\ when\ \`{}allow\_fill\`{}\ is\ True.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01167}01167\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ may\ be\ \`{}\`{}None\`{}\`{},\ in\ which\ case\ the\ default\ NA\ value\ for}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01168}01168\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ type\ (\`{}\`{}self.dtype.na\_value\`{}\`{})\ is\ used.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01169}01169\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01170}01170\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ For\ multi-\/dimensional\ \`{}arr\`{},\ each\ *element*\ is\ filled\ with}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01171}01171\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}fill\_value\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01172}01172\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01173}01173\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01174}01174\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01175}01175\ \textcolor{stringliteral}{\ \ \ \ ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01176}01176\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Same\ type\ as\ the\ input.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01177}01177\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01178}01178\ \textcolor{stringliteral}{\ \ \ \ Raises}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01179}01179\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01180}01180\ \textcolor{stringliteral}{\ \ \ \ IndexError}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01181}01181\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ When\ \`{}indices\`{}\ is\ out\ of\ bounds\ for\ the\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01182}01182\ \textcolor{stringliteral}{\ \ \ \ ValueError}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01183}01183\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ When\ the\ indexer\ contains\ negative\ values\ other\ than\ \`{}\`{}-\/1\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01184}01184\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ and\ \`{}allow\_fill\`{}\ is\ True.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01185}01185\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01186}01186\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01187}01187\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01188}01188\ \textcolor{stringliteral}{\ \ \ \ When\ \`{}allow\_fill\`{}\ is\ False,\ \`{}indices\`{}\ may\ be\ whatever\ dimensionality}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01189}01189\ \textcolor{stringliteral}{\ \ \ \ is\ accepted\ by\ NumPy\ for\ \`{}arr\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01190}01190\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01191}01191\ \textcolor{stringliteral}{\ \ \ \ When\ \`{}allow\_fill\`{}\ is\ True,\ \`{}indices\`{}\ should\ be\ 1-\/D.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01192}01192\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01193}01193\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01194}01194\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01195}01195\ \textcolor{stringliteral}{\ \ \ \ numpy.take\ :\ Take\ elements\ from\ an\ array\ along\ an\ axis.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01196}01196\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01197}01197\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01198}01198\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01199}01199\ \textcolor{stringliteral}{\ \ \ \ >>>\ import\ pandas\ as\ pd}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01200}01200\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01201}01201\ \textcolor{stringliteral}{\ \ \ \ With\ the\ default\ \`{}\`{}allow\_fill=False\`{}\`{},\ negative\ numbers\ indicate}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01202}01202\ \textcolor{stringliteral}{\ \ \ \ positional\ indices\ from\ the\ right.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01203}01203\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01204}01204\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.api.extensions.take(np.array([10,\ 20,\ 30]),\ [0,\ 0,\ -\/1])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01205}01205\ \textcolor{stringliteral}{\ \ \ \ array([10,\ 10,\ 30])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01206}01206\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01207}01207\ \textcolor{stringliteral}{\ \ \ \ Setting\ \`{}\`{}allow\_fill=True\`{}\`{}\ will\ place\ \`{}fill\_value\`{}\ in\ those\ positions.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01208}01208\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01209}01209\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.api.extensions.take(np.array([10,\ 20,\ 30]),\ [0,\ 0,\ -\/1],\ allow\_fill=True)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01210}01210\ \textcolor{stringliteral}{\ \ \ \ array([10.,\ 10.,\ nan])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01211}01211\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01212}01212\ \textcolor{stringliteral}{\ \ \ \ >>>\ pd.api.extensions.take(np.array([10,\ 20,\ 30]),\ [0,\ 0,\ -\/1],\ allow\_fill=True,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01213}01213\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ fill\_value=-\/10)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01214}01214\ \textcolor{stringliteral}{\ \ \ \ array([\ 10,\ \ 10,\ -\/10])}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01215}01215\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01216}01216\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(arr,\ (np.ndarray,\ ABCExtensionArray,\ ABCIndex,\ ABCSeries)):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01217}01217\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ GH\#52981}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01218}01218\ \ \ \ \ \ \ \ \ warnings.warn(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01219}01219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}pd.api.extensions.take\ accepting\ non-\/standard\ inputs\ is\ deprecated\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01220}01220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}and\ will\ raise\ in\ a\ future\ version.\ Pass\ either\ a\ numpy.ndarray,\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01221}01221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ExtensionArray,\ Index,\ or\ Series\ instead."{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01222}01222\ \ \ \ \ \ \ \ \ \ \ \ \ FutureWarning,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01223}01223\ \ \ \ \ \ \ \ \ \ \ \ \ stacklevel=find\_stack\_level(),}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01224}01224\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01225}01225\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01226}01226\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ is\_array\_like(arr):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01227}01227\ \ \ \ \ \ \ \ \ arr\ =\ np.asarray(arr)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01228}01228\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01229}01229\ \ \ \ \ indices\ =\ ensure\_platform\_int(indices)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01230}01230\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01231}01231\ \ \ \ \ \textcolor{keywordflow}{if}\ allow\_fill:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01232}01232\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Pandas\ style,\ -\/1\ means\ NA}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01233}01233\ \ \ \ \ \ \ \ \ validate\_indices(indices,\ arr.shape[axis])}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01234}01234\ \ \ \ \ \ \ \ \ result\ =\ take\_nd(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01235}01235\ \ \ \ \ \ \ \ \ \ \ \ \ arr,\ indices,\ axis=axis,\ allow\_fill=\textcolor{keyword}{True},\ fill\_value=fill\_value}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01236}01236\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01237}01237\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01238}01238\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ NumPy\ style}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01239}01239\ \ \ \ \ \ \ \ \ result\ =\ arr.take(indices,\ axis=axis)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01240}01240\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01241}01241\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01242}01242\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01243}01243\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01244}01244\ \textcolor{comment}{\#\ searchsorted\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01245}01245\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01246}01246\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01247}01247\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01248}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a3152971b4ded61ba9abc1896e0240334}{01248}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a3152971b4ded61ba9abc1896e0240334}{searchsorted}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01249}01249\ \ \ \ \ arr:\ ArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01250}01250\ \ \ \ \ value:\ NumpyValueArrayLike\ |\ ExtensionArray,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01251}01251\ \ \ \ \ side:\ Literal[\textcolor{stringliteral}{"{}left"{}},\ \textcolor{stringliteral}{"{}right"{}}]\ =\ \textcolor{stringliteral}{"{}left"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01252}01252\ \ \ \ \ sorter:\ NumpySorter\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01253}01253\ )\ -\/>\ npt.NDArray[np.intp]\ |\ np.intp:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01254}01254\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01255}01255\ \textcolor{stringliteral}{\ \ \ \ Find\ indices\ where\ elements\ should\ be\ inserted\ to\ maintain\ order.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01256}01256\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01257}01257\ \textcolor{stringliteral}{\ \ \ \ Find\ the\ indices\ into\ a\ sorted\ array\ \`{}arr\`{}\ (a)\ such\ that,\ if\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01258}01258\ \textcolor{stringliteral}{\ \ \ \ corresponding\ elements\ in\ \`{}value\`{}\ were\ inserted\ before\ the\ indices,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01259}01259\ \textcolor{stringliteral}{\ \ \ \ the\ order\ of\ \`{}arr\`{}\ would\ be\ preserved.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01260}01260\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01261}01261\ \textcolor{stringliteral}{\ \ \ \ Assuming\ that\ \`{}arr\`{}\ is\ sorted:}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01262}01262\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01263}01263\ \textcolor{stringliteral}{\ \ \ \ ======\ \ ================================}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01264}01264\ \textcolor{stringliteral}{\ \ \ \ \`{}side\`{}\ \ returned\ index\ \`{}i\`{}\ satisfies}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01265}01265\ \textcolor{stringliteral}{\ \ \ \ ======\ \ ================================}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01266}01266\ \textcolor{stringliteral}{\ \ \ \ left\ \ \ \ \`{}\`{}arr[i-\/1]\ <\ value\ <=\ self[i]\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01267}01267\ \textcolor{stringliteral}{\ \ \ \ right\ \ \ \`{}\`{}arr[i-\/1]\ <=\ value\ <\ self[i]\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01268}01268\ \textcolor{stringliteral}{\ \ \ \ ======\ \ ================================}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01269}01269\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01270}01270\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01271}01271\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01272}01272\ \textcolor{stringliteral}{\ \ \ \ arr:\ np.ndarray,\ ExtensionArray,\ Series}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01273}01273\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Input\ array.\ If\ \`{}sorter\`{}\ is\ None,\ then\ it\ must\ be\ sorted\ in}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01274}01274\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ascending\ order,\ otherwise\ \`{}sorter\`{}\ must\ be\ an\ array\ of\ indices}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01275}01275\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ that\ sort\ it.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01276}01276\ \textcolor{stringliteral}{\ \ \ \ value\ :\ array-\/like\ or\ scalar}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01277}01277\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Values\ to\ insert\ into\ \`{}arr\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01278}01278\ \textcolor{stringliteral}{\ \ \ \ side\ :\ \{'left',\ 'right'\},\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01279}01279\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ 'left',\ the\ index\ of\ the\ first\ suitable\ location\ found\ is\ given.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01280}01280\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ 'right',\ return\ the\ last\ such\ index.\ \ If\ there\ is\ no\ suitable}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01281}01281\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ index,\ return\ either\ 0\ or\ N\ (where\ N\ is\ the\ length\ of\ \`{}self\`{}).}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01282}01282\ \textcolor{stringliteral}{\ \ \ \ sorter\ :\ 1-\/D\ array-\/like,\ optional}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01283}01283\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Optional\ array\ of\ integer\ indices\ that\ sort\ array\ a\ into\ ascending}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01284}01284\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ order.\ They\ are\ typically\ the\ result\ of\ argsort.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01285}01285\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01286}01286\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01287}01287\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01288}01288\ \textcolor{stringliteral}{\ \ \ \ array\ of\ ints\ or\ int}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01289}01289\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ value\ is\ array-\/like,\ array\ of\ insertion\ points.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01290}01290\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ value\ is\ scalar,\ a\ single\ integer.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01291}01291\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01292}01292\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01293}01293\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01294}01294\ \textcolor{stringliteral}{\ \ \ \ numpy.searchsorted\ :\ Similar\ method\ from\ NumPy.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01295}01295\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01296}01296\ \ \ \ \ \textcolor{keywordflow}{if}\ sorter\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01297}01297\ \ \ \ \ \ \ \ \ sorter\ =\ ensure\_platform\_int(sorter)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01298}01298\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01299}01299\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01300}01300\ \ \ \ \ \ \ \ \ isinstance(arr,\ np.ndarray)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01301}01301\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ arr.dtype.kind\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{"{}iu"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01302}01302\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ (is\_integer(value)\ \textcolor{keywordflow}{or}\ is\_integer\_dtype(value))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01303}01303\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01304}01304\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ \`{}arr`\ and\ \`{}value`\ have\ different\ dtypes,\ \`{}arr`\ would\ be}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01305}01305\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ recast\ by\ numpy,\ causing\ a\ slow\ search.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01306}01306\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Before\ searching\ below,\ we\ therefore\ try\ to\ give\ \`{}value`\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01307}01307\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ same\ dtype\ as\ \`{}arr`,\ while\ guarding\ against\ integer\ overflows.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01308}01308\ \ \ \ \ \ \ \ \ iinfo\ =\ np.iinfo(arr.dtype.type)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01309}01309\ \ \ \ \ \ \ \ \ value\_arr\ =\ np.array([value])\ \textcolor{keywordflow}{if}\ is\_integer(value)\ \textcolor{keywordflow}{else}\ np.array(value)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01310}01310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (value\_arr\ >=\ iinfo.min).all()\ \textcolor{keywordflow}{and}\ (value\_arr\ <=\ iinfo.max).all():}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01311}01311\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ value\ within\ bounds,\ so\ no\ overflow,\ so\ can\ convert\ value\ dtype}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01312}01312\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ to\ dtype\ of\ arr}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01313}01313\ \ \ \ \ \ \ \ \ \ \ \ \ dtype\ =\ arr.dtype}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01314}01314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01315}01315\ \ \ \ \ \ \ \ \ \ \ \ \ dtype\ =\ value\_arr.dtype}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01316}01316\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01317}01317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ is\_integer(value):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01318}01318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ know\ that\ value\ is\ int}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01319}01319\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ cast(int,\ dtype.type(value))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01320}01320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01321}01321\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ pd\_array(cast(ArrayLike,\ value),\ dtype=dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01322}01322\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01323}01323\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ E.g.\ if\ \`{}arr`\ is\ an\ array\ with\ dtype='datetime64[ns]'}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01324}01324\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ and\ \`{}value`\ is\ a\ pd.Timestamp,\ we\ may\ need\ to\ convert\ value}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01325}01325\ \ \ \ \ \ \ \ \ arr\ =\ ensure\_wrapped\_if\_datetimelike(arr)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01326}01326\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01327}01327\ \ \ \ \ \textcolor{comment}{\#\ Argument\ 1\ to\ "{}searchsorted"{}\ of\ "{}ndarray"{}\ has\ incompatible\ type}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01328}01328\ \ \ \ \ \textcolor{comment}{\#\ "{}Union[NumpyValueArrayLike,\ ExtensionArray]"{};\ expected\ "{}NumpyValueArrayLike"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01329}01329\ \ \ \ \ \textcolor{keywordflow}{return}\ arr.searchsorted(value,\ side=side,\ sorter=sorter)\ \ \textcolor{comment}{\#\ type:\ ignore[arg-\/type]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01330}01330\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01331}01331\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01332}01332\ \textcolor{comment}{\#\ -\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01333}01333\ \textcolor{comment}{\#\ diff\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01334}01334\ \textcolor{comment}{\#\ -\/-\/-\/-\/\ \#}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01335}01335\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01336}01336\ \_diff\_special\ =\ \{\textcolor{stringliteral}{"{}float64"{}},\ \textcolor{stringliteral}{"{}float32"{}},\ \textcolor{stringliteral}{"{}int64"{}},\ \textcolor{stringliteral}{"{}int32"{}},\ \textcolor{stringliteral}{"{}int16"{}},\ \textcolor{stringliteral}{"{}int8"{}}\}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01337}01337\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01338}01338\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01339}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa170537782d742582939007a5381c107}{01339}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa170537782d742582939007a5381c107}{diff}}(arr,\ n:\ int,\ axis:\ AxisInt\ =\ 0):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01340}01340\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01341}01341\ \textcolor{stringliteral}{\ \ \ \ difference\ of\ n\ between\ self,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01342}01342\ \textcolor{stringliteral}{\ \ \ \ analogous\ to\ s-\/s.shift(n)}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01343}01343\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01344}01344\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01345}01345\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01346}01346\ \textcolor{stringliteral}{\ \ \ \ arr\ :\ ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01347}01347\ \textcolor{stringliteral}{\ \ \ \ n\ :\ int}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01348}01348\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ number\ of\ periods}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01349}01349\ \textcolor{stringliteral}{\ \ \ \ axis\ :\ \{0,\ 1\}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01350}01350\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ axis\ to\ shift\ on}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01351}01351\ \textcolor{stringliteral}{\ \ \ \ stacklevel\ :\ int,\ default\ 3}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01352}01352\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ stacklevel\ for\ the\ lost\ dtype\ warning.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01353}01353\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01354}01354\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01355}01355\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01356}01356\ \textcolor{stringliteral}{\ \ \ \ shifted}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01357}01357\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01358}01358\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01359}01359\ \ \ \ \ n\ =\ int(n)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01360}01360\ \ \ \ \ na\ =\ np.nan}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01361}01361\ \ \ \ \ dtype\ =\ arr.dtype}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01362}01362\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01363}01363\ \ \ \ \ is\_bool\ =\ is\_bool\_dtype(dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01364}01364\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_bool:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01365}01365\ \ \ \ \ \ \ \ \ op\ =\ operator.xor}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01366}01366\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01367}01367\ \ \ \ \ \ \ \ \ op\ =\ operator.sub}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01368}01368\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01369}01369\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(dtype,\ NumpyEADtype):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01370}01370\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ NumpyExtensionArray\ cannot\ necessarily\ hold\ shifted\ versions\ of\ itself.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01371}01371\ \ \ \ \ \ \ \ \ arr\ =\ arr.to\_numpy()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01372}01372\ \ \ \ \ \ \ \ \ dtype\ =\ arr.dtype}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01373}01373\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01374}01374\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(arr,\ np.ndarray):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01375}01375\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ i.e\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01376}01376\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(arr,\ f\textcolor{stringliteral}{"{}\_\_\{op.\_\_name\_\_\}\_\_"{}}):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01377}01377\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ axis\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01378}01378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(f\textcolor{stringliteral}{"{}cannot\ diff\ \{type(arr).\_\_name\_\_\}\ on\ axis=\{axis\}"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01379}01379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ op(arr,\ arr.shift(n))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01380}01380\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01381}01381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01382}01382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{type(arr).\_\_name\_\_\}\ has\ no\ 'diff'\ method.\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01383}01383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Convert\ to\ a\ suitable\ dtype\ prior\ to\ calling\ 'diff'."{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01384}01384\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01385}01385\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01386}01386\ \ \ \ \ is\_timedelta\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01387}01387\ \ \ \ \ \textcolor{keywordflow}{if}\ arr.dtype.kind\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{"{}mM"{}}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01388}01388\ \ \ \ \ \ \ \ \ dtype\ =\ np.int64}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01389}01389\ \ \ \ \ \ \ \ \ arr\ =\ arr.view(\textcolor{stringliteral}{"{}i8"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01390}01390\ \ \ \ \ \ \ \ \ na\ =\ iNaT}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01391}01391\ \ \ \ \ \ \ \ \ is\_timedelta\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01392}01392\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01393}01393\ \ \ \ \ \textcolor{keywordflow}{elif}\ is\_bool:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01394}01394\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ have\ to\ cast\ in\ order\ to\ be\ able\ to\ hold\ np.nan}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01395}01395\ \ \ \ \ \ \ \ \ dtype\ =\ np.object\_}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01396}01396\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01397}01397\ \ \ \ \ \textcolor{keywordflow}{elif}\ dtype.kind\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{"{}iu"{}}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01398}01398\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ have\ to\ cast\ in\ order\ to\ be\ able\ to\ hold\ np.nan}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01399}01399\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01400}01400\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ int8,\ int16\ are\ incompatible\ with\ float64,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01401}01401\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ see\ https://github.com/cython/cython/issues/2646}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01402}01402\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ arr.dtype.name\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}int8"{}},\ \textcolor{stringliteral}{"{}int16"{}}]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01403}01403\ \ \ \ \ \ \ \ \ \ \ \ \ dtype\ =\ np.float32}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01404}01404\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01405}01405\ \ \ \ \ \ \ \ \ \ \ \ \ dtype\ =\ np.float64}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01406}01406\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01407}01407\ \ \ \ \ orig\_ndim\ =\ arr.ndim}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01408}01408\ \ \ \ \ \textcolor{keywordflow}{if}\ orig\_ndim\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01409}01409\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ reshape\ so\ we\ can\ always\ use\ algos.diff\_2d}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01410}01410\ \ \ \ \ \ \ \ \ arr\ =\ arr.reshape(-\/1,\ 1)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01411}01411\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TODO:\ require\ axis\ ==\ 0}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01412}01412\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01413}01413\ \ \ \ \ dtype\ =\ np.dtype(dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01414}01414\ \ \ \ \ out\_arr\ =\ np.empty(arr.shape,\ dtype=dtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01415}01415\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01416}01416\ \ \ \ \ na\_indexer\ =\ [slice(\textcolor{keywordtype}{None})]\ *\ 2}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01417}01417\ \ \ \ \ na\_indexer[axis]\ =\ slice(\textcolor{keywordtype}{None},\ n)\ \textcolor{keywordflow}{if}\ n\ >=\ 0\ \textcolor{keywordflow}{else}\ slice(n,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01418}01418\ \ \ \ \ out\_arr[tuple(na\_indexer)]\ =\ na}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01419}01419\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01420}01420\ \ \ \ \ \textcolor{keywordflow}{if}\ arr.dtype.name\ \textcolor{keywordflow}{in}\ \_diff\_special:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01421}01421\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TODO:\ can\ diff\_2d\ dtype\ specialization\ troubles\ be\ fixed\ by\ defining}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01422}01422\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ out\_arr\ inside\ diff\_2d?}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01423}01423\ \ \ \ \ \ \ \ \ algos.diff\_2d(arr,\ out\_arr,\ n,\ axis,\ datetimelike=is\_timedelta)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01424}01424\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01425}01425\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ To\ keep\ mypy\ happy,\ \_res\_indexer\ is\ a\ list\ while\ res\_indexer\ is}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01426}01426\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ a\ tuple,\ ditto\ for\ lag\_indexer.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01427}01427\ \ \ \ \ \ \ \ \ \_res\_indexer\ =\ [slice(\textcolor{keywordtype}{None})]\ *\ 2}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01428}01428\ \ \ \ \ \ \ \ \ \_res\_indexer[axis]\ =\ slice(n,\ \textcolor{keywordtype}{None})\ \textcolor{keywordflow}{if}\ n\ >=\ 0\ \textcolor{keywordflow}{else}\ slice(\textcolor{keywordtype}{None},\ n)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01429}01429\ \ \ \ \ \ \ \ \ res\_indexer\ =\ tuple(\_res\_indexer)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01430}01430\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01431}01431\ \ \ \ \ \ \ \ \ \_lag\_indexer\ =\ [slice(\textcolor{keywordtype}{None})]\ *\ 2}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01432}01432\ \ \ \ \ \ \ \ \ \_lag\_indexer[axis]\ =\ slice(\textcolor{keywordtype}{None},\ -\/n)\ \textcolor{keywordflow}{if}\ n\ >\ 0\ \textcolor{keywordflow}{else}\ slice(-\/n,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01433}01433\ \ \ \ \ \ \ \ \ lag\_indexer\ =\ tuple(\_lag\_indexer)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01434}01434\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01435}01435\ \ \ \ \ \ \ \ \ out\_arr[res\_indexer]\ =\ op(arr[res\_indexer],\ arr[lag\_indexer])}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01436}01436\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01437}01437\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_timedelta:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01438}01438\ \ \ \ \ \ \ \ \ out\_arr\ =\ out\_arr.view(\textcolor{stringliteral}{"{}timedelta64[ns]"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01439}01439\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01440}01440\ \ \ \ \ \textcolor{keywordflow}{if}\ orig\_ndim\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01441}01441\ \ \ \ \ \ \ \ \ out\_arr\ =\ out\_arr[:,\ 0]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01442}01442\ \ \ \ \ \textcolor{keywordflow}{return}\ out\_arr}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01443}01443\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01444}01444\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01445}01445\ \textcolor{comment}{\#\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01446}01446\ \textcolor{comment}{\#\ Helper\ functions}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01447}01447\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01448}01448\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01449}01449\ \textcolor{comment}{\#\ Note:\ safe\_sort\ is\ in\ algorithms.py\ instead\ of\ sorting.py\ because\ it\ is}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01450}01450\ \textcolor{comment}{\#\ \ low-\/dependency,\ is\ used\ in\ this\ module,\ and\ used\ private\ methods\ from}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01451}01451\ \textcolor{comment}{\#\ \ this\ module.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01452}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa3884e0c8777c346895692d3c0a815c8}{01452}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aa3884e0c8777c346895692d3c0a815c8}{safe\_sort}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01453}01453\ \ \ \ \ values:\ Index\ |\ ArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01454}01454\ \ \ \ \ codes:\ npt.NDArray[np.intp]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01455}01455\ \ \ \ \ use\_na\_sentinel:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01456}01456\ \ \ \ \ assume\_unique:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01457}01457\ \ \ \ \ verify:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01458}01458\ )\ -\/>\ AnyArrayLike\ |\ tuple[AnyArrayLike,\ np.ndarray]:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01459}01459\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01460}01460\ \textcolor{stringliteral}{\ \ \ \ Sort\ \`{}\`{}values\`{}\`{}\ and\ reorder\ corresponding\ \`{}\`{}codes\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01461}01461\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01462}01462\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}values\`{}\`{}\ should\ be\ unique\ if\ \`{}\`{}codes\`{}\`{}\ is\ not\ None.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01463}01463\ \textcolor{stringliteral}{\ \ \ \ Safe\ for\ use\ with\ mixed\ types\ (int,\ str),\ orders\ ints\ before\ strs.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01464}01464\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01465}01465\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01466}01466\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01467}01467\ \textcolor{stringliteral}{\ \ \ \ values\ :\ list-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01468}01468\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sequence;\ must\ be\ unique\ if\ \`{}\`{}codes\`{}\`{}\ is\ not\ None.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01469}01469\ \textcolor{stringliteral}{\ \ \ \ codes\ :\ np.ndarray[intp]\ or\ None,\ default\ None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01470}01470\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Indices\ to\ \`{}\`{}values\`{}\`{}.\ All\ out\ of\ bound\ indices\ are\ treated\ as}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01471}01471\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}not\ found"{}\ and\ will\ be\ masked\ with\ \`{}\`{}-\/1\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01472}01472\ \textcolor{stringliteral}{\ \ \ \ use\_na\_sentinel\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01473}01473\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ True,\ the\ sentinel\ -\/1\ will\ be\ used\ for\ NaN\ values.\ If\ False,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01474}01474\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NaN\ values\ will\ be\ encoded\ as\ non-\/negative\ integers\ and\ will\ not\ drop\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01475}01475\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ NaN\ from\ the\ uniques\ of\ the\ values.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01476}01476\ \textcolor{stringliteral}{\ \ \ \ assume\_unique\ :\ bool,\ default\ False}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01477}01477\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ When\ True,\ \`{}\`{}values\`{}\`{}\ are\ assumed\ to\ be\ unique,\ which\ can\ speed\ up}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01478}01478\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ calculation.\ Ignored\ when\ \`{}\`{}codes\`{}\`{}\ is\ None.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01479}01479\ \textcolor{stringliteral}{\ \ \ \ verify\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01480}01480\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Check\ if\ codes\ are\ out\ of\ bound\ for\ the\ values\ and\ put\ out\ of\ bound}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01481}01481\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ codes\ equal\ to\ \`{}\`{}-\/1\`{}\`{}.\ If\ \`{}\`{}verify=False\`{}\`{},\ it\ is\ assumed\ there}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01482}01482\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ are\ no\ out\ of\ bound\ codes.\ Ignored\ when\ \`{}\`{}codes\`{}\`{}\ is\ None.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01483}01483\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01484}01484\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01485}01485\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01486}01486\ \textcolor{stringliteral}{\ \ \ \ ordered\ :\ AnyArrayLike}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01487}01487\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sorted\ \`{}\`{}values\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01488}01488\ \textcolor{stringliteral}{\ \ \ \ new\_codes\ :\ ndarray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01489}01489\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Reordered\ \`{}\`{}codes\`{}\`{};\ returned\ when\ \`{}\`{}codes\`{}\`{}\ is\ not\ None.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01490}01490\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01491}01491\ \textcolor{stringliteral}{\ \ \ \ Raises}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01492}01492\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01493}01493\ \textcolor{stringliteral}{\ \ \ \ TypeError}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01494}01494\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ If\ \`{}\`{}values\`{}\`{}\ is\ not\ list-\/like\ or\ if\ \`{}\`{}codes\`{}\`{}\ is\ neither\ None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01495}01495\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ nor\ list-\/like}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01496}01496\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ If\ \`{}\`{}values\`{}\`{}\ cannot\ be\ sorted}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01497}01497\ \textcolor{stringliteral}{\ \ \ \ ValueError}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01498}01498\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ *\ If\ \`{}\`{}codes\`{}\`{}\ is\ not\ None\ and\ \`{}\`{}values\`{}\`{}\ contain\ duplicates.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01499}01499\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01500}01500\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(values,\ (np.ndarray,\ ABCExtensionArray,\ ABCIndex)):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01501}01501\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01502}01502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Only\ np.ndarray,\ ExtensionArray,\ and\ Index\ objects\ are\ allowed\ to\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01503}01503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}be\ passed\ to\ safe\_sort\ as\ values"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01504}01504\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01505}01505\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01506}01506\ \ \ \ \ sorter\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01507}01507\ \ \ \ \ ordered:\ AnyArrayLike}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01508}01508\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01509}01509\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01510}01510\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{not}\ isinstance(values.dtype,\ ExtensionDtype)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01511}01511\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ lib.infer\_dtype(values,\ skipna=\textcolor{keyword}{False})\ ==\ \textcolor{stringliteral}{"{}mixed-\/integer"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01512}01512\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01513}01513\ \ \ \ \ \ \ \ \ ordered\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_acc11c0ed2de5b98c23a64bf9be8740d4}{\_sort\_mixed}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01514}01514\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01515}01515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01516}01516\ \ \ \ \ \ \ \ \ \ \ \ \ sorter\ =\ values.argsort()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01517}01517\ \ \ \ \ \ \ \ \ \ \ \ \ ordered\ =\ values.take(sorter)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01518}01518\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (TypeError,\ decimal.InvalidOperation):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01519}01519\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Previous\ sorters\ failed\ or\ were\ not\ applicable,\ try\ \`{}\_sort\_mixed`}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01520}01520\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ which\ would\ work,\ but\ which\ fails\ for\ special\ case\ of\ 1d\ arrays}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01521}01521\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ with\ tuples.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01522}01522\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ values.size\ \textcolor{keywordflow}{and}\ isinstance(values[0],\ tuple):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01523}01523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ error:\ Argument\ 1\ to\ "{}\_sort\_tuples"{}\ has\ incompatible\ type}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01524}01524\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ "{}Union[Index,\ ExtensionArray,\ ndarray[Any,\ Any]]"{};\ expected}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01525}01525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ "{}ndarray[Any,\ Any]"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01526}01526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ordered\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6f88e5d9f7af9bfb781a06cfa4b2fbff}{\_sort\_tuples}}(values)\ \ \textcolor{comment}{\#\ type:\ ignore[arg-\/type]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01527}01527\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01528}01528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ordered\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_acc11c0ed2de5b98c23a64bf9be8740d4}{\_sort\_mixed}}(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01529}01529\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01530}01530\ \ \ \ \ \textcolor{comment}{\#\ codes:}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01531}01531\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01532}01532\ \ \ \ \ \textcolor{keywordflow}{if}\ codes\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01533}01533\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ordered}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01534}01534\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01535}01535\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ is\_list\_like(codes):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01536}01536\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01537}01537\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Only\ list-\/like\ objects\ or\ None\ are\ allowed\ to\ "{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01538}01538\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}be\ passed\ to\ safe\_sort\ as\ codes"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01539}01539\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01540}01540\ \ \ \ \ codes\ =\ ensure\_platform\_int(np.asarray(codes))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01541}01541\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01542}01542\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ assume\_unique\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ len(\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aaf2a16f208025c0e7ed8cba4fdf45489}{unique}}(values))\ ==\ len(values):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01543}01543\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}values\ should\ be\ unique\ if\ codes\ is\ not\ None"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01544}01544\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01545}01545\ \ \ \ \ \textcolor{keywordflow}{if}\ sorter\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01546}01546\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ mixed\ types}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01547}01547\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ error:\ Argument\ 1\ to\ "{}\_get\_hashtable\_algo"{}\ has\ incompatible\ type}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01548}01548\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ "{}Union[Index,\ ExtensionArray,\ ndarray[Any,\ Any]]"{};\ expected}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01549}01549\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ "{}ndarray[Any,\ Any]"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01550}01550\ \ \ \ \ \ \ \ \ hash\_klass,\ values\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a42c1f2997367be47d8e23ab79fb93c98}{\_get\_hashtable\_algo}}(values)\ \ \textcolor{comment}{\#\ type:\ ignore[arg-\/type]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01551}01551\ \ \ \ \ \ \ \ \ t\ =\ hash\_klass(len(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01552}01552\ \ \ \ \ \ \ \ \ t.map\_locations(values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01553}01553\ \ \ \ \ \ \ \ \ sorter\ =\ ensure\_platform\_int(t.lookup(ordered))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01554}01554\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01555}01555\ \ \ \ \ \textcolor{keywordflow}{if}\ use\_na\_sentinel:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01556}01556\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ take\_nd\ is\ faster,\ but\ only\ works\ for\ na\_sentinels\ of\ -\/1}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01557}01557\ \ \ \ \ \ \ \ \ order2\ =\ sorter.argsort()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01558}01558\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ verify:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01559}01559\ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ (codes\ <\ -\/len(values))\ |\ (codes\ >=\ len(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01560}01560\ \ \ \ \ \ \ \ \ \ \ \ \ codes[mask]\ =\ 0}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01561}01561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01562}01562\ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01563}01563\ \ \ \ \ \ \ \ \ new\_codes\ =\ take\_nd(order2,\ codes,\ fill\_value=-\/1)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01564}01564\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01565}01565\ \ \ \ \ \ \ \ \ reverse\_indexer\ =\ np.empty(len(sorter),\ dtype=int)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01566}01566\ \ \ \ \ \ \ \ \ reverse\_indexer.put(sorter,\ np.arange(len(sorter)))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01567}01567\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Out\ of\ bound\ indices\ will\ be\ masked\ with\ \`{}-\/1`\ next,\ so\ we}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01568}01568\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ may\ deal\ with\ them\ here\ without\ performance\ loss\ using\ \`{}mode='wrap'`}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01569}01569\ \ \ \ \ \ \ \ \ new\_codes\ =\ reverse\_indexer.take(codes,\ mode=\textcolor{stringliteral}{"{}wrap"{}})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01570}01570\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01571}01571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ use\_na\_sentinel:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01572}01572\ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ codes\ ==\ -\/1}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01573}01573\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ verify:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01574}01574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask\ =\ mask\ |\ (codes\ <\ -\/len(values))\ |\ (codes\ >=\ len(values))}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01575}01575\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01576}01576\ \ \ \ \ \textcolor{keywordflow}{if}\ use\_na\_sentinel\ \textcolor{keywordflow}{and}\ mask\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01577}01577\ \ \ \ \ \ \ \ \ np.putmask(new\_codes,\ mask,\ -\/1)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01578}01578\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01579}01579\ \ \ \ \ \textcolor{keywordflow}{return}\ ordered,\ ensure\_platform\_int(new\_codes)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01580}01580\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01581}01581\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01582}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_acc11c0ed2de5b98c23a64bf9be8740d4}{01582}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_acc11c0ed2de5b98c23a64bf9be8740d4}{\_sort\_mixed}}(values)\ -\/>\ AnyArrayLike:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01583}01583\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}order\ ints\ before\ strings\ before\ nulls\ in\ 1d\ arrays"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01584}01584\ \ \ \ \ str\_pos\ =\ np.array([isinstance(x,\ str)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ values],\ dtype=bool)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01585}01585\ \ \ \ \ null\_pos\ =\ np.array([isna(x)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ values],\ dtype=bool)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01586}01586\ \ \ \ \ num\_pos\ =\ \string~str\_pos\ \&\ \string~null\_pos}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01587}01587\ \ \ \ \ str\_argsort\ =\ np.argsort(values[str\_pos])}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01588}01588\ \ \ \ \ num\_argsort\ =\ np.argsort(values[num\_pos])}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01589}01589\ \ \ \ \ \textcolor{comment}{\#\ convert\ boolean\ arrays\ to\ positional\ indices,\ then\ order\ by\ underlying\ values}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01590}01590\ \ \ \ \ str\_locs\ =\ str\_pos.nonzero()[0].\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6d682c6c7a73b1c0f29ec7f55785a730}{take}}(str\_argsort)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01591}01591\ \ \ \ \ num\_locs\ =\ num\_pos.nonzero()[0].\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6d682c6c7a73b1c0f29ec7f55785a730}{take}}(num\_argsort)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01592}01592\ \ \ \ \ null\_locs\ =\ null\_pos.nonzero()[0]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01593}01593\ \ \ \ \ locs\ =\ np.concatenate([num\_locs,\ str\_locs,\ null\_locs])}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01594}01594\ \ \ \ \ \textcolor{keywordflow}{return}\ values.take(locs)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01595}01595\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01596}01596\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01597}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6f88e5d9f7af9bfb781a06cfa4b2fbff}{01597}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a6f88e5d9f7af9bfb781a06cfa4b2fbff}{\_sort\_tuples}}(values:\ np.ndarray)\ -\/>\ np.ndarray:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01598}01598\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01599}01599\ \textcolor{stringliteral}{\ \ \ \ Convert\ array\ of\ tuples\ (1d)\ to\ array\ of\ arrays\ (2d).}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01600}01600\ \textcolor{stringliteral}{\ \ \ \ We\ need\ to\ keep\ the\ columns\ separately\ as\ they\ contain\ different\ types\ and}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01601}01601\ \textcolor{stringliteral}{\ \ \ \ nans\ (can't\ use\ \`{}np.sort\`{}\ as\ it\ may\ fail\ when\ str\ and\ nan\ are\ mixed\ in\ a}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01602}01602\ \textcolor{stringliteral}{\ \ \ \ column\ as\ types\ cannot\ be\ compared).}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01603}01603\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01604}01604\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1internals_1_1construction}{pandas.core.internals.construction}}\ \textcolor{keyword}{import}\ to\_arrays}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01605}01605\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepandas_1_1core_1_1sorting}{pandas.core.sorting}}\ \textcolor{keyword}{import}\ lexsort\_indexer}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01606}01606\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01607}01607\ \ \ \ \ arrays,\ \_\ =\ to\_arrays(values,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01608}01608\ \ \ \ \ indexer\ =\ lexsort\_indexer(arrays,\ orders=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01609}01609\ \ \ \ \ \textcolor{keywordflow}{return}\ values[indexer]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01610}01610\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01611}01611\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01612}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_ab6f295332bc708fb24ea229930e711b3}{01612}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_ab6f295332bc708fb24ea229930e711b3}{union\_with\_duplicates}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01613}01613\ \ \ \ \ lvals:\ ArrayLike\ |\ Index,\ rvals:\ ArrayLike\ |\ Index}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01614}01614\ )\ -\/>\ ArrayLike\ |\ Index:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01615}01615\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01616}01616\ \textcolor{stringliteral}{\ \ \ \ Extracts\ the\ union\ from\ lvals\ and\ rvals\ with\ respect\ to\ duplicates\ and\ nans\ in}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01617}01617\ \textcolor{stringliteral}{\ \ \ \ both\ arrays.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01618}01618\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01619}01619\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01620}01620\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01621}01621\ \textcolor{stringliteral}{\ \ \ \ lvals:\ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01622}01622\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ left\ values\ which\ is\ ordered\ in\ front.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01623}01623\ \textcolor{stringliteral}{\ \ \ \ rvals:\ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01624}01624\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ right\ values\ ordered\ after\ lvals.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01625}01625\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01626}01626\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01627}01627\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01628}01628\ \textcolor{stringliteral}{\ \ \ \ np.ndarray\ or\ ExtensionArray}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01629}01629\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Containing\ the\ unsorted\ union\ of\ both\ arrays.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01630}01630\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01631}01631\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01632}01632\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01633}01633\ \textcolor{stringliteral}{\ \ \ \ Caller\ is\ responsible\ for\ ensuring\ lvals.dtype\ ==\ rvals.dtype.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01634}01634\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01635}01635\ \ \ \ \ \textcolor{keyword}{from}\ pandas\ \textcolor{keyword}{import}\ Series}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01636}01636\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01637}01637\ \ \ \ \ \textcolor{keyword}{with}\ warnings.catch\_warnings():}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01638}01638\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ filter\ warning\ from\ object\ dtype\ inference;\ we\ will\ end\ up\ discarding}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01639}01639\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ index\ here,\ so\ the\ deprecation\ does\ not\ affect\ the\ end\ result\ here.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01640}01640\ \ \ \ \ \ \ \ \ warnings.filterwarnings(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01641}01641\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ignore"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01642}01642\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ behavior\ of\ value\_counts\ with\ object-\/dtype\ is\ deprecated"{}},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01643}01643\ \ \ \ \ \ \ \ \ \ \ \ \ category=FutureWarning,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01644}01644\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01645}01645\ \ \ \ \ \ \ \ \ l\_count\ =\ value\_counts\_internal(lvals,\ dropna=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01646}01646\ \ \ \ \ \ \ \ \ r\_count\ =\ value\_counts\_internal(rvals,\ dropna=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01647}01647\ \ \ \ \ l\_count,\ r\_count\ =\ l\_count.align(r\_count,\ fill\_value=0)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01648}01648\ \ \ \ \ final\_count\ =\ np.maximum(l\_count.values,\ r\_count.values)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01649}01649\ \ \ \ \ final\_count\ =\ Series(final\_count,\ index=l\_count.index,\ dtype=\textcolor{stringliteral}{"{}int"{}},\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01650}01650\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(lvals,\ ABCMultiIndex)\ \textcolor{keywordflow}{and}\ isinstance(rvals,\ ABCMultiIndex):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01651}01651\ \ \ \ \ \ \ \ \ unique\_vals\ =\ lvals.append(rvals).\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aaf2a16f208025c0e7ed8cba4fdf45489}{unique}}()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01652}01652\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01653}01653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(lvals,\ ABCIndex):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01654}01654\ \ \ \ \ \ \ \ \ \ \ \ \ lvals\ =\ lvals.\_values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01655}01655\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(rvals,\ ABCIndex):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01656}01656\ \ \ \ \ \ \ \ \ \ \ \ \ rvals\ =\ rvals.\_values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01657}01657\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ error:\ List\ item\ 0\ has\ incompatible\ type\ "{}Union[ExtensionArray,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01658}01658\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ndarray[Any,\ Any],\ Index]"{};\ expected\ "{}Union[ExtensionArray,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01659}01659\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ndarray[Any,\ Any]]"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01660}01660\ \ \ \ \ \ \ \ \ combined\ =\ concat\_compat([lvals,\ rvals])\ \ \textcolor{comment}{\#\ type:\ ignore[list-\/item]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01661}01661\ \ \ \ \ \ \ \ \ unique\_vals\ =\ \mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_aaf2a16f208025c0e7ed8cba4fdf45489}{unique}}(combined)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01662}01662\ \ \ \ \ \ \ \ \ unique\_vals\ =\ ensure\_wrapped\_if\_datetimelike(unique\_vals)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01663}01663\ \ \ \ \ repeats\ =\ final\_count.reindex(unique\_vals).values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01664}01664\ \ \ \ \ \textcolor{keywordflow}{return}\ np.repeat(unique\_vals,\ repeats)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01665}01665\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01666}01666\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01667}\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a90909b006eb314c5e14f993b86001b5f}{01667}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepandas_1_1core_1_1algorithms_a90909b006eb314c5e14f993b86001b5f}{map\_array}}(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01668}01668\ \ \ \ \ arr:\ ArrayLike,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01669}01669\ \ \ \ \ mapper,}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01670}01670\ \ \ \ \ na\_action:\ Literal[\textcolor{stringliteral}{"{}ignore"{}}]\ |\ \textcolor{keywordtype}{None}\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01671}01671\ \ \ \ \ convert:\ bool\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01672}01672\ )\ -\/>\ np.ndarray\ |\ ExtensionArray\ |\ Index:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01673}01673\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01674}01674\ \textcolor{stringliteral}{\ \ \ \ Map\ values\ using\ an\ input\ mapping\ or\ function.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01675}01675\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01676}01676\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01677}01677\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01678}01678\ \textcolor{stringliteral}{\ \ \ \ mapper\ :\ function,\ dict,\ or\ Series}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01679}01679\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Mapping\ correspondence.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01680}01680\ \textcolor{stringliteral}{\ \ \ \ na\_action\ :\ \{None,\ 'ignore'\},\ default\ None}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01681}01681\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ 'ignore',\ propagate\ NA\ values,\ without\ passing\ them\ to\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01682}01682\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ mapping\ correspondence.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01683}01683\ \textcolor{stringliteral}{\ \ \ \ convert\ :\ bool,\ default\ True}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01684}01684\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Try\ to\ find\ better\ dtype\ for\ elementwise\ function\ results.\ If}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01685}01685\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ False,\ leave\ as\ dtype=object.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01686}01686\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01687}01687\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01688}01688\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01689}01689\ \textcolor{stringliteral}{\ \ \ \ Union[ndarray,\ Index,\ ExtensionArray]}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01690}01690\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ output\ of\ the\ mapping\ function\ applied\ to\ the\ array.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01691}01691\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ the\ function\ returns\ a\ tuple\ with\ more\ than\ one\ element}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01692}01692\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ a\ MultiIndex\ will\ be\ returned.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01693}01693\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01694}01694\ \ \ \ \ \textcolor{keywordflow}{if}\ na\_action\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ (\textcolor{keywordtype}{None},\ \textcolor{stringliteral}{"{}ignore"{}}):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01695}01695\ \ \ \ \ \ \ \ \ msg\ =\ f\textcolor{stringliteral}{"{}na\_action\ must\ either\ be\ 'ignore'\ or\ None,\ \{na\_action\}\ was\ passed"{}}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01696}01696\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(msg)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01697}01697\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01698}01698\ \ \ \ \ \textcolor{comment}{\#\ we\ can\ fastpath\ dict/Series\ to\ an\ efficient\ map}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01699}01699\ \ \ \ \ \textcolor{comment}{\#\ as\ we\ know\ that\ we\ are\ not\ going\ to\ have\ to\ yield}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01700}01700\ \ \ \ \ \textcolor{comment}{\#\ python\ types}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01701}01701\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_dict\_like(mapper):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01702}01702\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(mapper,\ dict)\ \textcolor{keywordflow}{and}\ hasattr(mapper,\ \textcolor{stringliteral}{"{}\_\_missing\_\_"{}}):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01703}01703\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ a\ dictionary\ subclass\ defines\ a\ default\ value\ method,}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01704}01704\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ convert\ mapper\ to\ a\ lookup\ function\ (GH\ \#15999).}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01705}01705\ \ \ \ \ \ \ \ \ \ \ \ \ dict\_with\_default\ =\ mapper}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01706}01706\ \ \ \ \ \ \ \ \ \ \ \ \ mapper\ =\ \textcolor{keyword}{lambda}\ x:\ dict\_with\_default[}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01707}01707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ np.nan\ \textcolor{keywordflow}{if}\ isinstance(x,\ float)\ \textcolor{keywordflow}{and}\ np.isnan(x)\ \textcolor{keywordflow}{else}\ x}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01708}01708\ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01709}01709\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01710}01710\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Dictionary\ does\ not\ have\ a\ default.\ Thus\ it's\ safe\ to}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01711}01711\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ convert\ to\ an\ Series\ for\ efficiency.}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01712}01712\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ we\ specify\ the\ keys\ here\ to\ handle\ the}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01713}01713\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ possibility\ that\ they\ are\ tuples}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01714}01714\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01715}01715\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ The\ return\ value\ of\ mapping\ with\ an\ empty\ mapper\ is}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01716}01716\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ expected\ to\ be\ pd.Series(np.nan,\ ...).\ As\ np.nan\ is}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01717}01717\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ of\ dtype\ float64\ the\ return\ value\ of\ this\ method\ should}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01718}01718\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ be\ float64\ as\ well}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01719}01719\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ pandas\ \textcolor{keyword}{import}\ Series}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01720}01720\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01721}01721\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(mapper)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01722}01722\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mapper\ =\ Series(mapper,\ dtype=np.float64)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01723}01723\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01724}01724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mapper\ =\ Series(mapper)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01725}01725\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01726}01726\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(mapper,\ ABCSeries):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01727}01727\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ na\_action\ ==\ \textcolor{stringliteral}{"{}ignore"{}}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01728}01728\ \ \ \ \ \ \ \ \ \ \ \ \ mapper\ =\ mapper[mapper.index.notna()]}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01729}01729\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01730}01730\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Since\ values\ were\ input\ this\ means\ we\ came\ from\ either}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01731}01731\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ a\ dict\ or\ a\ series\ and\ mapper\ should\ be\ an\ index}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01732}01732\ \ \ \ \ \ \ \ \ indexer\ =\ mapper.index.get\_indexer(arr)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01733}01733\ \ \ \ \ \ \ \ \ new\_values\ =\ take\_nd(mapper.\_values,\ indexer)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01734}01734\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01735}01735\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ new\_values}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01736}01736\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01737}01737\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ len(arr):}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01738}01738\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ arr.copy()}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01739}01739\ }
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01740}01740\ \ \ \ \ \textcolor{comment}{\#\ we\ must\ convert\ to\ python\ types}}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01741}01741\ \ \ \ \ values\ =\ arr.astype(object,\ copy=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01742}01742\ \ \ \ \ \textcolor{keywordflow}{if}\ na\_action\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01743}01743\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib.map\_infer(values,\ mapper,\ convert=convert)}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01744}01744\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01745}01745\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib.map\_infer\_mask(}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01746}01746\ \ \ \ \ \ \ \ \ \ \ \ \ values,\ mapper,\ mask=isna(values).view(np.uint8),\ convert=convert}
\DoxyCodeLine{\Hypertarget{algorithms_8py_source_l01747}01747\ \ \ \ \ \ \ \ \ )}

\end{DoxyCode}
