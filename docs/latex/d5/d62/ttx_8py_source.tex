\doxysection{ttx.\+py}
\hypertarget{ttx_8py_source}{}\label{ttx_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/ttx.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/ttx.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00001}\mbox{\hyperlink{namespacefontTools_1_1ttx}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00002}00002\ \textcolor{stringliteral}{usage:\ ttx\ [options]\ inputfile1\ [...\ inputfileN]}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00003}00003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00004}00004\ \textcolor{stringliteral}{TTX\ -\/-\/\ From\ OpenType\ To\ XML\ And\ Back}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00005}00005\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00006}00006\ \textcolor{stringliteral}{If\ an\ input\ file\ is\ a\ TrueType\ or\ OpenType\ font\ file,\ it\ will\ be}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00007}00007\ \textcolor{stringliteral}{decompiled\ to\ a\ TTX\ file\ (an\ XML-\/based\ text\ format).}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00008}00008\ \textcolor{stringliteral}{If\ an\ input\ file\ is\ a\ TTX\ file,\ it\ will\ be\ compiled\ to\ whatever}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00009}00009\ \textcolor{stringliteral}{format\ the\ data\ is\ in,\ a\ TrueType\ or\ OpenType/CFF\ font\ file.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00010}00010\ \textcolor{stringliteral}{A\ special\ input\ value\ of\ -\/\ means\ read\ from\ the\ standard\ input.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00011}00011\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00012}00012\ \textcolor{stringliteral}{Output\ files\ are\ created\ so\ they\ are\ unique:\ an\ existing\ file\ is}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00013}00013\ \textcolor{stringliteral}{never\ overwritten.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00014}00014\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00015}00015\ \textcolor{stringliteral}{General\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00016}00016\ \textcolor{stringliteral}{===============}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00017}00017\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00018}00018\ \textcolor{stringliteral}{-\/h\ Help\ \ \ \ \ \ \ \ \ \ \ \ print\ this\ message.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00019}00019\ \textcolor{stringliteral}{-\/-\/version\ \ \ \ \ \ \ \ \ \ show\ version\ and\ exit.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00020}00020\ \textcolor{stringliteral}{-\/d\ <outputfolder>\ \ Specify\ a\ directory\ where\ the\ output\ files\ are}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ to\ be\ created.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00022}00022\ \textcolor{stringliteral}{-\/o\ <outputfile>\ \ \ \ Specify\ a\ file\ to\ write\ the\ output\ to.\ A\ special}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ of\ -\/\ would\ use\ the\ standard\ output.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00024}00024\ \textcolor{stringliteral}{-\/f\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Overwrite\ existing\ output\ file(s),\ ie.\ don't\ append}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ numbers.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00026}00026\ \textcolor{stringliteral}{-\/v\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Verbose:\ more\ messages\ will\ be\ written\ to\ stdout}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ about\ what\ is\ being\ done.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00028}00028\ \textcolor{stringliteral}{-\/q\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Quiet:\ No\ messages\ will\ be\ written\ to\ stdout\ about}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ what\ is\ being\ done.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00030}00030\ \textcolor{stringliteral}{-\/a\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ allow\ virtual\ glyphs\ ID's\ on\ compile\ or\ decompile.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00031}00031\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00032}00032\ \textcolor{stringliteral}{Dump\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00033}00033\ \textcolor{stringliteral}{============}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00034}00034\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00035}00035\ \textcolor{stringliteral}{-\/l\ \ \ \ \ \ \ \ \ \ \ List\ table\ info:\ instead\ of\ dumping\ to\ a\ TTX\ file,\ list}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ some\ minimal\ info\ about\ each\ table.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00037}00037\ \textcolor{stringliteral}{-\/t\ <table>\ \ \ Specify\ a\ table\ to\ dump.\ Multiple\ -\/t\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00038}00038\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ are\ allowed.\ When\ no\ -\/t\ option\ is\ specified,\ all\ tables}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00039}00039\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ will\ be\ dumped.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00040}00040\ \textcolor{stringliteral}{-\/x\ <table>\ \ \ Specify\ a\ table\ to\ exclude\ from\ the\ dump.\ Multiple}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00041}00041\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ -\/x\ options\ are\ allowed.\ -\/t\ and\ -\/x\ are\ mutually\ exclusive.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00042}00042\ \textcolor{stringliteral}{-\/s\ \ \ \ \ \ \ \ \ \ \ Split\ tables:\ save\ the\ TTX\ data\ into\ separate\ TTX\ files\ per}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00043}00043\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ table\ and\ write\ one\ small\ TTX\ file\ that\ contains\ references}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00044}00044\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ to\ the\ individual\ table\ dumps.\ This\ file\ can\ be\ used\ as}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00045}00045\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ input\ to\ ttx,\ as\ long\ as\ the\ table\ files\ are\ in\ the}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00046}00046\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ same\ directory.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00047}00047\ \textcolor{stringliteral}{-\/g\ \ \ \ \ \ \ \ \ \ \ Split\ glyf\ table:\ Save\ the\ glyf\ data\ into\ separate\ TTX\ files}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ per\ glyph\ and\ write\ a\ small\ TTX\ for\ the\ glyf\ table\ which}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ contains\ references\ to\ the\ individual\ TTGlyph\ elements.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ NOTE:\ specifying\ -\/g\ implies\ -\/s\ (no\ need\ for\ -\/s\ together}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ with\ -\/g)}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00052}00052\ \textcolor{stringliteral}{-\/i\ \ \ \ \ \ \ \ \ \ \ Do\ NOT\ disassemble\ TT\ instructions:\ when\ this\ option\ is}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ given,\ all\ TrueType\ programs\ (glyph\ programs,\ the\ font}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ program\ and\ the\ pre-\/program)\ will\ be\ written\ to\ the\ TTX}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ file\ as\ hex\ data\ instead\ of\ assembly.\ This\ saves\ some\ time}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ and\ makes\ the\ TTX\ file\ smaller.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00057}00057\ \textcolor{stringliteral}{-\/z\ <format>\ \ Specify\ a\ bitmap\ data\ export\ option\ for\ EBDT:}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00058}00058\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \{'raw',\ 'row',\ 'bitwise',\ 'extfile'\}\ or\ for\ the\ CBDT:}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00059}00059\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \{'raw',\ 'extfile'\}\ Each\ option\ does\ one\ of\ the\ following:}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00060}00060\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ -\/z\ raw}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ export\ the\ bitmap\ data\ as\ a\ hex\ dump}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ -\/z\ row}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ export\ each\ row\ as\ hex\ data}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ -\/z\ bitwise}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ export\ each\ row\ as\ binary\ in\ an\ ASCII\ art\ style}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00067}00067\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ -\/z\ extfile}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00068}00068\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ export\ the\ data\ as\ external\ files\ with\ XML\ references}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00069}00069\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00070}00070\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ If\ no\ export\ format\ is\ specified\ 'raw'\ format\ is\ used.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00071}00071\ \textcolor{stringliteral}{-\/e\ \ \ \ \ \ \ \ \ \ \ Don't\ ignore\ decompilation\ errors,\ but\ show\ a\ full\ traceback}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00072}00072\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ and\ abort.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00073}00073\ \textcolor{stringliteral}{-\/y\ <number>\ \ Select\ font\ number\ for\ TrueType\ Collection\ (.ttc/.otc),}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00074}00074\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ starting\ from\ 0.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00075}00075\ \textcolor{stringliteral}{-\/-\/unicodedata\ <UnicodeData.txt>}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00076}00076\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Use\ custom\ database\ file\ to\ write\ character\ names\ in\ the}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ comments\ of\ the\ cmap\ TTX\ output.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00078}00078\ \textcolor{stringliteral}{-\/-\/newline\ <value>}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00079}00079\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Control\ how\ line\ endings\ are\ written\ in\ the\ XML\ file.\ It}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00080}00080\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ can\ be\ 'LF',\ 'CR',\ or\ 'CRLF'.\ If\ not\ specified,\ the}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00081}00081\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ default\ platform-\/specific\ line\ endings\ are\ used.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00082}00082\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00083}00083\ \textcolor{stringliteral}{Compile\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00084}00084\ \textcolor{stringliteral}{===============}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00085}00085\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00086}00086\ \textcolor{stringliteral}{-\/m\ \ \ \ \ \ \ \ \ \ \ Merge\ with\ TrueType-\/input-\/file:\ specify\ a\ TrueType\ or}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ OpenType\ font\ file\ to\ be\ merged\ with\ the\ TTX\ file.\ This}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00088}00088\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ option\ is\ only\ valid\ when\ at\ most\ one\ TTX\ file\ is\ specified.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00089}00089\ \textcolor{stringliteral}{-\/b\ \ \ \ \ \ \ \ \ \ \ Don't\ recalc\ glyph\ bounding\ boxes:\ use\ the\ values\ in\ the}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ TTX\ file\ as-\/is.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00091}00091\ \textcolor{stringliteral}{-\/-\/recalc-\/timestamp}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00092}00092\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Set\ font\ 'modified'\ timestamp\ to\ current\ time.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00093}00093\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ By\ default,\ the\ modification\ time\ of\ the\ TTX\ file\ will\ be}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ used.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00095}00095\ \textcolor{stringliteral}{-\/-\/no-\/recalc-\/timestamp}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00096}00096\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Keep\ the\ original\ font\ 'modified'\ timestamp.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00097}00097\ \textcolor{stringliteral}{-\/-\/flavor\ <type>}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00098}00098\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Specify\ flavor\ of\ output\ font\ file.\ May\ be\ 'woff'\ or\ 'woff2'.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00099}00099\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Note\ that\ WOFF2\ requires\ the\ Brotli\ Python\ extension,}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ available\ at\ https://github.com/google/brotli}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00101}00101\ \textcolor{stringliteral}{-\/-\/with-\/zopfli}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Use\ Zopfli\ instead\ of\ Zlib\ to\ compress\ WOFF.\ The\ Python}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00103}00103\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ extension\ is\ available\ at\ https://pypi.python.org/pypi/zopfli}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00104}00104\ \textcolor{stringliteral}{-\/-\/optimize-\/font-\/speed}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ Enable\ optimizations\ that\ prioritize\ speed\ over\ file\ size.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ This\ mainly\ affects\ how\ glyf\ t\ able\ and\ gvar\ /\ VARC\ tables\ are}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00107}00107\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ compiled.\ The\ produced\ fonts\ will\ be\ larger,\ but\ rendering}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ performance\ will\ be\ improved\ with\ HarfBuzz\ and\ other\ text}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ layout\ engines.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00110}00110\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00112}00112\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1ttLib}{fontTools.ttLib}}\ \textcolor{keyword}{import}\ OPTIMIZE\_FONT\_SPEED,\ TTFont,\ TTLibError}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00113}00113\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1macCreatorType}{fontTools.misc.macCreatorType}}\ \textcolor{keyword}{import}\ getMacCreatorAndType}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00114}00114\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1unicode}{fontTools.unicode}}\ \textcolor{keyword}{import}\ setUnicodeData}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00115}00115\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1textTools}{fontTools.misc.textTools}}\ \textcolor{keyword}{import}\ Tag,\ tostr}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00116}00116\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1timeTools}{fontTools.misc.timeTools}}\ \textcolor{keyword}{import}\ timestampSinceEpoch}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00117}00117\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1loggingTools}{fontTools.misc.loggingTools}}\ \textcolor{keyword}{import}\ Timer}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00118}00118\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1cliTools}{fontTools.misc.cliTools}}\ \textcolor{keyword}{import}\ makeOutputFileName}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00119}00119\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00120}00120\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00121}00121\ \textcolor{keyword}{import}\ getopt}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00122}00122\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00123}00123\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00126}00126\ log\ =\ logging.getLogger(\textcolor{stringliteral}{"{}fontTools.ttx"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00128}00128\ opentypeheaderRE\ =\ re.compile(\textcolor{stringliteral}{"{}"{}"{}sfntVersion=['"{}]OTTO["{}']"{}"{}"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00131}\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options}{00131}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options}{Options}}(object):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00132}00132\ \ \ \ \ listTables\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00133}00133\ \ \ \ \ outputDir\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00134}00134\ \ \ \ \ outputFile\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00135}00135\ \ \ \ \ overWrite\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00136}00136\ \ \ \ \ verbose\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00137}00137\ \ \ \ \ quiet\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00138}00138\ \ \ \ \ splitTables\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00139}00139\ \ \ \ \ splitGlyphs\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00140}00140\ \ \ \ \ disassembleInstructions\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00141}00141\ \ \ \ \ mergeFile\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00142}00142\ \ \ \ \ recalcBBoxes\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00143}00143\ \ \ \ \ ignoreDecompileErrors\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00144}00144\ \ \ \ \ bitmapGlyphDataFormat\ =\ \textcolor{stringliteral}{"{}raw"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00145}00145\ \ \ \ \ unicodedata\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00146}00146\ \ \ \ \ newlinestr\ =\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00147}00147\ \ \ \ \ recalcTimestamp\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00148}00148\ \ \ \ \ flavor\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00149}00149\ \ \ \ \ useZopfli\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00150}00150\ \ \ \ \ optimizeFontSpeed\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00152}00152\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ rawOptions,\ numFiles):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ae2f2e59e1b787de4cd99a76f5ba922c7}{onlyTables}}\ =\ []}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a76589f9616341616f2814034bf9e5f8a}{skipTables}}\ =\ []}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_aea46bb92da0cc0015371a6b16597f8e3}{fontNumber}}\ =\ -\/1}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ option,\ value\ \textcolor{keywordflow}{in}\ rawOptions:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ general\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ option\ ==\ \textcolor{stringliteral}{"{}-\/h"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sys.exit(0)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/version"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ fontTools\ \textcolor{keyword}{import}\ version}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(version)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sys.exit(0)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/d"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ os.path.isdir(value):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ -\/d\ option\ value\ must\ be\ an\ existing\ directory"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a3bdcb5645e6d734dd78b6bf5a27cf1a2}{outputDir}}\ =\ value}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/o"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ad75e31122af62c35a17bf3a07d5352af}{outputFile}}\ =\ value}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/f"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a61c401c5773c93aabcbbdbe7b5f42366}{overWrite}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/v"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a2ebaa4c1aad3c408ee3c49805600dab9}{verbose}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/q"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abb8f0a6c7b445df8ccb0cab331fe2129}{quiet}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ dump\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/l"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a2bdaf6f90ad8148f959c5f8a89fad945}{listTables}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/t"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ pad\ with\ space\ if\ table\ tag\ length\ is\ less\ than\ 4}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ value.ljust(4)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ae2f2e59e1b787de4cd99a76f5ba922c7}{onlyTables}}.append(value)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/x"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ pad\ with\ space\ if\ table\ tag\ length\ is\ less\ than\ 4}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ value.ljust(4)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a76589f9616341616f2814034bf9e5f8a}{skipTables}}.append(value)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/s"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_af4d8cf2f9df5f4f6f6edba78780168c1}{splitTables}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/g"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ -\/g\ implies\ (and\ forces)\ splitTables}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ab5c11d8392db368dea6abf6eed260f98}{splitGlyphs}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_af4d8cf2f9df5f4f6f6edba78780168c1}{splitTables}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/i"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ae8eae7e04c327b6a23271b2cdb6455df}{disassembleInstructions}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/z"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validOptions\ =\ (\textcolor{stringliteral}{"{}raw"{}},\ \textcolor{stringliteral}{"{}row"{}},\ \textcolor{stringliteral}{"{}bitwise"{}},\ \textcolor{stringliteral}{"{}extfile"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ value\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ validOptions:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/z\ does\ not\ allow\ \%s\ as\ a\ format.\ Use\ \%s"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \%\ (option,\ validOptions)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a6976eb1107b82ba850d6e25a3681b85e}{bitmapGlyphDataFormat}}\ =\ value}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/y"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_aea46bb92da0cc0015371a6b16597f8e3}{fontNumber}}\ =\ int(value)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ compile\ options}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00210}00210\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/m"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abdee9e677b8956a95c42df7e80e15dbf}{mergeFile}}\ =\ value}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/b"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ab7f3856451f2563fe5eff1241e82c3fa}{recalcBBoxes}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/e"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abd0305258673fc7a77e9ddbd462ac5e9}{ignoreDecompileErrors}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/unicodedata"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abb261a964e9a3087ebff54832852dccc}{unicodedata}}\ =\ value}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/newline"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validOptions\ =\ (\textcolor{stringliteral}{"{}LF"{}},\ \textcolor{stringliteral}{"{}CR"{}},\ \textcolor{stringliteral}{"{}CRLF"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ value\ ==\ \textcolor{stringliteral}{"{}LF"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a9b50916abdeacde34f50c24f945725dc}{newlinestr}}\ =\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ value\ ==\ \textcolor{stringliteral}{"{}CR"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a9b50916abdeacde34f50c24f945725dc}{newlinestr}}\ =\ \textcolor{stringliteral}{"{}\(\backslash\)r"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ value\ ==\ \textcolor{stringliteral}{"{}CRLF"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a9b50916abdeacde34f50c24f945725dc}{newlinestr}}\ =\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ choice\ for\ -\/-\/newline:\ \%r\ (choose\ from\ \%s)"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \%\ (value,\ \textcolor{stringliteral}{"{},\ "{}}.join(map(repr,\ validOptions)))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/recalc-\/timestamp"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a79023fb0357a3fa3c3a2b05a61a8cc8a}{recalcTimestamp}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/no-\/recalc-\/timestamp"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a79023fb0357a3fa3c3a2b05a61a8cc8a}{recalcTimestamp}}\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/flavor"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_aa85669fba6e4162b771998a055bead74}{flavor}}\ =\ value}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/with-\/zopfli"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ac3ca8fdd8ad716debde5e03ff6b45d29}{useZopfli}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ option\ ==\ \textcolor{stringliteral}{"{}-\/-\/optimize-\/font-\/speed"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abfe5536b77689b9df572d7228aa8c484}{optimizeFontSpeed}}\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a2ebaa4c1aad3c408ee3c49805600dab9}{verbose}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abb8f0a6c7b445df8ccb0cab331fe2129}{quiet}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{"{}-\/q\ and\ -\/v\ options\ are\ mutually\ exclusive"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a2ebaa4c1aad3c408ee3c49805600dab9}{verbose}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a7109725a8ecc97c9452fe94503416710}{logLevel}}\ =\ logging.DEBUG}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abb8f0a6c7b445df8ccb0cab331fe2129}{quiet}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a7109725a8ecc97c9452fe94503416710}{logLevel}}\ =\ logging.WARNING}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a7109725a8ecc97c9452fe94503416710}{logLevel}}\ =\ logging.INFO}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abdee9e677b8956a95c42df7e80e15dbf}{mergeFile}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_aa85669fba6e4162b771998a055bead74}{flavor}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{"{}-\/m\ and\ -\/-\/flavor\ options\ are\ mutually\ exclusive"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ae2f2e59e1b787de4cd99a76f5ba922c7}{onlyTables}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_a76589f9616341616f2814034bf9e5f8a}{skipTables}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{"{}-\/t\ and\ -\/x\ options\ are\ mutually\ exclusive"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_abdee9e677b8956a95c42df7e80e15dbf}{mergeFile}}\ \textcolor{keywordflow}{and}\ numFiles\ >\ 1:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Must\ specify\ exactly\ one\ TTX\ source\ file\ when\ using\ -\/m"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_aa85669fba6e4162b771998a055bead74}{flavor}}\ !=\ \textcolor{stringliteral}{"{}woff"{}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classfontTools_1_1ttx_1_1Options_ac3ca8fdd8ad716debde5e03ff6b45d29}{useZopfli}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{"{}-\/-\/with-\/zopfli\ option\ requires\ -\/-\/flavor\ 'woff'"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00259}00259\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00261}00261\ \textcolor{keyword}{def\ }ttList(input,\ output,\ options):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00262}00262\ \ \ \ \ ttf\ =\ \mbox{\hyperlink{classfontTools_1_1ttLib_1_1ttFont_1_1TTFont}{TTFont}}(input,\ fontNumber=options.fontNumber,\ lazy=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00263}00263\ \ \ \ \ reader\ =\ ttf.reader}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00264}00264\ \ \ \ \ tags\ =\ sorted(reader.keys())}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00265}00265\ \ \ \ \ print(\textcolor{stringliteral}{'Listing\ table\ info\ for\ "{}\%s"{}:'}\ \%\ input)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00266}00266\ \ \ \ \ format\ =\ \textcolor{stringliteral}{"{}\ \ \ \ \%4s\ \ \%10s\ \ \%8s\ \ \%8s"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00267}00267\ \ \ \ \ print(format\ \%\ (\textcolor{stringliteral}{"{}tag\ "{}},\ \textcolor{stringliteral}{"{}\ \ checksum"{}},\ \textcolor{stringliteral}{"{}\ \ length"{}},\ \textcolor{stringliteral}{"{}\ \ offset"{}}))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00268}00268\ \ \ \ \ print(format\ \%\ (\textcolor{stringliteral}{"{}-\/-\/-\/-\/"{}},\ \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"{}},\ \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/"{}},\ \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/"{}}))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00269}00269\ \ \ \ \ \textcolor{keywordflow}{for}\ tag\ \textcolor{keywordflow}{in}\ tags:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ entry\ =\ reader.tables[tag]}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ttf.flavor\ ==\ \textcolor{stringliteral}{"{}woff2"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ WOFF2\ doesn't\ store\ table\ checksums,\ so\ they\ must\ be\ calculated}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1ttLib_1_1sfnt}{fontTools.ttLib.sfnt}}\ \textcolor{keyword}{import}\ calcChecksum}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00274}00274\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ entry.loadData(reader.transformBuffer)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ checkSum\ =\ calcChecksum(data)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ checkSum\ =\ int(entry.checkSum)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ checkSum\ <\ 0:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ checkSum\ =\ checkSum\ +\ 0x100000000}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ checksum\ =\ \textcolor{stringliteral}{"{}0x\%08X"{}}\ \%\ checkSum}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ print(format\ \%\ (tag,\ checksum,\ entry.length,\ entry.offset))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00283}00283\ \ \ \ \ print()}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00284}00284\ \ \ \ \ ttf.close()}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00285}00285\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00287}00287\ \textcolor{preprocessor}{@Timer(log,\ "{}Done\ dumping\ TTX\ in\ \%(time)}.3f\ seconds\textcolor{stringliteral}{"{})}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00288}00288\ \textcolor{stringliteral}{}\textcolor{keyword}{def\ }ttDump(input,\ output,\ options):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00289}00289\ \ \ \ \ input\_name\ =\ input}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00290}00290\ \ \ \ \ \textcolor{keywordflow}{if}\ input\ ==\ \textcolor{stringliteral}{"{}-\/"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00291}00291\ \ \ \ \ \ \ \ \ input,\ input\_name\ =\ sys.stdin.buffer,\ sys.stdin.name}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00292}00292\ \ \ \ \ output\_name\ =\ output}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00293}00293\ \ \ \ \ \textcolor{keywordflow}{if}\ output\ ==\ \textcolor{stringliteral}{"{}-\/"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ output,\ output\_name\ =\ sys.stdout,\ sys.stdout.name}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00295}00295\ \ \ \ \ log.info(\textcolor{stringliteral}{'Dumping\ "{}\%s"{}\ to\ "{}\%s"{}...'},\ input\_name,\ output\_name)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00296}00296\ \ \ \ \ \textcolor{keywordflow}{if}\ options.unicodedata:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ setUnicodeData(options.unicodedata)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00298}00298\ \ \ \ \ ttf\ =\ \mbox{\hyperlink{classfontTools_1_1ttLib_1_1ttFont_1_1TTFont}{TTFont}}(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00299}00299\ \ \ \ \ \ \ \ \ input,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ 0,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ ignoreDecompileErrors=options.ignoreDecompileErrors,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ fontNumber=options.fontNumber,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00303}00303\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00304}00304\ \ \ \ \ ttf.saveXML(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00305}00305\ \ \ \ \ \ \ \ \ output,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ tables=options.onlyTables,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ skipTables=options.skipTables,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ splitTables=options.splitTables,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ splitGlyphs=options.splitGlyphs,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ disassembleInstructions=options.disassembleInstructions,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ bitmapGlyphDataFormat=options.bitmapGlyphDataFormat,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ newlinestr=options.newlinestr,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00313}00313\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00314}00314\ \ \ \ \ ttf.close()}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00315}00315\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00317}00317\ \textcolor{preprocessor}{@Timer(log,\ "{}Done\ compiling\ TTX\ in\ \%(time)}.3f\ seconds\textcolor{stringliteral}{"{})}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00318}00318\ \textcolor{stringliteral}{}\textcolor{keyword}{def\ }ttCompile(input,\ output,\ options):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00319}00319\ \ \ \ \ input\_name\ =\ input}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00320}00320\ \ \ \ \ \textcolor{keywordflow}{if}\ input\ ==\ \textcolor{stringliteral}{"{}-\/"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ input,\ input\_name\ =\ sys.stdin,\ sys.stdin.name}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00322}00322\ \ \ \ \ output\_name\ =\ output}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00323}00323\ \ \ \ \ \textcolor{keywordflow}{if}\ output\ ==\ \textcolor{stringliteral}{"{}-\/"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ output,\ output\_name\ =\ sys.stdout.buffer,\ sys.stdout.name}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00325}00325\ \ \ \ \ log.info(\textcolor{stringliteral}{'Compiling\ "{}\%s"{}\ to\ "{}\%s"{}...'}\ \%\ (input\_name,\ output))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00326}00326\ \ \ \ \ \textcolor{keywordflow}{if}\ options.useZopfli:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1ttLib}{fontTools.ttLib}}\ \textcolor{keyword}{import}\ sfnt}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00328}00328\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ sfnt.USE\_ZOPFLI\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00330}00330\ \ \ \ \ ttf\ =\ \mbox{\hyperlink{classfontTools_1_1ttLib_1_1ttFont_1_1TTFont}{TTFont}}(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ options.mergeFile,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00332}00332\ \ \ \ \ \ \ \ \ flavor=options.flavor,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ recalcBBoxes=options.recalcBBoxes,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ recalcTimestamp=options.recalcTimestamp,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00335}00335\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00336}00336\ \ \ \ \ \textcolor{keywordflow}{if}\ options.optimizeFontSpeed:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ ttf.cfg[OPTIMIZE\_FONT\_SPEED]\ =\ options.optimizeFontSpeed}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00338}00338\ \ \ \ \ ttf.importXML(input)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00339}00339\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00340}00340\ \ \ \ \ \textcolor{keywordflow}{if}\ options.recalcTimestamp\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}head"{}}\ \textcolor{keywordflow}{in}\ ttf\ \textcolor{keywordflow}{and}\ input\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ sys.stdin:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ use\ TTX\ file\ modification\ time\ for\ head\ "{}modified"{}\ timestamp}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ mtime\ =\ os.path.getmtime(input)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ ttf[\textcolor{stringliteral}{"{}head"{}}].modified\ =\ timestampSinceEpoch(mtime)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00344}00344\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00345}00345\ \ \ \ \ ttf.save(output)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00346}00346\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00347}00347\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00348}00348\ \textcolor{keyword}{def\ }guessFileType(fileName):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00349}00349\ \ \ \ \ \textcolor{keywordflow}{if}\ fileName\ ==\ \textcolor{stringliteral}{"{}-\/"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ header\ =\ sys.stdin.buffer.peek(256)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ ext\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00352}00352\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ base,\ ext\ =\ os.path.splitext(fileName)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(fileName,\ \textcolor{stringliteral}{"{}rb"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ header\ =\ f.read(256)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ IOError:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00359}00359\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00360}00360\ \ \ \ \ \textcolor{keywordflow}{if}\ header.startswith(b\textcolor{stringliteral}{"{}\(\backslash\)xef\(\backslash\)xbb\(\backslash\)xbf<?xml"{}}):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ header\ =\ header.lstrip(b\textcolor{stringliteral}{"{}\(\backslash\)xef\(\backslash\)xbb\(\backslash\)xbf"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00362}00362\ \ \ \ \ cr,\ tp\ =\ getMacCreatorAndType(fileName)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00363}00363\ \ \ \ \ \textcolor{keywordflow}{if}\ tp\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}sfnt"{}},\ \textcolor{stringliteral}{"{}FFIL"{}}):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TTF"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00365}00365\ \ \ \ \ \textcolor{keywordflow}{if}\ ext\ ==\ \textcolor{stringliteral}{"{}.dfont"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00366}00366\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TTF"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00367}00367\ \ \ \ \ head\ =\ \mbox{\hyperlink{classfontTools_1_1misc_1_1textTools_1_1Tag}{Tag}}(header[:4])}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00368}00368\ \ \ \ \ \textcolor{keywordflow}{if}\ head\ ==\ \textcolor{stringliteral}{"{}OTTO"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}OTF"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00370}00370\ \ \ \ \ \textcolor{keywordflow}{elif}\ head\ ==\ \textcolor{stringliteral}{"{}ttcf"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TTC"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00372}00372\ \ \ \ \ \textcolor{keywordflow}{elif}\ head\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}\(\backslash\)0\(\backslash\)1\(\backslash\)0\(\backslash\)0"{}},\ \textcolor{stringliteral}{"{}true"{}}):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TTF"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00374}00374\ \ \ \ \ \textcolor{keywordflow}{elif}\ head\ ==\ \textcolor{stringliteral}{"{}wOFF"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}WOFF"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00376}00376\ \ \ \ \ \textcolor{keywordflow}{elif}\ head\ ==\ \textcolor{stringliteral}{"{}wOF2"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}WOFF2"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00378}00378\ \ \ \ \ \textcolor{keywordflow}{elif}\ head\ ==\ \textcolor{stringliteral}{"{}<?xm"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Use\ 'latin1'\ because\ that\ can't\ fail.}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ header\ =\ tostr(header,\ \textcolor{stringliteral}{"{}latin1"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opentypeheaderRE.search(header):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}OTX"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TTX"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00385}00385\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00386}00386\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00387}00387\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00388}00388\ \textcolor{keyword}{def\ }parseOptions(args):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00389}00389\ \ \ \ \ rawOptions,\ files\ =\ getopt.gnu\_getopt(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00390}00390\ \ \ \ \ \ \ \ \ args,}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ld:o:fvqht:x:sgim:z:baey:"{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}unicodedata="{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}recalc-\/timestamp"{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}no-\/recalc-\/timestamp"{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}flavor="{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00397}00397\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}version"{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}with-\/zopfli"{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}newline="{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00400}00400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}optimize-\/font-\/speed"{}},}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ ],}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00402}00402\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00403}00403\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00404}00404\ \ \ \ \ options\ =\ \mbox{\hyperlink{classfontTools_1_1ttx_1_1Options}{Options}}(rawOptions,\ len(files))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00405}00405\ \ \ \ \ jobs\ =\ []}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00407}00407\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ files:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{"{}Must\ specify\ at\ least\ one\ input\ file"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00409}00409\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00410}00410\ \ \ \ \ \textcolor{keywordflow}{for}\ input\ \textcolor{keywordflow}{in}\ files:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ input\ !=\ \textcolor{stringliteral}{"{}-\/"{}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ os.path.isfile(input):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{'File\ not\ found:\ "{}\%s"{}'}\ \%\ input)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ tp\ =\ guessFileType(input)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ tp\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}OTF"{}},\ \textcolor{stringliteral}{"{}TTF"{}},\ \textcolor{stringliteral}{"{}TTC"{}},\ \textcolor{stringliteral}{"{}WOFF"{}},\ \textcolor{stringliteral}{"{}WOFF2"{}}):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ extension\ =\ \textcolor{stringliteral}{"{}.ttx"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ options.listTables:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ action\ =\ ttList}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ action\ =\ ttDump}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ tp\ ==\ \textcolor{stringliteral}{"{}TTX"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ extension\ =\ \textcolor{stringliteral}{"{}."{}}\ +\ options.flavor\ \textcolor{keywordflow}{if}\ options.flavor\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}.ttf"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \ \ \ \ action\ =\ ttCompile}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ tp\ ==\ \textcolor{stringliteral}{"{}OTX"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ extension\ =\ \textcolor{stringliteral}{"{}."{}}\ +\ options.flavor\ \textcolor{keywordflow}{if}\ options.flavor\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}.otf"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ action\ =\ ttCompile}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{'Unknown\ file\ type:\ "{}\%s"{}'}\ \%\ input)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00428}00428\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ options.outputFile:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ options.outputFile}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ input\ ==\ \textcolor{stringliteral}{"{}-\/"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ getopt.GetoptError(\textcolor{stringliteral}{"{}Must\ provide\ -\/o\ when\ reading\ from\ stdin"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ output\ =\ makeOutputFileName(}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ input,\ options.outputDir,\ extension,\ options.overWrite}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 'touch'\ output\ file\ to\ avoid\ race\ condition\ in\ choosing\ file\ names}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ action\ !=\ ttList:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ open(output,\ \textcolor{stringliteral}{"{}a"{}}).close()}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ jobs.append((action,\ input,\ output))}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00441}00441\ \ \ \ \ \textcolor{keywordflow}{return}\ jobs,\ options}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00442}00442\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00443}00443\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00444}00444\ \textcolor{keyword}{def\ }process(jobs,\ options):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00445}00445\ \ \ \ \ \textcolor{keywordflow}{for}\ action,\ input,\ output\ \textcolor{keywordflow}{in}\ jobs:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ action(input,\ output,\ options)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00447}00447\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00448}00448\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00449}\mbox{\hyperlink{namespacefontTools_1_1ttx_a901e0ce8b0aea7a511463fd00280325e}{00449}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacemain}{main}}(args=None):}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00450}00450\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ OpenType\ fonts\ to\ XML\ and\ back"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00451}00451\ \ \ \ \ \textcolor{keyword}{from}\ fontTools\ \textcolor{keyword}{import}\ configLogger}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00452}00452\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00453}00453\ \ \ \ \ \textcolor{keywordflow}{if}\ args\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ args\ =\ sys.argv[1:]}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00455}00455\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ jobs,\ options\ =\ parseOptions(args)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00457}00457\ \ \ \ \ \textcolor{keywordflow}{except}\ getopt.GetoptError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\%s\(\backslash\)nERROR:\ \%s"{}}\ \%\ (\_\_doc\_\_,\ e),\ file=sys.stderr)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00459}00459\ \ \ \ \ \ \ \ \ sys.exit(2)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00460}00460\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00461}00461\ \ \ \ \ configLogger(level=options.logLevel)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00462}00462\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00463}00463\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00464}00464\ \ \ \ \ \ \ \ \ process(jobs,\ options)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00465}00465\ \ \ \ \ \textcolor{keywordflow}{except}\ KeyboardInterrupt:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00466}00466\ \ \ \ \ \ \ \ \ log.error(\textcolor{stringliteral}{"{}(Cancelled.)"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00467}00467\ \ \ \ \ \ \ \ \ sys.exit(1)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00468}00468\ \ \ \ \ \textcolor{keywordflow}{except}\ SystemExit:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00469}00469\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00470}00470\ \ \ \ \ \textcolor{keywordflow}{except}\ TTLibError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00471}00471\ \ \ \ \ \ \ \ \ log.error(e)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ sys.exit(1)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00473}00473\ \ \ \ \ \textcolor{keywordflow}{except}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ log.exception(\textcolor{stringliteral}{"{}Unhandled\ exception\ has\ occurred"{}})}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ sys.exit(1)}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00476}00476\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00477}00477\ }
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00478}00478\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{ttx_8py_source_l00479}00479\ \ \ \ \ sys.exit(\mbox{\hyperlink{namespacemain}{main}}())}

\end{DoxyCode}
