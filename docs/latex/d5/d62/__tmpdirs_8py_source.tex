\doxysection{\+\_\+tmpdirs.\+py}
\hypertarget{__tmpdirs_8py_source}{}\label{__tmpdirs_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/\_lib/\_tmpdirs.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/\_lib/\_tmpdirs.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00001}\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs}{00001}}\ \textcolor{stringliteral}{'''\ Contexts\ for\ *with*\ statement\ providing\ temporary\ directories}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00002}00002\ \textcolor{stringliteral}{'''}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00003}00003\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00004}00004\ \textcolor{keyword}{from}\ contextlib\ \textcolor{keyword}{import}\ contextmanager}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00005}00005\ \textcolor{keyword}{from}\ shutil\ \textcolor{keyword}{import}\ rmtree}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00006}00006\ \textcolor{keyword}{from}\ tempfile\ \textcolor{keyword}{import}\ mkdtemp}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00009}00009\ \textcolor{preprocessor}{@contextmanager}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00010}\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs_a20b1a527e53e7f0105bea0491d20e5ec}{00010}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs_a20b1a527e53e7f0105bea0491d20e5ec}{tempdir}}():}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00011}00011\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ and\ return\ a\ temporary\ directory.\ This\ has\ the\ same}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00012}00012\ \textcolor{stringliteral}{\ \ \ \ behavior\ as\ mkdtemp\ but\ can\ be\ used\ as\ a\ context\ manager.}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00013}00013\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00014}00014\ \textcolor{stringliteral}{\ \ \ \ Upon\ exiting\ the\ context,\ the\ directory\ and\ everything\ contained}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ \ \ in\ it\ are\ removed.}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00016}00016\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00017}00017\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ \ \ >>>\ import\ os}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ \ \ >>>\ with\ tempdir()\ as\ tmpdir:}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ fname\ =\ os.path.join(tmpdir,\ 'example\_file.txt')}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00022}00022\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ with\ open(fname,\ 'wt')\ as\ fobj:}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \ \ \ \ \_\ =\ fobj.write('a\ string\(\backslash\)\(\backslash\)n')}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ >>>\ os.path.exists(tmpdir)}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ False}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00027}00027\ \ \ \ \ d\ =\ mkdtemp()}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00028}00028\ \ \ \ \ \textcolor{keywordflow}{yield}\ d}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00029}00029\ \ \ \ \ rmtree(d)}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00032}00032\ \textcolor{preprocessor}{@contextmanager}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00033}\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs_a8f702e73ad07e3c2675f8eaf1905d3e7}{00033}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs_a8f702e73ad07e3c2675f8eaf1905d3e7}{in\_tempdir}}():}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00034}00034\ \ \ \ \ \textcolor{stringliteral}{'''\ Create,\ return,\ and\ change\ directory\ to\ a\ temporary\ directory}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00035}00035\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00038}00038\ \textcolor{stringliteral}{\ \ \ \ >>>\ import\ os}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00039}00039\ \textcolor{stringliteral}{\ \ \ \ >>>\ my\_cwd\ =\ os.getcwd()}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00040}00040\ \textcolor{stringliteral}{\ \ \ \ >>>\ with\ in\_tempdir()\ as\ tmpdir:}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00041}00041\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \_\ =\ open('test.txt',\ 'wt').write('some\ text')}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00042}00042\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ assert\ os.path.isfile('test.txt')}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00043}00043\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ assert\ os.path.isfile(os.path.join(tmpdir,\ 'test.txt'))}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00044}00044\ \textcolor{stringliteral}{\ \ \ \ >>>\ os.path.exists(tmpdir)}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00045}00045\ \textcolor{stringliteral}{\ \ \ \ False}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00046}00046\ \textcolor{stringliteral}{\ \ \ \ >>>\ os.getcwd()\ ==\ my\_cwd}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00047}00047\ \textcolor{stringliteral}{\ \ \ \ True}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ '''}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00049}00049\ \ \ \ \ pwd\ =\ os.getcwd()}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00050}00050\ \ \ \ \ d\ =\ mkdtemp()}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00051}00051\ \ \ \ \ os.chdir(d)}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00052}00052\ \ \ \ \ \textcolor{keywordflow}{yield}\ d}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00053}00053\ \ \ \ \ os.chdir(pwd)}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00054}00054\ \ \ \ \ rmtree(d)}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00057}00057\ \textcolor{preprocessor}{@contextmanager}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00058}\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs_af78b6dbc5a8eb7f610507cde7668a051}{00058}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacescipy_1_1__lib_1_1__tmpdirs_af78b6dbc5a8eb7f610507cde7668a051}{in\_dir}}(dir=None):}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00059}00059\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ Change\ directory\ to\ given\ directory\ for\ duration\ of\ \`{}\`{}with\`{}\`{}\ block}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00060}00060\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ Useful\ when\ you\ want\ to\ use\ \`{}in\_tempdir\`{}\ for\ the\ final\ test,\ but}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ you\ are\ still\ debugging.\ For\ example,\ you\ may\ want\ to\ do\ this\ in\ the\ end:}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00063}00063\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ >>>\ with\ in\_tempdir()\ as\ tmpdir:}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \#\ do\ something\ complicated\ which\ might\ break}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ pass}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00067}00067\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00068}00068\ \textcolor{stringliteral}{\ \ \ \ But,\ indeed,\ the\ complicated\ thing\ does\ break,\ and\ meanwhile,\ the}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}in\_tempdir\`{}\`{}\ context\ manager\ wiped\ out\ the\ directory\ with\ the}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00070}00070\ \textcolor{stringliteral}{\ \ \ \ temporary\ files\ that\ you\ wanted\ for\ debugging.\ So,\ while\ debugging,\ you}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00071}00071\ \textcolor{stringliteral}{\ \ \ \ replace\ with\ something\ like:}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00072}00072\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00073}00073\ \textcolor{stringliteral}{\ \ \ \ >>>\ with\ in\_dir()\ as\ tmpdir:\ \#\ Use\ working\ directory\ by\ default}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00074}00074\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ \#\ do\ something\ complicated\ which\ might\ break}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00075}00075\ \textcolor{stringliteral}{\ \ \ \ ...\ \ \ \ \ pass}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00076}00076\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ You\ can\ then\ look\ at\ the\ temporary\ file\ outputs\ to\ debug\ what\ is\ happening,}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00078}00078\ \textcolor{stringliteral}{\ \ \ \ fix,\ and\ finally\ replace\ \`{}\`{}in\_dir\`{}\`{}\ with\ \`{}\`{}in\_tempdir\`{}\`{}\ again.}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00079}00079\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00080}00080\ \ \ \ \ cwd\ =\ os.getcwd()}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00081}00081\ \ \ \ \ \textcolor{keywordflow}{if}\ dir\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ cwd}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00084}00084\ \ \ \ \ os.chdir(dir)}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00085}00085\ \ \ \ \ \textcolor{keywordflow}{yield}\ dir}
\DoxyCodeLine{\Hypertarget{__tmpdirs_8py_source_l00086}00086\ \ \ \ \ os.chdir(cwd)}

\end{DoxyCode}
