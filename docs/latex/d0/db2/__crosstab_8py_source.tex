\doxysection{\+\_\+crosstab.\+py}
\hypertarget{__crosstab_8py_source}{}\label{__crosstab_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/stats/\_crosstab.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/scipy/stats/\_crosstab.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00001}\mbox{\hyperlink{namespacescipy_1_1stats_1_1__crosstab}{00001}}\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00002}00002\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1sparse}{scipy.sparse}}\ \textcolor{keyword}{import}\ coo\_matrix}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00003}00003\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1__lib_1_1__bunch}{scipy.\_lib.\_bunch}}\ \textcolor{keyword}{import}\ \_make\_tuple\_bunch}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00006}00006\ CrosstabResult\ =\ \_make\_tuple\_bunch(}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00007}00007\ \ \ \ \ \textcolor{stringliteral}{"{}CrosstabResult"{}},\ [\textcolor{stringliteral}{"{}elements"{}},\ \textcolor{stringliteral}{"{}count"{}}]}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00008}00008\ )}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00011}\mbox{\hyperlink{namespacescipy_1_1stats_1_1__crosstab_a42040e01638168e3ceaaf5b34385791d}{00011}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacescipy_1_1stats_1_1__crosstab_a42040e01638168e3ceaaf5b34385791d}{crosstab}}(*args,\ levels=None,\ sparse=False):}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00012}00012\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00013}00013\ \textcolor{stringliteral}{\ \ \ \ Return\ table\ of\ counts\ for\ each\ possible\ unique\ combination\ in\ \`{}\`{}*args\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00014}00014\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ \ \ When\ \`{}\`{}len(args)\ >\ 1\`{}\`{},\ the\ array\ computed\ by\ this\ function\ is}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00016}00016\ \textcolor{stringliteral}{\ \ \ \ often\ referred\ to\ as\ a\ *contingency\ table*\ [1]\_.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00017}00017\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ \ \ The\ arguments\ must\ be\ sequences\ with\ the\ same\ length.\ \ The\ second\ return}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00019}00019\ \textcolor{stringliteral}{\ \ \ \ value,\ \`{}count\`{},\ is\ an\ integer\ array\ with\ \`{}\`{}len(args)\`{}\`{}\ dimensions.\ \ If}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00020}00020\ \textcolor{stringliteral}{\ \ \ \ \`{}levels\`{}\ is\ None,\ the\ shape\ of\ \`{}count\`{}\ is\ \`{}\`{}(n0,\ n1,\ ...)\`{}\`{},\ where\ \`{}\`{}nk\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ is\ the\ number\ of\ unique\ elements\ in\ \`{}\`{}args[k]\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00022}00022\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ *args\ :\ sequences}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ sequence\ of\ sequences\ whose\ unique\ aligned\ elements\ are\ to\ be}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ counted.\ \ The\ sequences\ in\ args\ must\ all\ be\ the\ same\ length.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ levels\ :\ sequence,\ optional}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ \`{}levels\`{}\ is\ given,\ it\ must\ be\ a\ sequence\ that\ is\ the\ same\ length\ as}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}args\`{}.\ \ Each\ element\ in\ \`{}levels\`{}\ is\ either\ a\ sequence\ or\ None.\ \ If\ it}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ is\ a\ sequence,\ it\ gives\ the\ values\ in\ the\ corresponding\ sequence\ in}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}args\`{}\ that\ are\ to\ be\ counted.\ \ If\ any\ value\ in\ the\ sequences\ in\ \`{}args\`{}}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00033}00033\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ does\ not\ occur\ in\ the\ corresponding\ sequence\ in\ \`{}levels\`{},\ that\ value}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ is\ ignored\ and\ not\ counted\ in\ the\ returned\ array\ \`{}count\`{}.\ \ The\ default}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ value\ of\ \`{}levels\`{}\ for\ \`{}\`{}args[i]\`{}\`{}\ is\ \`{}\`{}np.unique(args[i])\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ sparse\ :\ bool,\ optional}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ True,\ return\ a\ sparse\ matrix.\ \ The\ matrix\ will\ be\ an\ instance\ of}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00038}00038\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ the\ \`{}scipy.sparse.coo\_matrix\`{}\ class.\ \ Because\ SciPy's\ sparse\ matrices}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00039}00039\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ must\ be\ 2-\/d,\ only\ two\ input\ sequences\ are\ allowed\ when\ \`{}sparse\`{}\ is}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00040}00040\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ True.\ \ Default\ is\ False.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00041}00041\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00042}00042\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00043}00043\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00044}00044\ \textcolor{stringliteral}{\ \ \ \ res\ :\ CrosstabResult}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00045}00045\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ An\ object\ containing\ the\ following\ attributes:}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00046}00046\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00047}00047\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ elements\ :\ tuple\ of\ numpy.ndarrays.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Tuple\ of\ length\ \`{}\`{}len(args)\`{}\`{}\ containing\ the\ arrays\ of\ elements}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ that\ are\ counted\ in\ \`{}count\`{}.\ \ These\ can\ be\ interpreted\ as\ the}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ labels\ of\ the\ corresponding\ dimensions\ of\ \`{}count\`{}.\ If\ \`{}levels\`{}\ was}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ given,\ then\ if\ \`{}\`{}levels[i]\`{}\`{}\ is\ not\ None,\ \`{}\`{}elements[i]\`{}\`{}\ will}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ hold\ the\ values\ given\ in\ \`{}\`{}levels[i]\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ count\ :\ numpy.ndarray\ or\ scipy.sparse.coo\_matrix}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Counts\ of\ the\ unique\ elements\ in\ \`{}\`{}zip(*args)\`{}\`{},\ stored\ in\ an}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ array.\ Also\ known\ as\ a\ *contingency\ table*\ when\ \`{}\`{}len(args)\ >\ 1\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00056}00056\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00058}00058\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00059}00059\ \textcolor{stringliteral}{\ \ \ \ numpy.unique}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00060}00060\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ ..\ versionadded::\ 1.7.0}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00064}00064\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ References}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00067}00067\ \textcolor{stringliteral}{\ \ \ \ ..\ [1]\ "{}Contingency\ table"{},\ http://en.wikipedia.org/wiki/Contingency\_table}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00068}00068\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00070}00070\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00071}00071\ \textcolor{stringliteral}{\ \ \ \ >>>\ from\ scipy.stats.contingency\ import\ crosstab}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00072}00072\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00073}00073\ \textcolor{stringliteral}{\ \ \ \ Given\ the\ lists\ \`{}a\`{}\ and\ \`{}x\`{},\ create\ a\ contingency\ table\ that\ counts\ the}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00074}00074\ \textcolor{stringliteral}{\ \ \ \ frequencies\ of\ the\ corresponding\ pairs.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00075}00075\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00076}00076\ \textcolor{stringliteral}{\ \ \ \ >>>\ a\ =\ ['A',\ 'B',\ 'A',\ 'A',\ 'B',\ 'B',\ 'A',\ 'A',\ 'B',\ 'B']}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ >>>\ x\ =\ ['X',\ 'X',\ 'X',\ 'Y',\ 'Z',\ 'Z',\ 'Y',\ 'Y',\ 'Z',\ 'Z']}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00078}00078\ \textcolor{stringliteral}{\ \ \ \ >>>\ res\ =\ crosstab(a,\ x)}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00079}00079\ \textcolor{stringliteral}{\ \ \ \ >>>\ avals,\ xvals\ =\ res.elements}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00080}00080\ \textcolor{stringliteral}{\ \ \ \ >>>\ avals}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00081}00081\ \textcolor{stringliteral}{\ \ \ \ array(['A',\ 'B'],\ dtype='<U1')}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ >>>\ xvals}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00083}00083\ \textcolor{stringliteral}{\ \ \ \ array(['X',\ 'Y',\ 'Z'],\ dtype='<U1')}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00084}00084\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00085}00085\ \textcolor{stringliteral}{\ \ \ \ array([[2,\ 3,\ 0],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00086}00086\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 0,\ 4]])}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00087}00087\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00088}00088\ \textcolor{stringliteral}{\ \ \ \ So\ \`{}('A',\ 'X')\`{}\ occurs\ twice,\ \`{}('A',\ 'Y')\`{}\ occurs\ three\ times,\ etc.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00089}00089\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ Higher\ dimensional\ contingency\ tables\ can\ be\ created.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00091}00091\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00092}00092\ \textcolor{stringliteral}{\ \ \ \ >>>\ p\ =\ [0,\ 0,\ 0,\ 0,\ 1,\ 1,\ 1,\ 0,\ 0,\ 1]}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00093}00093\ \textcolor{stringliteral}{\ \ \ \ >>>\ res\ =\ crosstab(a,\ x,\ p)}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00095}00095\ \textcolor{stringliteral}{\ \ \ \ array([[[2,\ 0],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00096}00096\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ [2,\ 1],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00097}00097\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ [0,\ 0]],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00098}00098\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [[1,\ 0],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00099}00099\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ [0,\ 0],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ [1,\ 3]]])}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count.shape}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ (2,\ 3,\ 2)}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00103}00103\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00104}00104\ \textcolor{stringliteral}{\ \ \ \ The\ values\ to\ be\ counted\ can\ be\ set\ by\ using\ the\ \`{}levels\`{}\ argument.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ It\ allows\ the\ elements\ of\ interest\ in\ each\ input\ sequence\ to\ be}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ given\ explicitly\ instead\ finding\ the\ unique\ elements\ of\ the\ sequence.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00107}00107\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ For\ example,\ suppose\ one\ of\ the\ arguments\ is\ an\ array\ containing\ the}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ answers\ to\ a\ survey\ question,\ with\ integer\ values\ 1\ to\ 4.\ \ Even\ if\ the}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00110}00110\ \textcolor{stringliteral}{\ \ \ \ value\ 1\ does\ not\ occur\ in\ the\ data,\ we\ want\ an\ entry\ for\ it\ in\ the\ table.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00111}00111\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ >>>\ q1\ =\ [2,\ 3,\ 3,\ 2,\ 4,\ 4,\ 2,\ 3,\ 4,\ 4,\ 4,\ 3,\ 3,\ 3,\ 4]\ \ \#\ 1\ does\ not\ occur.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ >>>\ q2\ =\ [4,\ 4,\ 2,\ 2,\ 2,\ 4,\ 1,\ 1,\ 2,\ 2,\ 4,\ 2,\ 2,\ 2,\ 4]\ \ \#\ 3\ does\ not\ occur.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ >>>\ options\ =\ [1,\ 2,\ 3,\ 4]}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00115}00115\ \textcolor{stringliteral}{\ \ \ \ >>>\ res\ =\ crosstab(q1,\ q2,\ levels=(options,\ options))}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00117}00117\ \textcolor{stringliteral}{\ \ \ \ array([[0,\ 0,\ 0,\ 0],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00118}00118\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 1,\ 0,\ 1],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00119}00119\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 4,\ 0,\ 1],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00120}00120\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [0,\ 3,\ 0,\ 3]])}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00121}00121\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00122}00122\ \textcolor{stringliteral}{\ \ \ \ If\ \`{}levels\`{}\ is\ given,\ but\ an\ element\ of\ \`{}levels\`{}\ is\ None,\ the\ unique\ values}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00123}00123\ \textcolor{stringliteral}{\ \ \ \ of\ the\ corresponding\ argument\ are\ used.\ For\ example,}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00124}00124\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00125}00125\ \textcolor{stringliteral}{\ \ \ \ >>>\ res\ =\ crosstab(q1,\ q2,\ levels=(None,\ options))}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00126}00126\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.elements}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00127}00127\ \textcolor{stringliteral}{\ \ \ \ [array([2,\ 3,\ 4]),\ [1,\ 2,\ 3,\ 4]]}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00128}00128\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00129}00129\ \textcolor{stringliteral}{\ \ \ \ array([[1,\ 1,\ 0,\ 1],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00130}00130\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 4,\ 0,\ 1],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00131}00131\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [0,\ 3,\ 0,\ 3]])}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00132}00132\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00133}00133\ \textcolor{stringliteral}{\ \ \ \ If\ we\ want\ to\ ignore\ the\ pairs\ where\ 4\ occurs\ in\ \`{}\`{}q2\`{}\`{},\ we\ can}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00134}00134\ \textcolor{stringliteral}{\ \ \ \ give\ just\ the\ values\ [1,\ 2]\ to\ \`{}levels\`{},\ and\ the\ 4\ will\ be\ ignored:}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00135}00135\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00136}00136\ \textcolor{stringliteral}{\ \ \ \ >>>\ res\ =\ crosstab(q1,\ q2,\ levels=(None,\ [1,\ 2]))}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00137}00137\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.elements}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ [array([2,\ 3,\ 4]),\ [1,\ 2]]}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ array([[1,\ 1],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00141}00141\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 4],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [0,\ 3]])}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00143}00143\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ Finally,\ let's\ repeat\ the\ first\ example,\ but\ return\ a\ sparse\ matrix:}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00145}00145\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00146}00146\ \textcolor{stringliteral}{\ \ \ \ >>>\ res\ =\ crosstab(a,\ x,\ sparse=True)}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00147}00147\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00148}00148\ \textcolor{stringliteral}{\ \ \ \ <2x3\ sparse\ matrix\ of\ type\ '<class\ 'numpy.int64'>'}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00149}00149\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ with\ 4\ stored\ elements\ in\ COOrdinate\ format>}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00150}00150\ \textcolor{stringliteral}{\ \ \ \ >>>\ res.count.A}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00151}00151\ \textcolor{stringliteral}{\ \ \ \ array([[2,\ 3,\ 0],}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00152}00152\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [1,\ 0,\ 4]])}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00153}00153\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00154}00154\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00155}00155\ \ \ \ \ nargs\ =\ len(args)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00156}00156\ \ \ \ \ \textcolor{keywordflow}{if}\ nargs\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(\textcolor{stringliteral}{"{}At\ least\ one\ input\ sequence\ is\ required."{}})}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00159}00159\ \ \ \ \ len0\ =\ len(args[0])}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00160}00160\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ all(len(a)\ ==\ len0\ \textcolor{keywordflow}{for}\ a\ \textcolor{keywordflow}{in}\ args[1:]):}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}All\ input\ sequences\ must\ have\ the\ same\ length."{}})}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00163}00163\ \ \ \ \ \textcolor{keywordflow}{if}\ sparse\ \textcolor{keywordflow}{and}\ nargs\ !=\ 2:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}When\ \`{}sparse`\ is\ True,\ only\ two\ input\ sequences\ "{}}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}are\ allowed."{}})}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00167}00167\ \ \ \ \ \textcolor{keywordflow}{if}\ levels\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Call\ np.unique\ with\ return\_inverse=True\ on\ each\ argument.}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ actual\_levels,\ indices\ =\ zip(*[np.unique(a,\ return\_inverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ a\ \textcolor{keywordflow}{in}\ args])}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00171}00171\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \`{}levels`\ is\ not\ None...}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(levels)\ !=\ nargs:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{'len(levels)\ must\ equal\ the\ number\ of\ input\ '}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'sequences'})}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ args\ =\ [np.asarray(arg)\ \textcolor{keywordflow}{for}\ arg\ \textcolor{keywordflow}{in}\ args]}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ mask\ =\ np.zeros((nargs,\ len0),\ dtype=np.bool\_)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ inv\ =\ np.zeros((nargs,\ len0),\ dtype=np.intp)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ actual\_levels\ =\ []}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ (levels\_list,\ arg)\ \textcolor{keywordflow}{in}\ enumerate(zip(levels,\ args)):}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ levels\_list\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ levels\_list,\ inv[k,\ :]\ =\ np.unique(arg,\ return\_inverse=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask[k,\ :]\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ q\ =\ arg\ ==\ np.asarray(levels\_list).reshape(-\/1,\ 1)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mask[k,\ :]\ =\ np.any(q,\ axis=0)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ qnz\ =\ q.T.nonzero()}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inv[k,\ qnz[0]]\ =\ qnz[1]}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ actual\_levels.append(levels\_list)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00191}00191\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ mask\_all\ =\ mask.all(axis=0)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ indices\ =\ tuple(inv[:,\ mask\_all])}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00195}00195\ \ \ \ \ \textcolor{keywordflow}{if}\ sparse:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ count\ =\ \mbox{\hyperlink{classscipy_1_1sparse_1_1__coo_1_1coo__matrix}{coo\_matrix}}((np.ones(len(indices[0]),\ dtype=int),}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (indices[0],\ indices[1])))}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ count.sum\_duplicates()}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00199}00199\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ shape\ =\ [len(u)\ \textcolor{keywordflow}{for}\ u\ \textcolor{keywordflow}{in}\ actual\_levels]}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ count\ =\ np.zeros(shape,\ dtype=int)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ np.add.at(count,\ indices,\ 1)}
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{__crosstab_8py_source_l00204}00204\ \ \ \ \ \textcolor{keywordflow}{return}\ CrosstabResult(actual\_levels,\ count)}

\end{DoxyCode}
