\doxysection{unbuilder.\+py}
\hypertarget{unbuilder_8py_source}{}\label{unbuilder_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/colorLib/unbuilder.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/colorLib/unbuilder.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00001}\mbox{\hyperlink{namespacefontTools_1_1colorLib_1_1unbuilder}{00001}}\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1ttLib_1_1tables}{fontTools.ttLib.tables}}\ \textcolor{keyword}{import}\ otTables\ \textcolor{keyword}{as}\ ot}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00002}00002\ \textcolor{keyword}{from}\ .table\_builder\ \textcolor{keyword}{import}\ TableUnbuilder}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00005}00005\ \textcolor{keyword}{def\ }unbuildColrV1(layerList,\ baseGlyphList):}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00006}00006\ \ \ \ \ layers\ =\ []}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00007}00007\ \ \ \ \ \textcolor{keywordflow}{if}\ layerList:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00008}00008\ \ \ \ \ \ \ \ \ layers\ =\ layerList.Paint}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00009}00009\ \ \ \ \ unbuilder\ =\ \mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder}{LayerListUnbuilder}}(layers)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00010}00010\ \ \ \ \ \textcolor{keywordflow}{return}\ \{}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00011}00011\ \ \ \ \ \ \ \ \ rec.BaseGlyph:\ unbuilder.unbuildPaint(rec.Paint)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00012}00012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ rec\ \textcolor{keywordflow}{in}\ baseGlyphList.BaseGlyphPaintRecord}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00013}00013\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00016}00016\ \textcolor{keyword}{def\ }\_flatten\_layers(lst):}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00017}00017\ \ \ \ \ \textcolor{keywordflow}{for}\ paint\ \textcolor{keywordflow}{in}\ lst:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ paint[\textcolor{stringliteral}{"{}Format"{}}]\ ==\ ot.PaintFormat.PaintColrLayers:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ \textcolor{keyword}{from}\ \_flatten\_layers(paint[\textcolor{stringliteral}{"{}Layers"{}}])}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ paint}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00024}\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder}{00024}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder}{LayerListUnbuilder}}:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00025}00025\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ layers):}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder_a823d09f1062e7195ab0c1a1c2e8f3264}{layers}}\ =\ layers}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ callbacks\ =\ \{}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ (}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ot.Paint,}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ot.PaintFormat.PaintColrLayers,}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ ):\ self.\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder_afce834cc4f840d668eec67059bcfb107}{\_unbuildPaintColrLayers}},}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder_ad89c6c8af0baea0d43d824841c0c656e}{tableUnbuilder}}\ =\ \mbox{\hyperlink{classfontTools_1_1colorLib_1_1table__builder_1_1TableUnbuilder}{TableUnbuilder}}(callbacks)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00036}00036\ \ \ \ \ \textcolor{keyword}{def\ }unbuildPaint(self,\ paint):}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ isinstance(paint,\ ot.Paint)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder_ad89c6c8af0baea0d43d824841c0c656e}{tableUnbuilder}}.unbuild(paint)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00040}00040\ \ \ \ \ \textcolor{keyword}{def\ }\_unbuildPaintColrLayers(self,\ source):}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ source[\textcolor{stringliteral}{"{}Format"{}}]\ ==\ ot.PaintFormat.PaintColrLayers}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ layers\ =\ list(}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \_flatten\_layers(}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder_a08c2a14be0a886901ecf7e08681131fa}{unbuildPaint}}(childPaint)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ childPaint\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1colorLib_1_1unbuilder_1_1LayerListUnbuilder_a823d09f1062e7195ab0c1a1c2e8f3264}{layers}}[}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ source[\textcolor{stringliteral}{"{}FirstLayerIndex"{}}]\ :\ source[\textcolor{stringliteral}{"{}FirstLayerIndex"{}}]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ source[\textcolor{stringliteral}{"{}NumLayers"{}}]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(layers)\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ layers[0]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\textcolor{stringliteral}{"{}Format"{}}:\ source[\textcolor{stringliteral}{"{}Format"{}}],\ \textcolor{stringliteral}{"{}Layers"{}}:\ layers\}}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00061}00061\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00062}00062\ \ \ \ \ \textcolor{keyword}{from}\ pprint\ \textcolor{keyword}{import}\ pprint}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00063}00063\ \ \ \ \ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00064}00064\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1ttLib}{fontTools.ttLib}}\ \textcolor{keyword}{import}\ TTFont}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00066}00066\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ fontfile\ =\ sys.argv[1]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00068}00068\ \ \ \ \ \textcolor{keywordflow}{except}\ IndexError:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ sys.exit(\textcolor{stringliteral}{"{}usage:\ fonttools\ colorLib.unbuilder\ FONTFILE"{}})}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00071}00071\ \ \ \ \ font\ =\ \mbox{\hyperlink{classfontTools_1_1ttLib_1_1ttFont_1_1TTFont}{TTFont}}(fontfile)}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00072}00072\ \ \ \ \ colr\ =\ font[\textcolor{stringliteral}{"{}COLR"{}}]}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00073}00073\ \ \ \ \ \textcolor{keywordflow}{if}\ colr.version\ <\ 1:}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ sys.exit(f\textcolor{stringliteral}{"{}error:\ No\ COLR\ table\ version=1\ found\ in\ \{fontfile\}"{}})}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00076}00076\ \ \ \ \ colorGlyphs\ =\ unbuildColrV1(}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ colr.table.LayerList,}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ colr.table.BaseGlyphList,}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00079}00079\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{unbuilder_8py_source_l00081}00081\ \ \ \ \ \mbox{\hyperlink{namespacepprint}{pprint}}(colorGlyphs)}

\end{DoxyCode}
