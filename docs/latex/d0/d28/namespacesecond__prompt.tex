\doxysection{second\+\_\+prompt Namespace Reference}
\hypertarget{namespacesecond__prompt}{}\label{namespacesecond__prompt}\index{second\_prompt@{second\_prompt}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classsecond__prompt_1_1Confidence}{Confidence}}
\begin{DoxyCompactList}\small\item\em Defines the \doxylink{classsecond__prompt_1_1Confidence}{Confidence} class, which is used to determine the structured ouput. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a9a97bd63378221e54c1a9a5ca660adf6}{safe\+\_\+parse\+\_\+response}} (response)
\begin{DoxyCompactList}\small\item\em Translates the given response from the model into the proper dictionary format. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesecond__prompt_a94a5ff0b968c406535bdcafbdc13eb23}{ensemble\+\_\+assessment}} (code1, code2, model\+\_\+name, prompt, n=3)
\begin{DoxyCompactList}\small\item\em Performs multiple assessments and aggregates predictions using voting. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesecond__prompt_af655d202a349132119a1f46abffbc442}{determine\+\_\+similarity}} (results)
\item 
\mbox{\hyperlink{namespacesecond__prompt_a92507d6e68a8bfcee0e3a2efdf3b2d57}{rag\+\_\+similarity\+\_\+assessment}} (code1, code2, model\+\_\+name, prompt)
\begin{DoxyCompactList}\small\item\em Sends a prompt to the LLM to classify clone type and score similarities. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912}{DATA\+\_\+\+DIR}} = "{}./data/data"{}
\begin{DoxyCompactList}\small\item\em Path to the directory containing code files for similarity comparison. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{namespacesecond__prompt_a3d958eb5d7e6adc47131410c8c871ff6}{PAIRS\+\_\+\+CSV}} = "{}./pairs.\+csv"{}
\begin{DoxyCompactList}\small\item\em CSV file containing file pairs to compare. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{namespacesecond__prompt_aad98c946a4693d7511c20203519c24a1}{GROUND\+\_\+\+TRUTH\+\_\+\+CSV}} = "{}./ground\+\_\+truth.\+csv"{}
\begin{DoxyCompactList}\small\item\em CSV file containing ground truth similarity labels for file pairs. \end{DoxyCompactList}\item 
list \mbox{\hyperlink{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696}{LLMS}}
\begin{DoxyCompactList}\small\item\em List of model names to use for clone detection. \end{DoxyCompactList}\item 
list \mbox{\hyperlink{namespacesecond__prompt_a981b0a50447d1864db92084909fc94fb}{PROMPTS}}
\begin{DoxyCompactList}\small\item\em The first prompt we tested on. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesecond__prompt_a6cce2d16970f5cea4367c810168cd0ee}{pairs\+\_\+df}} = pd.\+read\+\_\+csv(\mbox{\hyperlink{namespacesecond__prompt_a3d958eb5d7e6adc47131410c8c871ff6}{PAIRS\+\_\+\+CSV}})
\begin{DoxyCompactList}\small\item\em Data\+Frame of file pairs to compare. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3}{ground\+\_\+truth\+\_\+df}} = pd.\+read\+\_\+csv(\mbox{\hyperlink{namespacesecond__prompt_aad98c946a4693d7511c20203519c24a1}{GROUND\+\_\+\+TRUTH\+\_\+\+CSV}})
\begin{DoxyCompactList}\small\item\em Data\+Frame containing ground truth similarity labels. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesecond__prompt_a18d2a99466ad8de35ec258b8dcccbe04}{ground\+\_\+truth\+\_\+map}} = dict(zip(\mbox{\hyperlink{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3}{ground\+\_\+truth\+\_\+df}}\mbox{[}\textquotesingle{}pair-\/id\textquotesingle{}\mbox{]}, \mbox{\hyperlink{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3}{ground\+\_\+truth\+\_\+df}}\mbox{[}\textquotesingle{}similar\textquotesingle{}\mbox{]}))
\begin{DoxyCompactList}\small\item\em Dictionary mapping pair IDs to binary similarity values. \end{DoxyCompactList}\item 
dict \mbox{\hyperlink{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79}{results\+\_\+by\+\_\+prompt}} = \{i\+: \{\textquotesingle{}truth\textquotesingle{}\+: \mbox{[}$\,$\mbox{]}, \textquotesingle{}preds\textquotesingle{}\+: \mbox{[}$\,$\mbox{]}\} for i in range(len(\mbox{\hyperlink{namespacesecond__prompt_a981b0a50447d1864db92084909fc94fb}{PROMPTS}}))\}
\begin{DoxyCompactList}\small\item\em Executes evaluation over prompts and saves results and metrics. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{namespacesecond__prompt_ae8a7a971d8c145806ca60d460dfada86}{output}} = f"{}./results/prompt\+\_\+second\+\_\+results\+\_\+\{\mbox{\hyperlink{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696}{LLMS}}\mbox{[}0\mbox{]}\}\+\_\+iteration\+\_\+\{iteration\}.csv"{}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a6befa808161a78edfca519a6364b5de4}{newline}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a549ec9ba9b1be6651a46252d95cc7d04}{writer}} = csv.\+writer(outfile)
\item 
\mbox{\hyperlink{namespacesecond__prompt_aef31f595c6944282fbf74eb4072678ce}{file1\+\_\+path}} = os.\+path.\+join(\mbox{\hyperlink{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912}{DATA\+\_\+\+DIR}}, row\mbox{[}\textquotesingle{}file1\textquotesingle{}\mbox{]})
\item 
\mbox{\hyperlink{namespacesecond__prompt_a042e290eff18cb71cf88f7b7dcbe0150}{file2\+\_\+path}} = os.\+path.\+join(\mbox{\hyperlink{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912}{DATA\+\_\+\+DIR}}, row\mbox{[}\textquotesingle{}file2\textquotesingle{}\mbox{]})
\item 
\mbox{\hyperlink{namespacesecond__prompt_a087cc813df217b047ec3dd711601fefe}{pair\+\_\+id}} = row\mbox{[}\textquotesingle{}pair-\/id\textquotesingle{}\mbox{]}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a5e0a4c8d203615d50eb56d69e350bae5}{encoding}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_aebd9c5429797da0cc2ad7252f587a58a}{errors}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a869ba36301be3465608fec7b4689f210}{code1}} = f1.\+read()
\item 
\mbox{\hyperlink{namespacesecond__prompt_afc13dcdf3b41c7e9abc724f7de2f5634}{code2}} = f2.\+read()
\item 
\mbox{\hyperlink{namespacesecond__prompt_a906b932b54f91117b1d4de74f56fbc8e}{ground\+\_\+truth\+\_\+sim}} = ground\+\_\+truth\+\_\+map.\+get(pair\+\_\+id, "{}Unknown"{})
\item 
\mbox{\hyperlink{namespacesecond__prompt_ab36da0ddc5805270699fac78908d5581}{results}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a415668ba1cdcd832dd1f3ed624d61c0d}{predicted\+\_\+type}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_afadbd76042b1c04aeb5a05b0d50e4565}{predicted\+\_\+sim}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_aebb1c5ad29f4298f80860735f8700f62}{model\+\_\+name}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a75faf73241953ecd3d5055efeb9b0b7b}{prompt}}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a9af20b5301030eab99a93a4961227e57}{n}}
\item 
str \mbox{\hyperlink{namespacesecond__prompt_a32a97d1ea6dab3580c00d6bff0f4f989}{metrics\+\_\+output}} = f\textquotesingle{}./results/prompt\+\_\+second\+\_\+\{\mbox{\hyperlink{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696}{LLMS}}\mbox{[}0\mbox{]}\}\+\_\+iteration\+\_\+\{iteration\}.txt\textquotesingle{}
\begin{DoxyCompactList}\small\item\em Calculate and write evaluation metrics for the threshold. \end{DoxyCompactList}\item 
dict \mbox{\hyperlink{namespacesecond__prompt_ae040d41fb3fc5f8f0d5b22b3799a7ffc}{truth}} = \mbox{\hyperlink{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79}{results\+\_\+by\+\_\+prompt}}\mbox{[}prompt\+\_\+id\mbox{]}\mbox{[}\textquotesingle{}truth\textquotesingle{}\mbox{]}
\item 
dict \mbox{\hyperlink{namespacesecond__prompt_a8573a0cc588ffc9103ea8d3f4a02c354}{preds}} = \mbox{\hyperlink{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79}{results\+\_\+by\+\_\+prompt}}\mbox{[}prompt\+\_\+id\mbox{]}\mbox{[}\textquotesingle{}preds\textquotesingle{}\mbox{]}
\item 
\mbox{\hyperlink{namespacesecond__prompt_a23fea67474e609ace21ca5052c452360}{acc}} = accuracy\+\_\+score(truth, preds)
\item 
\mbox{\hyperlink{namespacesecond__prompt_ab0e2c077cfacff7d8a3d2e62bd55428f}{prec}} = precision\+\_\+score(truth, preds, zero\+\_\+division=0)
\item 
\mbox{\hyperlink{namespacesecond__prompt_a9537da50ff92ee849e40fc67531b782d}{rec}} = recall\+\_\+score(truth, preds, zero\+\_\+division=0)
\item 
\mbox{\hyperlink{namespacesecond__prompt_ac996253034ef3fe5b5817e25a018acd0}{f1s}} = f1\+\_\+score(truth, preds, zero\+\_\+division=0)
\item 
\mbox{\hyperlink{namespacesecond__prompt_a4f4379383241623be5b8669f4d52719a}{mse}} = mean\+\_\+squared\+\_\+error(truth, preds, zero\+\_\+division=0)
\item 
\mbox{\hyperlink{namespacesecond__prompt_a33492ba6f912dc9a987469ac89f627fd}{file}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacesecond__prompt_af655d202a349132119a1f46abffbc442}\index{second\_prompt@{second\_prompt}!determine\_similarity@{determine\_similarity}}
\index{determine\_similarity@{determine\_similarity}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{determine\_similarity()}{determine\_similarity()}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_af655d202a349132119a1f46abffbc442} 
second\+\_\+prompt.\+determine\+\_\+similarity (\begin{DoxyParamCaption}\item[{}]{results}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00160}{160}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a94a5ff0b968c406535bdcafbdc13eb23}\index{second\_prompt@{second\_prompt}!ensemble\_assessment@{ensemble\_assessment}}
\index{ensemble\_assessment@{ensemble\_assessment}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{ensemble\_assessment()}{ensemble\_assessment()}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a94a5ff0b968c406535bdcafbdc13eb23} 
second\+\_\+prompt.\+ensemble\+\_\+assessment (\begin{DoxyParamCaption}\item[{}]{code1}{, }\item[{}]{code2}{, }\item[{}]{model\+\_\+name}{, }\item[{}]{thr}{, }\item[{}]{n}{ = {\ttfamily 3}}\end{DoxyParamCaption})}



Performs multiple assessments and aggregates predictions using voting. 


\begin{DoxyParams}{Parameters}
{\em code1} & First code string. \\
\hline
{\em code2} & Second code string. \\
\hline
{\em model\+\_\+name} & The name of the LLM model to use. \\
\hline
{\em thr} & Threshold for similarity. \\
\hline
{\em n} & Number of repeated assessments for ensemble. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Tuple of (average type scores, majority predicted type, majority binary similarity). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00115}{115}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.



References \mbox{\hyperlink{second__prompt_8py_source_l00177}{rag\+\_\+similarity\+\_\+assessment()}}.

\Hypertarget{namespacesecond__prompt_a92507d6e68a8bfcee0e3a2efdf3b2d57}\index{second\_prompt@{second\_prompt}!rag\_similarity\_assessment@{rag\_similarity\_assessment}}
\index{rag\_similarity\_assessment@{rag\_similarity\_assessment}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{rag\_similarity\_assessment()}{rag\_similarity\_assessment()}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a92507d6e68a8bfcee0e3a2efdf3b2d57} 
second\+\_\+prompt.\+rag\+\_\+similarity\+\_\+assessment (\begin{DoxyParamCaption}\item[{}]{code1}{, }\item[{}]{code2}{, }\item[{}]{model\+\_\+name}{, }\item[{}]{thr}{}\end{DoxyParamCaption})}



Sends a prompt to the LLM to classify clone type and score similarities. 


\begin{DoxyParams}{Parameters}
{\em code1} & First code snippet to evaluate. \\
\hline
{\em code2} & Second code snippet to evaluate. \\
\hline
{\em model\+\_\+name} & Name of the language model to query. \\
\hline
{\em thr} & Threshold for determining clone similarity. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Tuple of (type score dictionary, predicted type, binary similarity). 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00177}{177}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.



References \mbox{\hyperlink{second__prompt_8py_source_l00086}{safe\+\_\+parse\+\_\+response()}}.



Referenced by \mbox{\hyperlink{second__prompt_8py_source_l00115}{ensemble\+\_\+assessment()}}.

\Hypertarget{namespacesecond__prompt_a9a97bd63378221e54c1a9a5ca660adf6}\index{second\_prompt@{second\_prompt}!safe\_parse\_response@{safe\_parse\_response}}
\index{safe\_parse\_response@{safe\_parse\_response}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{safe\_parse\_response()}{safe\_parse\_response()}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a9a97bd63378221e54c1a9a5ca660adf6} 
second\+\_\+prompt.\+safe\+\_\+parse\+\_\+response (\begin{DoxyParamCaption}\item[{}]{response}{}\end{DoxyParamCaption})}



Translates the given response from the model into the proper dictionary format. 


\begin{DoxyParams}{Parameters}
{\em response} & The RAG output. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00086}{86}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.



Referenced by \mbox{\hyperlink{second__prompt_8py_source_l00177}{rag\+\_\+similarity\+\_\+assessment()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{namespacesecond__prompt_a23fea67474e609ace21ca5052c452360}\index{second\_prompt@{second\_prompt}!acc@{acc}}
\index{acc@{acc}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{acc}{acc}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a23fea67474e609ace21ca5052c452360} 
second\+\_\+prompt.\+acc = accuracy\+\_\+score(truth, preds)}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00243}{243}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a869ba36301be3465608fec7b4689f210}\index{second\_prompt@{second\_prompt}!code1@{code1}}
\index{code1@{code1}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{code1}{code1}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a869ba36301be3465608fec7b4689f210} 
second\+\_\+prompt.\+code1 = f1.\+read()}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00216}{216}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_afc13dcdf3b41c7e9abc724f7de2f5634}\index{second\_prompt@{second\_prompt}!code2@{code2}}
\index{code2@{code2}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{code2}{code2}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_afc13dcdf3b41c7e9abc724f7de2f5634} 
second\+\_\+prompt.\+code2 = f2.\+read()}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00217}{217}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912}\index{second\_prompt@{second\_prompt}!DATA\_DIR@{DATA\_DIR}}
\index{DATA\_DIR@{DATA\_DIR}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{DATA\_DIR}{DATA\_DIR}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912} 
str second\+\_\+prompt.\+DATA\+\_\+\+DIR = "{}./data/data"{}}



Path to the directory containing code files for similarity comparison. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00025}{25}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a5e0a4c8d203615d50eb56d69e350bae5}\index{second\_prompt@{second\_prompt}!encoding@{encoding}}
\index{encoding@{encoding}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{encoding}{encoding}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a5e0a4c8d203615d50eb56d69e350bae5} 
second\+\_\+prompt.\+encoding}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00214}{214}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_aebd9c5429797da0cc2ad7252f587a58a}\index{second\_prompt@{second\_prompt}!errors@{errors}}
\index{errors@{errors}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{errors}{errors}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_aebd9c5429797da0cc2ad7252f587a58a} 
second\+\_\+prompt.\+errors}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00214}{214}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_ac996253034ef3fe5b5817e25a018acd0}\index{second\_prompt@{second\_prompt}!f1s@{f1s}}
\index{f1s@{f1s}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{f1s}{f1s}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_ac996253034ef3fe5b5817e25a018acd0} 
second\+\_\+prompt.\+f1s = f1\+\_\+score(truth, preds, zero\+\_\+division=0)}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00246}{246}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a33492ba6f912dc9a987469ac89f627fd}\index{second\_prompt@{second\_prompt}!file@{file}}
\index{file@{file}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{file}{file}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a33492ba6f912dc9a987469ac89f627fd} 
second\+\_\+prompt.\+file}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00248}{248}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_aef31f595c6944282fbf74eb4072678ce}\index{second\_prompt@{second\_prompt}!file1\_path@{file1\_path}}
\index{file1\_path@{file1\_path}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{file1\_path}{file1\_path}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_aef31f595c6944282fbf74eb4072678ce} 
second\+\_\+prompt.\+file1\+\_\+path = os.\+path.\+join(\mbox{\hyperlink{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912}{DATA\+\_\+\+DIR}}, row\mbox{[}\textquotesingle{}file1\textquotesingle{}\mbox{]})}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00210}{210}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a042e290eff18cb71cf88f7b7dcbe0150}\index{second\_prompt@{second\_prompt}!file2\_path@{file2\_path}}
\index{file2\_path@{file2\_path}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{file2\_path}{file2\_path}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a042e290eff18cb71cf88f7b7dcbe0150} 
second\+\_\+prompt.\+file2\+\_\+path = os.\+path.\+join(\mbox{\hyperlink{namespacesecond__prompt_a59f649ae101d35be89bb7962fd673912}{DATA\+\_\+\+DIR}}, row\mbox{[}\textquotesingle{}file2\textquotesingle{}\mbox{]})}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00211}{211}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_aad98c946a4693d7511c20203519c24a1}\index{second\_prompt@{second\_prompt}!GROUND\_TRUTH\_CSV@{GROUND\_TRUTH\_CSV}}
\index{GROUND\_TRUTH\_CSV@{GROUND\_TRUTH\_CSV}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{GROUND\_TRUTH\_CSV}{GROUND\_TRUTH\_CSV}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_aad98c946a4693d7511c20203519c24a1} 
str second\+\_\+prompt.\+GROUND\+\_\+\+TRUTH\+\_\+\+CSV = "{}./ground\+\_\+truth.\+csv"{}}



CSV file containing ground truth similarity labels for file pairs. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00033}{33}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3}\index{second\_prompt@{second\_prompt}!ground\_truth\_df@{ground\_truth\_df}}
\index{ground\_truth\_df@{ground\_truth\_df}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{ground\_truth\_df}{ground\_truth\_df}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3} 
second\+\_\+prompt.\+ground\+\_\+truth\+\_\+df = pd.\+read\+\_\+csv(\mbox{\hyperlink{namespacesecond__prompt_aad98c946a4693d7511c20203519c24a1}{GROUND\+\_\+\+TRUTH\+\_\+\+CSV}})}



Data\+Frame containing ground truth similarity labels. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00076}{76}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a18d2a99466ad8de35ec258b8dcccbe04}\index{second\_prompt@{second\_prompt}!ground\_truth\_map@{ground\_truth\_map}}
\index{ground\_truth\_map@{ground\_truth\_map}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{ground\_truth\_map}{ground\_truth\_map}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a18d2a99466ad8de35ec258b8dcccbe04} 
second\+\_\+prompt.\+ground\+\_\+truth\+\_\+map = dict(zip(\mbox{\hyperlink{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3}{ground\+\_\+truth\+\_\+df}}\mbox{[}\textquotesingle{}pair-\/id\textquotesingle{}\mbox{]}, \mbox{\hyperlink{namespacesecond__prompt_a43d60377a797b45db691bf1aadd335e3}{ground\+\_\+truth\+\_\+df}}\mbox{[}\textquotesingle{}similar\textquotesingle{}\mbox{]}))}



Dictionary mapping pair IDs to binary similarity values. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00080}{80}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a906b932b54f91117b1d4de74f56fbc8e}\index{second\_prompt@{second\_prompt}!ground\_truth\_sim@{ground\_truth\_sim}}
\index{ground\_truth\_sim@{ground\_truth\_sim}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{ground\_truth\_sim}{ground\_truth\_sim}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a906b932b54f91117b1d4de74f56fbc8e} 
second\+\_\+prompt.\+ground\+\_\+truth\+\_\+sim = ground\+\_\+truth\+\_\+map.\+get(pair\+\_\+id, "{}Unknown"{})}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00221}{221}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696}\index{second\_prompt@{second\_prompt}!LLMS@{LLMS}}
\index{LLMS@{LLMS}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{LLMS}{LLMS}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696} 
list second\+\_\+prompt.\+LLMS}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ [}
\DoxyCodeLine{00002\ \ \ \ \ \textcolor{stringliteral}{"{}llama3.1:latest"{}}}
\DoxyCodeLine{00003\ ]}

\end{DoxyCode}


List of model names to use for clone detection. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00037}{37}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a32a97d1ea6dab3580c00d6bff0f4f989}\index{second\_prompt@{second\_prompt}!metrics\_output@{metrics\_output}}
\index{metrics\_output@{metrics\_output}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{metrics\_output}{metrics\_output}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a32a97d1ea6dab3580c00d6bff0f4f989} 
str second\+\_\+prompt.\+metrics\+\_\+output = f\textquotesingle{}./results/prompt\+\_\+second\+\_\+\{\mbox{\hyperlink{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696}{LLMS}}\mbox{[}0\mbox{]}\}\+\_\+iteration\+\_\+\{iteration\}.txt\textquotesingle{}}



Calculate and write evaluation metrics for the threshold. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00237}{237}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_aebb1c5ad29f4298f80860735f8700f62}\index{second\_prompt@{second\_prompt}!model\_name@{model\_name}}
\index{model\_name@{model\_name}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{model\_name}{model\_name}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_aebb1c5ad29f4298f80860735f8700f62} 
second\+\_\+prompt.\+model\+\_\+name}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00226}{226}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a4f4379383241623be5b8669f4d52719a}\index{second\_prompt@{second\_prompt}!mse@{mse}}
\index{mse@{mse}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{mse}{mse}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a4f4379383241623be5b8669f4d52719a} 
second\+\_\+prompt.\+mse = mean\+\_\+squared\+\_\+error(truth, preds, zero\+\_\+division=0)}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00247}{247}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a9af20b5301030eab99a93a4961227e57}\index{second\_prompt@{second\_prompt}!n@{n}}
\index{n@{n}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{n}{n}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a9af20b5301030eab99a93a4961227e57} 
second\+\_\+prompt.\+n}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00226}{226}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a6befa808161a78edfca519a6364b5de4}\index{second\_prompt@{second\_prompt}!newline@{newline}}
\index{newline@{newline}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{newline}{newline}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a6befa808161a78edfca519a6364b5de4} 
second\+\_\+prompt.\+newline}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00201}{201}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_ae8a7a971d8c145806ca60d460dfada86}\index{second\_prompt@{second\_prompt}!output@{output}}
\index{output@{output}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{output}{output}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_ae8a7a971d8c145806ca60d460dfada86} 
str second\+\_\+prompt.\+output = f"{}./results/prompt\+\_\+second\+\_\+results\+\_\+\{\mbox{\hyperlink{namespacesecond__prompt_a83c1c7f37c1d97f6001634a297ff4696}{LLMS}}\mbox{[}0\mbox{]}\}\+\_\+iteration\+\_\+\{iteration\}.csv"{}}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00200}{200}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a087cc813df217b047ec3dd711601fefe}\index{second\_prompt@{second\_prompt}!pair\_id@{pair\_id}}
\index{pair\_id@{pair\_id}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{pair\_id}{pair\_id}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a087cc813df217b047ec3dd711601fefe} 
second\+\_\+prompt.\+pair\+\_\+id = row\mbox{[}\textquotesingle{}pair-\/id\textquotesingle{}\mbox{]}}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00212}{212}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a3d958eb5d7e6adc47131410c8c871ff6}\index{second\_prompt@{second\_prompt}!PAIRS\_CSV@{PAIRS\_CSV}}
\index{PAIRS\_CSV@{PAIRS\_CSV}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{PAIRS\_CSV}{PAIRS\_CSV}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a3d958eb5d7e6adc47131410c8c871ff6} 
str second\+\_\+prompt.\+PAIRS\+\_\+\+CSV = "{}./pairs.\+csv"{}}



CSV file containing file pairs to compare. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00029}{29}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a6cce2d16970f5cea4367c810168cd0ee}\index{second\_prompt@{second\_prompt}!pairs\_df@{pairs\_df}}
\index{pairs\_df@{pairs\_df}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{pairs\_df}{pairs\_df}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a6cce2d16970f5cea4367c810168cd0ee} 
second\+\_\+prompt.\+pairs\+\_\+df = pd.\+read\+\_\+csv(\mbox{\hyperlink{namespacesecond__prompt_a3d958eb5d7e6adc47131410c8c871ff6}{PAIRS\+\_\+\+CSV}})}



Data\+Frame of file pairs to compare. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00072}{72}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_ab0e2c077cfacff7d8a3d2e62bd55428f}\index{second\_prompt@{second\_prompt}!prec@{prec}}
\index{prec@{prec}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{prec}{prec}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_ab0e2c077cfacff7d8a3d2e62bd55428f} 
second\+\_\+prompt.\+prec = precision\+\_\+score(truth, preds, zero\+\_\+division=0)}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00244}{244}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_afadbd76042b1c04aeb5a05b0d50e4565}\index{second\_prompt@{second\_prompt}!predicted\_sim@{predicted\_sim}}
\index{predicted\_sim@{predicted\_sim}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{predicted\_sim}{predicted\_sim}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_afadbd76042b1c04aeb5a05b0d50e4565} 
second\+\_\+prompt.\+predicted\+\_\+sim}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00226}{226}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a415668ba1cdcd832dd1f3ed624d61c0d}\index{second\_prompt@{second\_prompt}!predicted\_type@{predicted\_type}}
\index{predicted\_type@{predicted\_type}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{predicted\_type}{predicted\_type}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a415668ba1cdcd832dd1f3ed624d61c0d} 
second\+\_\+prompt.\+predicted\+\_\+type}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00226}{226}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a8573a0cc588ffc9103ea8d3f4a02c354}\index{second\_prompt@{second\_prompt}!preds@{preds}}
\index{preds@{preds}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{preds}{preds}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a8573a0cc588ffc9103ea8d3f4a02c354} 
dict second\+\_\+prompt.\+preds = \mbox{\hyperlink{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79}{results\+\_\+by\+\_\+prompt}}\mbox{[}prompt\+\_\+id\mbox{]}\mbox{[}\textquotesingle{}preds\textquotesingle{}\mbox{]}}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00241}{241}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a75faf73241953ecd3d5055efeb9b0b7b}\index{second\_prompt@{second\_prompt}!prompt@{prompt}}
\index{prompt@{prompt}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{prompt}{prompt}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a75faf73241953ecd3d5055efeb9b0b7b} 
second\+\_\+prompt.\+prompt}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00226}{226}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a981b0a50447d1864db92084909fc94fb}\index{second\_prompt@{second\_prompt}!PROMPTS@{PROMPTS}}
\index{PROMPTS@{PROMPTS}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{PROMPTS}{PROMPTS}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a981b0a50447d1864db92084909fc94fb} 
list second\+\_\+prompt.\+PROMPTS}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ [}
\DoxyCodeLine{00002\ \ \ \ \ \textcolor{comment}{\#\ Prompt\ 2}}
\DoxyCodeLine{00003\ \ \ \ \ }
\DoxyCodeLine{00004\ ]}

\end{DoxyCode}


The first prompt we tested on. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00050}{50}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a9537da50ff92ee849e40fc67531b782d}\index{second\_prompt@{second\_prompt}!rec@{rec}}
\index{rec@{rec}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{rec}{rec}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a9537da50ff92ee849e40fc67531b782d} 
second\+\_\+prompt.\+rec = recall\+\_\+score(truth, preds, zero\+\_\+division=0)}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00245}{245}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_ab36da0ddc5805270699fac78908d5581}\index{second\_prompt@{second\_prompt}!results@{results}}
\index{results@{results}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{results}{results}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_ab36da0ddc5805270699fac78908d5581} 
second\+\_\+prompt.\+results}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00226}{226}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79}\index{second\_prompt@{second\_prompt}!results\_by\_prompt@{results\_by\_prompt}}
\index{results\_by\_prompt@{results\_by\_prompt}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{results\_by\_prompt}{results\_by\_prompt}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79} 
dict second\+\_\+prompt.\+results\+\_\+by\+\_\+prompt = \{i\+: \{\textquotesingle{}truth\textquotesingle{}\+: \mbox{[}$\,$\mbox{]}, \textquotesingle{}preds\textquotesingle{}\+: \mbox{[}$\,$\mbox{]}\} for i in range(len(\mbox{\hyperlink{namespacesecond__prompt_a981b0a50447d1864db92084909fc94fb}{PROMPTS}}))\}}



Executes evaluation over prompts and saves results and metrics. 



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00195}{195}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_ae040d41fb3fc5f8f0d5b22b3799a7ffc}\index{second\_prompt@{second\_prompt}!truth@{truth}}
\index{truth@{truth}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{truth}{truth}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_ae040d41fb3fc5f8f0d5b22b3799a7ffc} 
dict second\+\_\+prompt.\+truth = \mbox{\hyperlink{namespacesecond__prompt_aa329645cd14f1031467c883e332fba79}{results\+\_\+by\+\_\+prompt}}\mbox{[}prompt\+\_\+id\mbox{]}\mbox{[}\textquotesingle{}truth\textquotesingle{}\mbox{]}}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00240}{240}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

\Hypertarget{namespacesecond__prompt_a549ec9ba9b1be6651a46252d95cc7d04}\index{second\_prompt@{second\_prompt}!writer@{writer}}
\index{writer@{writer}!second\_prompt@{second\_prompt}}
\doxysubsubsection{\texorpdfstring{writer}{writer}}
{\footnotesize\ttfamily \label{namespacesecond__prompt_a549ec9ba9b1be6651a46252d95cc7d04} 
second\+\_\+prompt.\+writer = csv.\+writer(outfile)}



Definition at line \mbox{\hyperlink{second__prompt_8py_source_l00202}{202}} of file \mbox{\hyperlink{second__prompt_8py_source}{second\+\_\+prompt.\+py}}.

