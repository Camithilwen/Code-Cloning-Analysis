\doxysection{test\+\_\+type1font.\+py}
\hypertarget{test__type1font_8py_source}{}\label{test__type1font_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/matplotlib/tests/test\_type1font.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/matplotlib/tests/test\_type1font.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00001}\mbox{\hyperlink{namespacematplotlib_1_1tests_1_1test__type1font}{00001}}\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacematplotlib_1_1__type1font}{matplotlib.\_type1font}}\ \textcolor{keyword}{as}\ t1f}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00002}00002\ \textcolor{keyword}{import}\ os.path}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00003}00003\ \textcolor{keyword}{import}\ difflib}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00004}00004\ \textcolor{keyword}{import}\ pytest}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00007}00007\ \textcolor{keyword}{def\ }test\_Type1Font():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00008}00008\ \ \ \ \ filename\ =\ os.path.join(os.path.dirname(\_\_file\_\_),\ \textcolor{stringliteral}{'cmr10.pfb'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00009}00009\ \ \ \ \ font\ =\ t1f.Type1Font(filename)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00010}00010\ \ \ \ \ slanted\ =\ font.transform(\{\textcolor{stringliteral}{'slant'}:\ 1\})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00011}00011\ \ \ \ \ condensed\ =\ font.transform(\{\textcolor{stringliteral}{'extend'}:\ 0.5\})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00012}00012\ \ \ \ \ \textcolor{keyword}{with}\ open(filename,\ \textcolor{stringliteral}{'rb'})\ \textcolor{keyword}{as}\ fd:}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00013}00013\ \ \ \ \ \ \ \ \ rawdata\ =\ fd.read()}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00014}00014\ \ \ \ \ \textcolor{keyword}{assert}\ font.parts[0]\ ==\ rawdata[0x0006:0x10c5]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00015}00015\ \ \ \ \ \textcolor{keyword}{assert}\ font.parts[1]\ ==\ rawdata[0x10cb:0x897f]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00016}00016\ \ \ \ \ \textcolor{keyword}{assert}\ font.parts[2]\ ==\ rawdata[0x8985:0x8ba6]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00017}00017\ \ \ \ \ \textcolor{keyword}{assert}\ font.decrypted.startswith(b\textcolor{stringliteral}{'dup\(\backslash\)n/Private\ 18\ dict\ dup\ begin'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00018}00018\ \ \ \ \ \textcolor{keyword}{assert}\ font.decrypted.endswith(b\textcolor{stringliteral}{'mark\ currentfile\ closefile\(\backslash\)n'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00019}00019\ \ \ \ \ \textcolor{keyword}{assert}\ slanted.decrypted.startswith(b\textcolor{stringliteral}{'dup\(\backslash\)n/Private\ 18\ dict\ dup\ begin'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00020}00020\ \ \ \ \ \textcolor{keyword}{assert}\ slanted.decrypted.endswith(b\textcolor{stringliteral}{'mark\ currentfile\ closefile\(\backslash\)n'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00021}00021\ \ \ \ \ \textcolor{keyword}{assert}\ b\textcolor{stringliteral}{'UniqueID\ 5000793'}\ \textcolor{keywordflow}{in}\ font.parts[0]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00022}00022\ \ \ \ \ \textcolor{keyword}{assert}\ b\textcolor{stringliteral}{'UniqueID\ 5000793'}\ \textcolor{keywordflow}{in}\ font.decrypted}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00023}00023\ \ \ \ \ \textcolor{keyword}{assert}\ font.\_pos[\textcolor{stringliteral}{'UniqueID'}]\ ==\ [(797,\ 818),\ (4483,\ 4504)]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00025}00025\ \ \ \ \ len0\ =\ len(font.parts[0])}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00026}00026\ \ \ \ \ \textcolor{keywordflow}{for}\ key\ \textcolor{keywordflow}{in}\ font.\_pos.keys():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ pos0,\ pos1\ \textcolor{keywordflow}{in}\ font.\_pos[key]:}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ pos0\ <\ len0:}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ font.parts[0][pos0:pos1]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ font.decrypted[pos0-\/len0:pos1-\/len0]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ data.startswith(f\textcolor{stringliteral}{'/\{key\}'}.encode(\textcolor{stringliteral}{'ascii'}))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00033}00033\ \ \ \ \ \textcolor{keyword}{assert}\ \{\textcolor{stringliteral}{'FontType'},\ \textcolor{stringliteral}{'FontMatrix'},\ \textcolor{stringliteral}{'PaintType'},\ \textcolor{stringliteral}{'ItalicAngle'},\ \textcolor{stringliteral}{'RD'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ <\ set(font.\_pos.keys())}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00036}00036\ \ \ \ \ \textcolor{keyword}{assert}\ b\textcolor{stringliteral}{'UniqueID\ 5000793'}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ slanted.parts[0]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00037}00037\ \ \ \ \ \textcolor{keyword}{assert}\ b\textcolor{stringliteral}{'UniqueID\ 5000793'}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ slanted.decrypted}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00038}00038\ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{stringliteral}{'UniqueID'}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ slanted.\_pos}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00039}00039\ \ \ \ \ \textcolor{keyword}{assert}\ font.prop[\textcolor{stringliteral}{'Weight'}]\ ==\ \textcolor{stringliteral}{'Medium'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00040}00040\ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ font.prop[\textcolor{stringliteral}{'isFixedPitch'}]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00041}00041\ \ \ \ \ \textcolor{keyword}{assert}\ font.prop[\textcolor{stringliteral}{'ItalicAngle'}]\ ==\ 0}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00042}00042\ \ \ \ \ \textcolor{keyword}{assert}\ slanted.prop[\textcolor{stringliteral}{'ItalicAngle'}]\ ==\ -\/45}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00043}00043\ \ \ \ \ \textcolor{keyword}{assert}\ font.prop[\textcolor{stringliteral}{'Encoding'}][5]\ ==\ \textcolor{stringliteral}{'Pi'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00044}00044\ \ \ \ \ \textcolor{keyword}{assert}\ isinstance(font.prop[\textcolor{stringliteral}{'CharStrings'}][\textcolor{stringliteral}{'Pi'}],\ bytes)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00045}00045\ \ \ \ \ \textcolor{keyword}{assert}\ font.\_abbr[\textcolor{stringliteral}{'ND'}]\ ==\ \textcolor{stringliteral}{'ND'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00047}00047\ \ \ \ \ differ\ =\ difflib.Differ()}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00048}00048\ \ \ \ \ diff\ =\ list(differ.compare(}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ font.parts[0].decode(\textcolor{stringliteral}{'latin-\/1'}).splitlines(),}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ slanted.parts[0].decode(\textcolor{stringliteral}{'latin-\/1'}).splitlines()))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00051}00051\ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ (}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Removes\ UniqueID}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ /UniqueID\ 5000793\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Changes\ the\ font\ name}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ /FontName\ /CMR10\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'+\ /FontName/CMR10\_Slant\_1000\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Alters\ FontMatrix}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ /FontMatrix\ [0.001\ 0\ 0\ 0.001\ 0\ 0\ ]readonly\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'+\ /FontMatrix\ [0.001\ 0\ 0.001\ 0.001\ 0\ 0]\ readonly\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Alters\ ItalicAngle}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ \ /ItalicAngle\ 0\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'+\ \ /ItalicAngle\ -\/45.0\ def'}):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ line\ \textcolor{keywordflow}{in}\ diff,\ \textcolor{stringliteral}{'diff\ to\ slanted\ font\ must\ contain\ \%s'}\ \%\ line}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00065}00065\ \ \ \ \ diff\ =\ list(differ.compare(}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ font.parts[0].decode(\textcolor{stringliteral}{'latin-\/1'}).splitlines(),}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ condensed.parts[0].decode(\textcolor{stringliteral}{'latin-\/1'}).splitlines()))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00068}00068\ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ (}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Removes\ UniqueID}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ /UniqueID\ 5000793\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Changes\ the\ font\ name}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ /FontName\ /CMR10\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'+\ /FontName/CMR10\_Extend\_500\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Alters\ FontMatrix}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'-\/\ /FontMatrix\ [0.001\ 0\ 0\ 0.001\ 0\ 0\ ]readonly\ def'},}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'+\ /FontMatrix\ [0.0005\ 0\ 0\ 0.001\ 0\ 0]\ readonly\ def'}):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ line\ \textcolor{keywordflow}{in}\ diff,\ \textcolor{stringliteral}{'diff\ to\ condensed\ font\ must\ contain\ \%s'}\ \%\ line}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00080}00080\ \textcolor{keyword}{def\ }test\_Type1Font\_2():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00081}00081\ \ \ \ \ filename\ =\ os.path.join(os.path.dirname(\_\_file\_\_),}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Courier10PitchBT-\/Bold.pfb'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00083}00083\ \ \ \ \ font\ =\ t1f.Type1Font(filename)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00084}00084\ \ \ \ \ \textcolor{keyword}{assert}\ font.prop[\textcolor{stringliteral}{'Weight'}]\ ==\ \textcolor{stringliteral}{'Bold'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00085}00085\ \ \ \ \ \textcolor{keyword}{assert}\ font.prop[\textcolor{stringliteral}{'isFixedPitch'}]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00086}00086\ \ \ \ \ \textcolor{keyword}{assert}\ font.prop[\textcolor{stringliteral}{'Encoding'}][65]\ ==\ \textcolor{stringliteral}{'A'}\ \ \textcolor{comment}{\#\ the\ font\ uses\ StandardEncoding}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00087}00087\ \ \ \ \ (pos0,\ pos1),\ =\ font.\_pos[\textcolor{stringliteral}{'Encoding'}]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00088}00088\ \ \ \ \ \textcolor{keyword}{assert}\ font.parts[0][pos0:pos1]\ ==\ b\textcolor{stringliteral}{'/Encoding\ StandardEncoding'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00089}00089\ \ \ \ \ \textcolor{keyword}{assert}\ font.\_abbr[\textcolor{stringliteral}{'ND'}]\ ==\ \textcolor{stringliteral}{'|-\/'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00092}00092\ \textcolor{keyword}{def\ }test\_tokenize():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00093}00093\ \ \ \ \ data\ =\ (b\textcolor{stringliteral}{'1234/abc\ false\ -\/9.81\ \ Foo\ <<[0\ 1\ 2]<0\ 1ef\ a\(\backslash\)t>>>\(\backslash\)n'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ b\textcolor{stringliteral}{'(string\ with(nested\(\backslash\)t\(\backslash\)\(\backslash\))\ par)ens\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\))'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00095}00095\ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ \ \ \ \ 1\ \ \ \ \ \ \ \ \ \ \ 2\ \ \ \ \ \ \ \ \ \ x\ \ \ \ 2\ \ \ \ \ xx1}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00096}00096\ \ \ \ \ \textcolor{comment}{\#\ 1\ and\ 2\ are\ matching\ parens,\ x\ means\ escaped\ character}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00097}00097\ \ \ \ \ n,\ w,\ num,\ kw,\ d\ =\ \textcolor{stringliteral}{'name'},\ \textcolor{stringliteral}{'whitespace'},\ \textcolor{stringliteral}{'number'},\ \textcolor{stringliteral}{'keyword'},\ \textcolor{stringliteral}{'delimiter'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00098}00098\ \ \ \ \ b,\ s\ =\ \textcolor{stringliteral}{'boolean'},\ \textcolor{stringliteral}{'string'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00099}00099\ \ \ \ \ correct\ =\ [}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ (num,\ 1234),\ (n,\ \textcolor{stringliteral}{'abc'}),\ (w,\ \textcolor{stringliteral}{'\ '}),\ (b,\ \textcolor{keyword}{False}),\ (w,\ \textcolor{stringliteral}{'\ '}),\ (num,\ -\/9.81),}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ (w,\ \textcolor{stringliteral}{'\ \ '}),\ (kw,\ \textcolor{stringliteral}{'Foo'}),\ (w,\ \textcolor{stringliteral}{'\ '}),\ (d,\ \textcolor{stringliteral}{'<<'}),\ (d,\ \textcolor{stringliteral}{'['}),\ (num,\ 0),}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ (w,\ \textcolor{stringliteral}{'\ '}),\ (num,\ 1),\ (w,\ \textcolor{stringliteral}{'\ '}),\ (num,\ 2),\ (d,\ \textcolor{stringliteral}{']'}),\ (s,\ b\textcolor{stringliteral}{'\(\backslash\)x01\(\backslash\)xef\(\backslash\)xa0'}),}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ (d,\ \textcolor{stringliteral}{'>>'}),\ (w,\ \textcolor{stringliteral}{'\(\backslash\)n'}),\ (s,\ \textcolor{stringliteral}{'string\ with(nested\(\backslash\)t)\ par)ens\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00104}00104\ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00105}00105\ \ \ \ \ correct\_no\_ws\ =\ [x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ correct\ \textcolor{keywordflow}{if}\ x[0]\ !=\ w]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00107}00107\ \ \ \ \ \textcolor{keyword}{def\ }convert(tokens):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [(t.kind,\ t.value())\ \textcolor{keywordflow}{for}\ t\ \textcolor{keywordflow}{in}\ tokens]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00110}00110\ \ \ \ \ \textcolor{keyword}{assert}\ convert(t1f.\_tokenize(data,\ \textcolor{keyword}{False}))\ ==\ correct}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00111}00111\ \ \ \ \ \textcolor{keyword}{assert}\ convert(t1f.\_tokenize(data,\ \textcolor{keyword}{True}))\ ==\ correct\_no\_ws}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00113}00113\ \ \ \ \ \textcolor{keyword}{def\ }bin\_after(n):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ tokens\ =\ t1f.\_tokenize(data,\ \textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ result\ =\ []}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ range(n):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ result.append(next(tokens))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ result.append(tokens.send(10))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ convert(result)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00121}00121\ \ \ \ \ \textcolor{keywordflow}{for}\ n\ \textcolor{keywordflow}{in}\ range(1,\ len(correct\_no\_ws)):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ result\ =\ bin\_after(n)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ result[:-\/1]\ ==\ correct\_no\_ws[:n]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ result[-\/1][0]\ ==\ \textcolor{stringliteral}{'binary'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ isinstance(result[-\/1][1],\ bytes)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00128}00128\ \textcolor{keyword}{def\ }test\_tokenize\_errors():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00129}00129\ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(ValueError):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ list(t1f.\_tokenize(b\textcolor{stringliteral}{'1234\ (this\ (string)\ is\ unterminated\(\backslash\)\(\backslash\))'},\ \textcolor{keyword}{True}))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00131}00131\ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(ValueError):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ list(t1f.\_tokenize(b\textcolor{stringliteral}{'/Foo<01234'},\ \textcolor{keyword}{True}))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00133}00133\ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(ValueError):}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ list(t1f.\_tokenize(b\textcolor{stringliteral}{'/Foo<01234abcg>/Bar'},\ \textcolor{keyword}{True}))}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00137}00137\ \textcolor{keyword}{def\ }test\_overprecision():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00138}00138\ \ \ \ \ \textcolor{comment}{\#\ We\ used\ to\ output\ too\ many\ digits\ in\ FontMatrix\ entries\ and}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00139}00139\ \ \ \ \ \textcolor{comment}{\#\ ItalicAngle,\ which\ could\ make\ Type-\/1\ parsers\ unhappy.}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00140}00140\ \ \ \ \ filename\ =\ os.path.join(os.path.dirname(\_\_file\_\_),\ \textcolor{stringliteral}{'cmr10.pfb'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00141}00141\ \ \ \ \ font\ =\ t1f.Type1Font(filename)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00142}00142\ \ \ \ \ slanted\ =\ font.transform(\{\textcolor{stringliteral}{'slant'}:\ .167\})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00143}00143\ \ \ \ \ lines\ =\ slanted.parts[0].decode(\textcolor{stringliteral}{'ascii'}).splitlines()}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00144}00144\ \ \ \ \ matrix,\ =\ (line[line.index(\textcolor{stringliteral}{'['})+1:line.index(\textcolor{stringliteral}{']'})]}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ lines\ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'/FontMatrix'}\ \textcolor{keywordflow}{in}\ line)}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00146}00146\ \ \ \ \ angle,\ =\ (word}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ lines\ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'/ItalicAngle'}\ \textcolor{keywordflow}{in}\ line}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ word\ \textcolor{keywordflow}{in}\ line.split()\ \textcolor{keywordflow}{if}\ word[0]\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{'-\/0123456789'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00149}00149\ \ \ \ \ \textcolor{comment}{\#\ the\ following\ used\ to\ include\ 0.00016700000000000002}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00150}00150\ \ \ \ \ \textcolor{keyword}{assert}\ matrix\ ==\ \textcolor{stringliteral}{'0.001\ 0\ 0.000167\ 0.001\ 0\ 0'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00151}00151\ \ \ \ \ \textcolor{comment}{\#\ and\ here\ we\ had\ -\/9.48090361795083}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00152}00152\ \ \ \ \ \textcolor{keyword}{assert}\ angle\ ==\ \textcolor{stringliteral}{'-\/9.4809'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00155}00155\ \textcolor{keyword}{def\ }test\_encrypt\_decrypt\_roundtrip():}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00156}00156\ \ \ \ \ data\ =\ b\textcolor{stringliteral}{'this\ is\ my\ plaintext\ \(\backslash\)0\(\backslash\)1\(\backslash\)2\(\backslash\)3'}}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00157}00157\ \ \ \ \ encrypted\ =\ t1f.Type1Font.\_encrypt(data,\ \textcolor{stringliteral}{'eexec'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00158}00158\ \ \ \ \ decrypted\ =\ t1f.Type1Font.\_decrypt(encrypted,\ \textcolor{stringliteral}{'eexec'})}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00159}00159\ \ \ \ \ \textcolor{keyword}{assert}\ encrypted\ !=\ decrypted}
\DoxyCodeLine{\Hypertarget{test__type1font_8py_source_l00160}00160\ \ \ \ \ \textcolor{keyword}{assert}\ data\ ==\ decrypted}

\end{DoxyCode}
