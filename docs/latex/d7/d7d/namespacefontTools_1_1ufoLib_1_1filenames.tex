\doxysection{font\+Tools.\+ufo\+Lib.\+filenames Namespace Reference}
\hypertarget{namespacefontTools_1_1ufoLib_1_1filenames}{}\label{namespacefontTools_1_1ufoLib_1_1filenames}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classfontTools_1_1ufoLib_1_1filenames_1_1NameTranslationError}{Name\+Translation\+Error}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacefontTools_1_1ufoLib_1_1filenames_a735d850feec79a7aa50c164d947bd079}{user\+Name\+To\+File\+Name}} (str user\+Name, existing=(), prefix="{}"{}, suffix="{}"{})
\item 
\mbox{\hyperlink{namespacefontTools_1_1ufoLib_1_1filenames_ae25aa0823e6281349a67471460a30256}{handle\+Clash1}} (user\+Name, existing=\mbox{[}$\,$\mbox{]}, prefix="{}"{}, suffix="{}"{})
\item 
\mbox{\hyperlink{namespacefontTools_1_1ufoLib_1_1filenames_af43a50a4f22c02c90ccab652eeda4374}{handle\+Clash2}} (existing=\mbox{[}$\,$\mbox{]}, prefix="{}"{}, suffix="{}"{})
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
dict \mbox{\hyperlink{namespacefontTools_1_1ufoLib_1_1filenames_a6f9836166dab03742fa256cc257dc7aa}{illegal\+Characters}}
\item 
dict \mbox{\hyperlink{namespacefontTools_1_1ufoLib_1_1filenames_a8a35c58a60f0bb8ae9db3b00cbbb50ec}{reserved\+File\+Names}}
\item 
int \mbox{\hyperlink{namespacefontTools_1_1ufoLib_1_1filenames_a90d6190492f7248d56d1ce17c411a1ba}{max\+File\+Name\+Length}} = 255
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Convert user-provided internal UFO names to spec-compliant filenames.

This module implements the algorithm for converting between a "user name" -
something that a user can choose arbitrarily inside a font editor - and a file
name suitable for use in a wide range of operating systems and filesystems.

The `UFO 3 specification <http://unifiedfontobject.org/versions/ufo3/conventions/>`_
provides an example of an algorithm for such conversion, which avoids illegal
characters, reserved file names, ambiguity between upper- and lower-case
characters, and clashes with existing files.

This code was originally copied from
`ufoLib <https://github.com/unified-font-object/ufoLib/blob/8747da7/Lib/ufoLib/filenames.py>`_
by Tal Leming and is copyright (c) 2005-2016, The RoboFab Developers:

-   Erik van Blokland
-   Tal Leming
-   Just van Rossum
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacefontTools_1_1ufoLib_1_1filenames_ae25aa0823e6281349a67471460a30256}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}!handleClash1@{handleClash1}}
\index{handleClash1@{handleClash1}!fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection{\texorpdfstring{handleClash1()}{handleClash1()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1ufoLib_1_1filenames_ae25aa0823e6281349a67471460a30256} 
font\+Tools.\+ufo\+Lib.\+filenames.\+handle\+Clash1 (\begin{DoxyParamCaption}\item[{}]{user\+Name}{, }\item[{}]{existing}{ = {\ttfamily \mbox{[}\mbox{]}}, }\item[{}]{prefix}{ = {\ttfamily "{}"{}}, }\item[{}]{suffix}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}A helper function that resolves collisions with existing names when choosing a filename.

This function attempts to append an unused integer counter to the filename.

    Args:
            userName (str): The input file name.
            existing: A case-insensitive list of all existing file names.
            prefix: Prefix to be prepended to the file name.
            suffix: Suffix to be appended to the file name.

    Returns:
            A suitable filename.

    >>> prefix = ("0" * 5) + "."
    >>> suffix = "." + ("0" * 10)
    >>> existing = ["a" * 5]

    >>> e = list(existing)
    >>> handleClash1(userName="A" * 5, existing=e,
    ...     prefix=prefix, suffix=suffix) == (
    ...     '00000.AAAAA000000000000001.0000000000')
    True

    >>> e = list(existing)
    >>> e.append(prefix + "aaaaa" + "1".zfill(15) + suffix)
    >>> handleClash1(userName="A" * 5, existing=e,
    ...     prefix=prefix, suffix=suffix) == (
    ...     '00000.AAAAA000000000000002.0000000000')
    True

    >>> e = list(existing)
    >>> e.append(prefix + "AAAAA" + "2".zfill(15) + suffix)
    >>> handleClash1(userName="A" * 5, existing=e,
    ...     prefix=prefix, suffix=suffix) == (
    ...     '00000.AAAAA000000000000001.0000000000')
    True
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00215}{215}} of file \mbox{\hyperlink{ufoLib_2filenames_8py_source}{filenames.\+py}}.



References \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00281}{handle\+Clash2()}}.

\Hypertarget{namespacefontTools_1_1ufoLib_1_1filenames_af43a50a4f22c02c90ccab652eeda4374}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}!handleClash2@{handleClash2}}
\index{handleClash2@{handleClash2}!fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection{\texorpdfstring{handleClash2()}{handleClash2()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1ufoLib_1_1filenames_af43a50a4f22c02c90ccab652eeda4374} 
font\+Tools.\+ufo\+Lib.\+filenames.\+handle\+Clash2 (\begin{DoxyParamCaption}\item[{}]{existing}{ = {\ttfamily \mbox{[}\mbox{]}}, }\item[{}]{prefix}{ = {\ttfamily "{}"{}}, }\item[{}]{suffix}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}A helper function that resolves collisions with existing names when choosing a filename.

This function is a fallback to :func:`handleClash1`. It attempts to append an unused integer counter to the filename.

    Args:
            userName (str): The input file name.
            existing: A case-insensitive list of all existing file names.
            prefix: Prefix to be prepended to the file name.
            suffix: Suffix to be appended to the file name.

    Returns:
            A suitable filename.

    Raises:
            NameTranslationError: If no suitable name could be generated.

    Examples::

      >>> prefix = ("0" * 5) + "."
      >>> suffix = "." + ("0" * 10)
      >>> existing = [prefix + str(i) + suffix for i in range(100)]

      >>> e = list(existing)
      >>> handleClash2(existing=e, prefix=prefix, suffix=suffix) == (
      ...   '00000.100.0000000000')
      True

      >>> e = list(existing)
      >>> e.remove(prefix + "1" + suffix)
      >>> handleClash2(existing=e, prefix=prefix, suffix=suffix) == (
      ...   '00000.1.0000000000')
      True

      >>> e = list(existing)
      >>> e.remove(prefix + "2" + suffix)
      >>> handleClash2(existing=e, prefix=prefix, suffix=suffix) == (
      ...   '00000.2.0000000000')
      True
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00281}{281}} of file \mbox{\hyperlink{ufoLib_2filenames_8py_source}{filenames.\+py}}.



Referenced by \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00215}{handle\+Clash1()}}.

\Hypertarget{namespacefontTools_1_1ufoLib_1_1filenames_a735d850feec79a7aa50c164d947bd079}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}!userNameToFileName@{userNameToFileName}}
\index{userNameToFileName@{userNameToFileName}!fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection{\texorpdfstring{userNameToFileName()}{userNameToFileName()}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1ufoLib_1_1filenames_a735d850feec79a7aa50c164d947bd079} 
font\+Tools.\+ufo\+Lib.\+filenames.\+user\+Name\+To\+File\+Name (\begin{DoxyParamCaption}\item[{str}]{user\+Name}{, }\item[{}]{existing}{ = {\ttfamily ()}, }\item[{}]{prefix}{ = {\ttfamily "{}"{}}, }\item[{}]{suffix}{ = {\ttfamily "{}"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Converts from a user name to a file name.

Takes care to avoid illegal characters, reserved file names, ambiguity between
upper- and lower-case characters, and clashes with existing files.

Args:
        userName (str): The input file name.
        existing: A case-insensitive list of all existing file names.
        prefix: Prefix to be prepended to the file name.
        suffix: Suffix to be appended to the file name.

Returns:
        A suitable filename.

Raises:
        NameTranslationError: If no suitable name could be generated.

Examples::

        >>> userNameToFileName("a") == "a"
        True
        >>> userNameToFileName("A") == "A_"
        True
        >>> userNameToFileName("AE") == "A_E_"
        True
        >>> userNameToFileName("Ae") == "A_e"
        True
        >>> userNameToFileName("ae") == "ae"
        True
        >>> userNameToFileName("aE") == "aE_"
        True
        >>> userNameToFileName("a.alt") == "a.alt"
        True
        >>> userNameToFileName("A.alt") == "A_.alt"
        True
        >>> userNameToFileName("A.Alt") == "A_.A_lt"
        True
        >>> userNameToFileName("A.aLt") == "A_.aL_t"
        True
        >>> userNameToFileName(u"A.alT") == "A_.alT_"
        True
        >>> userNameToFileName("T_H") == "T__H_"
        True
        >>> userNameToFileName("T_h") == "T__h"
        True
        >>> userNameToFileName("t_h") == "t_h"
        True
        >>> userNameToFileName("F_F_I") == "F__F__I_"
        True
        >>> userNameToFileName("f_f_i") == "f_f_i"
        True
        >>> userNameToFileName("Aacute_V.swash") == "A_acute_V_.swash"
        True
        >>> userNameToFileName(".notdef") == "_notdef"
        True
        >>> userNameToFileName("con") == "_con"
        True
        >>> userNameToFileName("CON") == "C_O_N_"
        True
        >>> userNameToFileName("con.alt") == "_con.alt"
        True
        >>> userNameToFileName("alt.con") == "alt._con"
        True
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00111}{111}} of file \mbox{\hyperlink{ufoLib_2filenames_8py_source}{filenames.\+py}}.



\doxysubsection{Variable Documentation}
\Hypertarget{namespacefontTools_1_1ufoLib_1_1filenames_a6f9836166dab03742fa256cc257dc7aa}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}!illegalCharacters@{illegalCharacters}}
\index{illegalCharacters@{illegalCharacters}!fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection{\texorpdfstring{illegalCharacters}{illegalCharacters}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1ufoLib_1_1filenames_a6f9836166dab03742fa256cc257dc7aa} 
dict font\+Tools.\+ufo\+Lib.\+filenames.\+illegal\+Characters}



Definition at line \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00030}{30}} of file \mbox{\hyperlink{ufoLib_2filenames_8py_source}{filenames.\+py}}.

\Hypertarget{namespacefontTools_1_1ufoLib_1_1filenames_a90d6190492f7248d56d1ce17c411a1ba}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}!maxFileNameLength@{maxFileNameLength}}
\index{maxFileNameLength@{maxFileNameLength}!fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection{\texorpdfstring{maxFileNameLength}{maxFileNameLength}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1ufoLib_1_1filenames_a90d6190492f7248d56d1ce17c411a1ba} 
int font\+Tools.\+ufo\+Lib.\+filenames.\+max\+File\+Name\+Length = 255}



Definition at line \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00104}{104}} of file \mbox{\hyperlink{ufoLib_2filenames_8py_source}{filenames.\+py}}.

\Hypertarget{namespacefontTools_1_1ufoLib_1_1filenames_a8a35c58a60f0bb8ae9db3b00cbbb50ec}\index{fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}!reservedFileNames@{reservedFileNames}}
\index{reservedFileNames@{reservedFileNames}!fontTools.ufoLib.filenames@{fontTools.ufoLib.filenames}}
\doxysubsubsection{\texorpdfstring{reservedFileNames}{reservedFileNames}}
{\footnotesize\ttfamily \label{namespacefontTools_1_1ufoLib_1_1filenames_a8a35c58a60f0bb8ae9db3b00cbbb50ec} 
dict font\+Tools.\+ufo\+Lib.\+filenames.\+reserved\+File\+Names}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ \{}
\DoxyCodeLine{00002\ \ \ \ \ \textcolor{stringliteral}{"{}aux"{}},}
\DoxyCodeLine{00003\ \ \ \ \ \textcolor{stringliteral}{"{}clock\$"{}},}
\DoxyCodeLine{00004\ \ \ \ \ \textcolor{stringliteral}{"{}com1"{}},}
\DoxyCodeLine{00005\ \ \ \ \ \textcolor{stringliteral}{"{}com2"{}},}
\DoxyCodeLine{00006\ \ \ \ \ \textcolor{stringliteral}{"{}com3"{}},}
\DoxyCodeLine{00007\ \ \ \ \ \textcolor{stringliteral}{"{}com4"{}},}
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{stringliteral}{"{}com5"{}},}
\DoxyCodeLine{00009\ \ \ \ \ \textcolor{stringliteral}{"{}com6"{}},}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{stringliteral}{"{}com7"{}},}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{stringliteral}{"{}com8"{}},}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{stringliteral}{"{}com9"{}},}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{stringliteral}{"{}con"{}},}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{stringliteral}{"{}lpt1"{}},}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{stringliteral}{"{}lpt2"{}},}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{stringliteral}{"{}lpt3"{}},}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{stringliteral}{"{}lpt4"{}},}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{stringliteral}{"{}lpt5"{}},}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{stringliteral}{"{}lpt6"{}},}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{stringliteral}{"{}lpt7"{}},}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{stringliteral}{"{}lpt8"{}},}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{stringliteral}{"{}lpt9"{}},}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{stringliteral}{"{}nul"{}},}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{stringliteral}{"{}prn"{}},}
\DoxyCodeLine{00025\ \}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{ufoLib_2filenames_8py_source_l00079}{79}} of file \mbox{\hyperlink{ufoLib_2filenames_8py_source}{filenames.\+py}}.

