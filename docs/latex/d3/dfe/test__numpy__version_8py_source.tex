\doxysection{test\+\_\+numpy\+\_\+version.\+py}
\hypertarget{test__numpy__version_8py_source}{}\label{test__numpy__version_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/tests/test\_numpy\_version.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/tests/test\_numpy\_version.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00001}\mbox{\hyperlink{namespacenumpy_1_1tests_1_1test__numpy__version}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00002}00002\ \textcolor{stringliteral}{Check\ the\ numpy\ version\ is\ valid.}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00003}00003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00004}00004\ \textcolor{stringliteral}{Note\ that\ a\ development\ version\ is\ marked\ by\ the\ presence\ of\ 'dev0'\ or\ '+'}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00005}00005\ \textcolor{stringliteral}{in\ the\ version\ string,\ all\ else\ is\ treated\ as\ a\ release.\ The\ version\ string}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00006}00006\ \textcolor{stringliteral}{itself\ is\ set\ from\ the\ output\ of\ \`{}\`{}git\ describe\`{}\`{}\ which\ relies\ on\ tags.}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00007}00007\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00008}00008\ \textcolor{stringliteral}{Examples}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00009}00009\ \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00010}00010\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00011}00011\ \textcolor{stringliteral}{Valid\ Development:\ 1.22.0.dev0\ 1.22.0.dev0+5-\/g7999db4df2\ 1.22.0+5-\/g7999db4df2}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00012}00012\ \textcolor{stringliteral}{Valid\ Release:\ 1.21.0.rc1,\ 1.21.0.b1,\ 1.21.0}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00013}00013\ \textcolor{stringliteral}{Invalid:\ 1.22.0.dev,\ 1.22.0.dev0-\/5-\/g7999db4dfB,\ 1.21.0.d1,\ 1.21.a}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00014}00014\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00015}00015\ \textcolor{stringliteral}{Note\ that\ a\ release\ is\ determined\ by\ the\ version\ string,\ which\ in\ turn}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00016}00016\ \textcolor{stringliteral}{is\ controlled\ by\ the\ result\ of\ the\ \`{}\`{}git\ describe\`{}\`{}\ command.}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00017}00017\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00018}00018\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00020}00020\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00021}00021\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1testing}{numpy.testing}}\ \textcolor{keyword}{import}\ assert\_}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00024}00024\ \textcolor{keyword}{def\ }test\_valid\_numpy\_version():}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00025}00025\ \ \ \ \ \textcolor{comment}{\#\ Verify\ that\ the\ numpy\ version\ is\ a\ valid\ one\ (no\ .post\ suffix\ or\ other}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00026}00026\ \ \ \ \ \textcolor{comment}{\#\ nonsense).\ \ See\ gh-\/6431\ for\ an\ issue\ caused\ by\ an\ invalid\ version.}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00027}00027\ \ \ \ \ version\_pattern\ =\ \textcolor{stringliteral}{r"{}\string^[0-\/9]+\(\backslash\).[0-\/9]+\(\backslash\).[0-\/9]+(a[0-\/9]|b[0-\/9]|rc[0-\/9])?"{}}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00028}00028\ \ \ \ \ dev\_suffix\ =\ \textcolor{stringliteral}{r"{}(\(\backslash\).dev[0-\/9]+(\(\backslash\)+git[0-\/9]+\(\backslash\).[0-\/9a-\/f]+)?)?"{}}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00029}00029\ \ \ \ \ res\ =\ re.match(version\_pattern\ +\ dev\_suffix\ +\ \textcolor{stringliteral}{'\$'},\ np.\_\_version\_\_)}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00031}00031\ \ \ \ \ assert\_(res\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None},\ np.\_\_version\_\_)}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00034}00034\ \textcolor{keyword}{def\ }test\_short\_version():}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00035}00035\ \ \ \ \ \textcolor{comment}{\#\ Check\ numpy.short\_version\ actually\ exists}}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{if}\ np.version.release:}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ assert\_(np.\_\_version\_\_\ ==\ np.version.short\_version,}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}short\_version\ mismatch\ in\ release\ version"{}})}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00039}00039\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ assert\_(np.\_\_version\_\_.split(\textcolor{stringliteral}{"{}+"{}})[0]\ ==\ np.version.short\_version,}
\DoxyCodeLine{\Hypertarget{test__numpy__version_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}short\_version\ mismatch\ in\ development\ version"{}})}

\end{DoxyCode}
