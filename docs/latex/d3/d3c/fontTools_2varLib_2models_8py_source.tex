\doxysection{models.\+py}
\hypertarget{fontTools_2varLib_2models_8py_source}{}\label{fontTools_2varLib_2models_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/varLib/models.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/varLib/models.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00001}\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}Variation\ fonts\ interpolation\ models."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00003}00003\ \_\_all\_\_\ =\ [}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00004}00004\ \ \ \ \ \textcolor{stringliteral}{"{}normalizeValue"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00005}00005\ \ \ \ \ \textcolor{stringliteral}{"{}normalizeLocation"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00006}00006\ \ \ \ \ \textcolor{stringliteral}{"{}supportScalar"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00007}00007\ \ \ \ \ \textcolor{stringliteral}{"{}piecewiseLinearMap"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00008}00008\ \ \ \ \ \textcolor{stringliteral}{"{}VariationModel"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00009}00009\ ]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00011}00011\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1roundTools}{fontTools.misc.roundTools}}\ \textcolor{keyword}{import}\ noRound}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00012}00012\ \textcolor{keyword}{from}\ .errors\ \textcolor{keyword}{import}\ VariationModelError}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00015}00015\ \textcolor{keyword}{def\ }nonNone(lst):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00016}00016\ \ \ \ \ \textcolor{keywordflow}{return}\ [l\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ lst\ \textcolor{keywordflow}{if}\ l\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00019}00019\ \textcolor{keyword}{def\ }allNone(lst):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00020}00020\ \ \ \ \ \textcolor{keywordflow}{return}\ all(l\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ lst)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00023}00023\ \textcolor{keyword}{def\ }allEqualTo(ref,\ lst,\ mapper=None):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00024}00024\ \ \ \ \ \textcolor{keywordflow}{if}\ mapper\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ all(ref\ ==\ item\ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ lst)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00027}00027\ \ \ \ \ mapped\ =\ mapper(ref)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00028}00028\ \ \ \ \ \textcolor{keywordflow}{return}\ all(mapped\ ==\ mapper(item)\ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ lst)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00031}00031\ \textcolor{keyword}{def\ }allEqual(lst,\ mapper=None):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00032}00032\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ lst:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00034}00034\ \ \ \ \ it\ =\ iter(lst)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00035}00035\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ first\ =\ next(it)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00037}00037\ \ \ \ \ \textcolor{keywordflow}{except}\ StopIteration:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00039}00039\ \ \ \ \ \textcolor{keywordflow}{return}\ allEqualTo(first,\ it,\ mapper=mapper)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00042}00042\ \textcolor{keyword}{def\ }subList(truth,\ lst):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00043}00043\ \ \ \ \ \textcolor{keyword}{assert}\ len(truth)\ ==\ len(lst)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00044}00044\ \ \ \ \ \textcolor{keywordflow}{return}\ [l\ \textcolor{keywordflow}{for}\ l,\ t\ \textcolor{keywordflow}{in}\ zip(lst,\ truth)\ \textcolor{keywordflow}{if}\ t]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00047}\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_af06200205c231b26f67ed66624cb027d}{00047}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_af06200205c231b26f67ed66624cb027d}{normalizeValue}}(v,\ triple,\ extrapolate=False):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00048}00048\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Normalizes\ value\ based\ on\ a\ min/default/max\ triple.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00049}00049\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeValue(400,\ (100,\ 400,\ 900))}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ 0.0}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeValue(100,\ (100,\ 400,\ 900))}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ -\/1.0}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeValue(650,\ (100,\ 400,\ 900))}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ 0.5}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00057}00057\ \ \ \ \ lower,\ default,\ upper\ =\ triple}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00058}00058\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (lower\ <=\ default\ <=\ upper):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Invalid\ axis\ values,\ must\ be\ minimum,\ default,\ maximum:\ "{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{lower:3.3f\},\ \{default:3.3f\},\ \{upper:3.3f\}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00063}00063\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ extrapolate:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ v\ =\ max(min(v,\ upper),\ lower)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00066}00066\ \ \ \ \ \textcolor{keywordflow}{if}\ v\ ==\ default\ \textcolor{keywordflow}{or}\ lower\ ==\ upper:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0.0}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00069}00069\ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ <\ default\ \textcolor{keywordflow}{and}\ lower\ !=\ default)\ \textcolor{keywordflow}{or}\ (v\ >\ default\ \textcolor{keywordflow}{and}\ upper\ ==\ default):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (v\ -\/\ default)\ /\ (default\ -\/\ lower)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ (v\ >\ default\ \textcolor{keywordflow}{and}\ upper\ !=\ default)\ \textcolor{keywordflow}{or}\ (}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ v\ <\ default\ \textcolor{keywordflow}{and}\ lower\ ==\ default}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ ),\ f\textcolor{stringliteral}{"{}Ooops...\ v=\{v\},\ triple=(\{lower\},\ \{default\},\ \{upper\})"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (v\ -\/\ default)\ /\ (upper\ -\/\ default)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00078}\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a01450025c7466fe9456eb54fc452de36}{00078}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a01450025c7466fe9456eb54fc452de36}{normalizeLocation}}(location,\ axes,\ extrapolate=False,\ *,\ validate=False):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00079}00079\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Normalizes\ location\ based\ on\ axis\ min/default/max\ values\ from\ axes.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00080}00080\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00081}00081\ \textcolor{stringliteral}{\ \ \ \ >>>\ axes\ =\ \{"{}wght"{}:\ (100,\ 400,\ 900)\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 400\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00083}00083\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00084}00084\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 100\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00085}00085\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ -\/1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00086}00086\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 900\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00088}00088\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 650\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00089}00089\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.5\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 1000\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00091}00091\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00092}00092\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 0\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00093}00093\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ -\/1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ >>>\ axes\ =\ \{"{}wght"{}:\ (0,\ 0,\ 1000)\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00095}00095\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 0\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00096}00096\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00097}00097\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ -\/1\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00098}00098\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00099}00099\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 1000\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 500\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.5\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00103}00103\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 1001\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00104}00104\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ >>>\ axes\ =\ \{"{}wght"{}:\ (0,\ 1000,\ 1000)\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 0\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00107}00107\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ -\/1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ -\/1\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00109}00109\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ -\/1.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00110}00110\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 500\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00111}00111\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ -\/0.5\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 1000\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00113}00113\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00114}00114\ \textcolor{stringliteral}{\ \ \ \ >>>\ normalizeLocation(\{"{}wght"{}:\ 1001\},\ axes)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00115}00115\ \textcolor{stringliteral}{\ \ \ \ \{'wght':\ 0.0\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00116}00116\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00117}00117\ \ \ \ \ \textcolor{keywordflow}{if}\ validate:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ set(location.keys())\ <=\ set(axes.keys()),\ set(location.keys())\ -\/\ set(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ axes.keys()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00121}00121\ \ \ \ \ out\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00122}00122\ \ \ \ \ \textcolor{keywordflow}{for}\ tag,\ triple\ \textcolor{keywordflow}{in}\ axes.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ v\ =\ location.get(tag,\ triple[1])}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ out[tag]\ =\ \mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_af06200205c231b26f67ed66624cb027d}{normalizeValue}}(v,\ triple,\ extrapolate=extrapolate)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00125}00125\ \ \ \ \ \textcolor{keywordflow}{return}\ out}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00128}\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a259a0702663c23d9984e36e8f7f3dd86}{00128}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a259a0702663c23d9984e36e8f7f3dd86}{supportScalar}}(location,\ support,\ ot=True,\ extrapolate=False,\ axisRanges=None):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00129}00129\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ the\ scalar\ multiplier\ at\ location,\ for\ a\ master}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00130}00130\ \textcolor{stringliteral}{\ \ \ \ with\ support.\ \ If\ ot\ is\ True,\ then\ a\ peak\ value\ of\ zero}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00131}00131\ \textcolor{stringliteral}{\ \ \ \ for\ support\ of\ an\ axis\ means\ "{}axis\ does\ not\ participate"{}.\ \ That}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00132}00132\ \textcolor{stringliteral}{\ \ \ \ is\ how\ OpenType\ Variation\ Font\ technology\ works.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00133}00133\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00134}00134\ \textcolor{stringliteral}{\ \ \ \ If\ extrapolate\ is\ True,\ axisRanges\ must\ be\ a\ dict\ that\ maps\ axis}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00135}00135\ \textcolor{stringliteral}{\ \ \ \ names\ to\ (axisMin,\ axisMax)\ tuples.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00136}00136\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00137}00137\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{\},\ \{\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':.2\},\ \{\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.0}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00141}00141\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':.2\},\ \{'wght':(0,2,3)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.1}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00143}00143\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':2.5\},\ \{'wght':(0,2,4)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.75}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00145}00145\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':2.5,\ 'wdth':0\},\ \{'wght':(0,2,4),\ 'wdth':(-\/1,0,+1)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00146}00146\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.75}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00147}00147\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':2.5,\ 'wdth':.5\},\ \{'wght':(0,2,4),\ 'wdth':(-\/1,0,+1)\},\ ot=False)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00148}00148\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.375}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00149}00149\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':2.5,\ 'wdth':0\},\ \{'wght':(0,2,4),\ 'wdth':(-\/1,0,+1)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00150}00150\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.75}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00151}00151\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':2.5,\ 'wdth':.5\},\ \{'wght':(0,2,4),\ 'wdth':(-\/1,0,+1)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00152}00152\ \textcolor{stringliteral}{\ \ \ \ \ \ 0.75}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00153}00153\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':3\},\ \{'wght':(0,1,2)\},\ extrapolate=True,\ axisRanges=\{'wght':(0,\ 2)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00154}00154\ \textcolor{stringliteral}{\ \ \ \ \ \ -\/1.0}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00155}00155\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':-\/1\},\ \{'wght':(0,1,2)\},\ extrapolate=True,\ axisRanges=\{'wght':(0,\ 2)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00156}00156\ \textcolor{stringliteral}{\ \ \ \ \ \ -\/1.0}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00157}00157\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':3\},\ \{'wght':(0,2,2)\},\ extrapolate=True,\ axisRanges=\{'wght':(0,\ 2)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00158}00158\ \textcolor{stringliteral}{\ \ \ \ \ \ 1.5}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00159}00159\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ supportScalar(\{'wght':-\/1\},\ \{'wght':(0,2,2)\},\ extrapolate=True,\ axisRanges=\{'wght':(0,\ 2)\})}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00160}00160\ \textcolor{stringliteral}{\ \ \ \ \ \ -\/0.5}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00161}00161\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00162}00162\ \ \ \ \ \textcolor{keywordflow}{if}\ extrapolate\ \textcolor{keywordflow}{and}\ axisRanges\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classTypeError}{TypeError}}(\textcolor{stringliteral}{"{}axisRanges\ must\ be\ passed\ when\ extrapolate\ is\ True"{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00164}00164\ \ \ \ \ scalar\ =\ 1.0}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00165}00165\ \ \ \ \ \textcolor{keywordflow}{for}\ axis,\ (lower,\ peak,\ upper)\ \textcolor{keywordflow}{in}\ support.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ot:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ OpenType-\/specific\ case\ handling}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ peak\ ==\ 0.0:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lower\ >\ peak\ \textcolor{keywordflow}{or}\ peak\ >\ upper:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lower\ <\ 0.0\ \textcolor{keywordflow}{and}\ upper\ >\ 0.0:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ location.get(axis,\ 0.0)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ axis\ \textcolor{keywordflow}{in}\ location}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ location[axis]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v\ ==\ peak:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ extrapolate:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ axisMin,\ axisMax\ =\ axisRanges[axis]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v\ <\ axisMin\ \textcolor{keywordflow}{and}\ lower\ <=\ axisMin:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ peak\ <=\ axisMin\ \textcolor{keywordflow}{and}\ peak\ <\ upper:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ *=\ (v\ -\/\ upper)\ /\ (peak\ -\/\ upper)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ axisMin\ <\ peak:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ *=\ (v\ -\/\ lower)\ /\ (peak\ -\/\ lower)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ axisMax\ <\ v\ \textcolor{keywordflow}{and}\ axisMax\ <=\ upper:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ axisMax\ <=\ peak\ \textcolor{keywordflow}{and}\ lower\ <\ peak:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ *=\ (v\ -\/\ lower)\ /\ (peak\ -\/\ lower)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ peak\ <\ axisMax:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ *=\ (v\ -\/\ upper)\ /\ (peak\ -\/\ upper)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00197}00197\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v\ <=\ lower\ \textcolor{keywordflow}{or}\ upper\ <=\ v:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ =\ 0.0}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v\ <\ peak:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ *=\ (v\ -\/\ lower)\ /\ (peak\ -\/\ lower)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:\ \ \textcolor{comment}{\#\ v\ >\ peak}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ *=\ (v\ -\/\ upper)\ /\ (peak\ -\/\ upper)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00206}00206\ \ \ \ \ \textcolor{keywordflow}{return}\ scalar}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00207}00207\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00209}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel}{00209}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel}{VariationModel}}(object):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00210}00210\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Locations\ must\ have\ the\ base\ master\ at\ the\ origin\ (ie.\ 0).}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00211}00211\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00212}00212\ \textcolor{stringliteral}{\ \ \ \ If\ axis-\/ranges\ are\ not\ provided,\ values\ are\ assumed\ to\ be\ normalized\ to}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00213}00213\ \textcolor{stringliteral}{\ \ \ \ the\ range\ [-\/1,\ 1].}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00214}00214\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00215}00215\ \textcolor{stringliteral}{\ \ \ \ If\ the\ extrapolate\ argument\ is\ set\ to\ True,\ then\ values\ are\ extrapolated}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00216}00216\ \textcolor{stringliteral}{\ \ \ \ outside\ the\ axis\ range.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00217}00217\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00218}00218\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ from\ pprint\ import\ pprint}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00219}00219\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ axisRanges\ =\ \{'wght':\ (-\/180,\ +180),\ 'wdth':\ (-\/1,\ +1)\}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00220}00220\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ locations\ =\ [\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00221}00221\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':100\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00222}00222\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':-\/100\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00223}00223\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':-\/180\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00224}00224\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wdth':+.3\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00225}00225\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':+120,'wdth':.3\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00226}00226\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':+120,'wdth':.2\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00227}00227\ \textcolor{stringliteral}{\ \ \ \ \ \ \{\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00228}00228\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':+180,'wdth':.3\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00229}00229\ \textcolor{stringliteral}{\ \ \ \ \ \ \{'wght':+180\},\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00230}00230\ \textcolor{stringliteral}{\ \ \ \ \ \ ]}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00231}00231\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ model\ =\ VariationModel(locations,\ axisOrder=['wght'],\ axisRanges=axisRanges)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00232}00232\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ pprint(model.locations)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00233}00233\ \textcolor{stringliteral}{\ \ \ \ \ \ [\{\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00234}00234\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wght':\ -\/100\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00235}00235\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wght':\ -\/180\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00236}00236\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wght':\ 100\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00237}00237\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wght':\ 180\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00238}00238\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wdth':\ 0.3\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00239}00239\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wdth':\ 0.3,\ 'wght':\ 180\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00240}00240\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wdth':\ 0.3,\ 'wght':\ 120\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00241}00241\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{'wdth':\ 0.2,\ 'wght':\ 120\}]}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00242}00242\ \textcolor{stringliteral}{\ \ \ \ \ \ >>>\ pprint(model.deltaWeights)}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00243}00243\ \textcolor{stringliteral}{\ \ \ \ \ \ [\{\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00244}00244\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00245}00245\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00246}00246\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00247}00247\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00248}00248\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00249}00249\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0,\ 4:\ 1.0,\ 5:\ 1.0\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00250}00250\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0,\ 3:\ 0.75,\ 4:\ 0.25,\ 5:\ 1.0,\ 6:\ 0.6666666666666666\},}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00251}00251\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \{0:\ 1.0,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00252}00252\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 3:\ 0.75,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00253}00253\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 4:\ 0.25,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00254}00254\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 5:\ 0.6666666666666667,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00255}00255\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 6:\ 0.4444444444444445,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00256}00256\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 7:\ 0.6666666666666667\}]}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00257}00257\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00258}00258\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00259}00259\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00260}00260\ \ \ \ \ \ \ \ \ self,\ locations,\ axisOrder=None,\ extrapolate=False,\ *,\ axisRanges=None}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00261}00261\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00262}00262\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(set(tuple(sorted(l.items()))\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ locations))\ !=\ len(locations):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classfontTools_1_1varLib_1_1errors_1_1VariationModelError}{VariationModelError}}(\textcolor{stringliteral}{"{}Locations\ must\ be\ unique."{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00264}00264\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_af670be5ee3196e85cca6b1e7dab3dfb9}{origLocations}}\ =\ locations}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a862fe863ea50b1a47db74a4a81ffa637}{axisOrder}}\ =\ axisOrder\ \textcolor{keywordflow}{if}\ axisOrder\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ []}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a9b734d9411f9e415c373a959908803b2}{extrapolate}}\ =\ extrapolate}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ axisRanges\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ extrapolate:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axisRanges\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a16c7053795bef57ec7637c48412bee95}{computeAxisRanges}}(locations)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ allAxes\ =\ \{axis\ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ locations\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ loc.keys()\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axisRanges\ =\ \{axis:\ (-\/1,\ 1)\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ allAxes\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a420e13a59f74c020d0023800622784e7}{axisRanges}}\ =\ axisRanges}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00275}00275\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ locations\ =\ [\{k:\ v\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ loc.items()\ \textcolor{keywordflow}{if}\ v\ !=\ 0.0\}\ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ locations]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ keyFunc\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a0e700363a4cfbfd70ad920448b586398}{getMasterLocationsSortKeyFunc}}(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ locations,\ axisOrder=self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a862fe863ea50b1a47db74a4a81ffa637}{axisOrder}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}\ =\ sorted(locations,\ key=keyFunc)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00281}00281\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Mapping\ from\ user's\ master\ order\ to\ our\ master\ order}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_ab58e18fd6ac2dd98b5e7f9a1452424ab}{mapping}}\ =\ [self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}.index(l)\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ locations]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_aec8f9274e39d69304aac3b61b3dc5af3}{reverseMapping}}\ =\ [locations.index(l)\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00285}00285\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00286}00286\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a92eeb8c7b7031e29e8154e64ce68edb9}{\_computeMasterSupports}}()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00287}00287\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a2a1b0eb207769643f38932ba176df563}{\_subModels}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00288}00288\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00289}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_aab3563225f71b81f1a997daaec777317}{00289}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_aab3563225f71b81f1a997daaec777317}{getSubModel}}(self,\ items):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ a\ sub-\/model\ and\ the\ items\ that\ are\ not\ None.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00291}00291\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00292}00292\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ sub-\/model\ is\ necessary\ for\ working\ with\ the\ subset}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00293}00293\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ of\ items\ when\ some\ are\ None.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00294}00294\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00295}00295\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ sub-\/model\ is\ cached."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00296}00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ items:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self,\ items}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ key\ =\ tuple(v\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{for}\ v\ \textcolor{keywordflow}{in}\ items)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00299}00299\ \ \ \ \ \ \ \ \ subModel\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a2a1b0eb207769643f38932ba176df563}{\_subModels}}.get(key)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ subModel\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ subModel\ =\ \mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel}{VariationModel}}(subList(key,\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_af670be5ee3196e85cca6b1e7dab3dfb9}{origLocations}}),\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a862fe863ea50b1a47db74a4a81ffa637}{axisOrder}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a2a1b0eb207769643f38932ba176df563}{\_subModels}}[key]\ =\ subModel}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00303}00303\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ subModel,\ subList(key,\ items)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00304}00304\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00305}00305\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00306}00306\ \ \ \ \ \textcolor{keyword}{def\ }computeAxisRanges(locations):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ axisRanges\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ allAxes\ =\ \{axis\ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ locations\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ loc.keys()\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ locations:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ allAxes:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ loc.get(axis,\ 0)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axisMin,\ axisMax\ =\ axisRanges.get(axis,\ (value,\ value))}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axisRanges[axis]\ =\ min(value,\ axisMin),\ max(value,\ axisMax)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ axisRanges}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00315}00315\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00316}00316\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00317}00317\ \ \ \ \ \textcolor{keyword}{def\ }getMasterLocationsSortKeyFunc(locations,\ axisOrder=[]):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \{\}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ locations:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classfontTools_1_1varLib_1_1errors_1_1VariationModelError}{VariationModelError}}(\textcolor{stringliteral}{"{}Base\ master\ not\ found."{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00320}00320\ \ \ \ \ \ \ \ \ axisPoints\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ locations:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(loc)\ !=\ 1:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ axis\ =\ next(iter(loc))}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ loc[axis]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ axis\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ axisPoints:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axisPoints[axis]\ =\ \{0.0\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ (}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ axisPoints[axis]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ ),\ \textcolor{stringliteral}{'Value\ "{}\%s"{}\ in\ axisPoints["{}\%s"{}]\ -\/-\/>\ \ \%s'}\ \%\ (value,\ axis,\ axisPoints)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ axisPoints[axis].add(value)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00332}00332\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }getKey(axisPoints,\ axisOrder):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }sign(v):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1\ \textcolor{keywordflow}{if}\ v\ <\ 0\ \textcolor{keywordflow}{else}\ +1\ \textcolor{keywordflow}{if}\ v\ >\ 0\ \textcolor{keywordflow}{else}\ 0}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }key(loc):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rank\ =\ len(loc)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ onPointAxes\ =\ [}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis,\ value\ \textcolor{keywordflow}{in}\ loc.items()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ axis\ \textcolor{keywordflow}{in}\ axisPoints\ \textcolor{keywordflow}{and}\ value\ \textcolor{keywordflow}{in}\ axisPoints[axis]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orderedAxes\ =\ [axis\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ axisOrder\ \textcolor{keywordflow}{if}\ axis\ \textcolor{keywordflow}{in}\ loc]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orderedAxes.extend(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [axis\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ sorted(loc.keys())\ \textcolor{keywordflow}{if}\ axis\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ axisOrder]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rank,\ \ \textcolor{comment}{\#\ First,\ order\ by\ increasing\ rank}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/len(onPointAxes),\ \ \textcolor{comment}{\#\ Next,\ by\ decreasing\ number\ of\ onPoint\ axes}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tuple(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axisOrder.index(axis)\ \textcolor{keywordflow}{if}\ axis\ \textcolor{keywordflow}{in}\ axisOrder\ \textcolor{keywordflow}{else}\ 0x10000}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ orderedAxes}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),\ \ \textcolor{comment}{\#\ Next,\ by\ known\ axes}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tuple(orderedAxes),\ \ \textcolor{comment}{\#\ Next,\ by\ all\ axes}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tuple(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sign(loc[axis])\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ orderedAxes}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),\ \ \textcolor{comment}{\#\ Next,\ by\ signs\ of\ axis\ values}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tuple(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abs(loc[axis])\ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ orderedAxes}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),\ \ \textcolor{comment}{\#\ Next,\ by\ absolute\ value\ of\ axis\ values}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ key}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00366}00366\ \ \ \ \ \ \ \ \ ret\ =\ getKey(axisPoints,\ axisOrder)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00368}00368\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00369}00369\ \ \ \ \ \textcolor{keyword}{def\ }reorderMasters(self,\ master\_list,\ mapping):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ changing\ the\ master\ data\ order\ without}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ recomputing\ supports\ and\ deltaWeights.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ new\_list\ =\ [master\_list[idx]\ \textcolor{keywordflow}{for}\ idx\ \textcolor{keywordflow}{in}\ mapping]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_af670be5ee3196e85cca6b1e7dab3dfb9}{origLocations}}\ =\ [self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_af670be5ee3196e85cca6b1e7dab3dfb9}{origLocations}}[idx]\ \textcolor{keywordflow}{for}\ idx\ \textcolor{keywordflow}{in}\ mapping]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ locations\ =\ [}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ \{k:\ v\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ loc.items()\ \textcolor{keywordflow}{if}\ v\ !=\ 0.0\}\ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_af670be5ee3196e85cca6b1e7dab3dfb9}{origLocations}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_ab58e18fd6ac2dd98b5e7f9a1452424ab}{mapping}}\ =\ [self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}.index(l)\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ locations]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_aec8f9274e39d69304aac3b61b3dc5af3}{reverseMapping}}\ =\ [locations.index(l)\ \textcolor{keywordflow}{for}\ l\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a2a1b0eb207769643f38932ba176df563}{\_subModels}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ new\_list}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00381}00381\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00382}00382\ \ \ \ \ \textcolor{keyword}{def\ }\_computeMasterSupports(self):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a44e5d16b11e404c4fa7918f8ac9afa2d}{supports}}\ =\ []}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ regions\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_afc9e52cd80618d0c858c4c73c2b2b78d}{\_locationsToRegions}}()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00385}00385\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ region\ \textcolor{keywordflow}{in}\ enumerate(regions):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ locAxes\ =\ set(region.keys())}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Walk\ over\ previous\ masters\ now}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ prev\_region\ \textcolor{keywordflow}{in}\ regions[:i]:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Master\ with\ different\ axes\ do\ not\ participte}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ set(prev\_region.keys())\ !=\ locAxes:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ it's\ NOT\ in\ the\ current\ box,\ it\ does\ not\ participate}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ relevant\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis,\ (lower,\ peak,\ upper)\ \textcolor{keywordflow}{in}\ region.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\_region[axis][1]\ ==\ peak}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00397}00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ lower\ <\ prev\_region[axis][1]\ <\ upper}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00399}00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ relevant\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00400}00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ relevant:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00402}00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00403}00403\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Split\ the\ box\ for\ new\ master;\ split\ in\ whatever\ direction}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00405}00405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ that\ has\ largest\ range\ ratio.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00406}00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00407}00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ symmetry,\ we\ actually\ cut\ across\ multiple\ axes}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ they\ have\ the\ largest,\ equal,\ ratio.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ https://github.com/fonttools/fonttools/commit/7ee81c8821671157968b097f3e55309a1faa511e\#commitcomment-\/31054804}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00410}00410\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bestAxes\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bestRatio\ =\ -\/1}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis\ \textcolor{keywordflow}{in}\ prev\_region.keys():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ prev\_region[axis][1]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ axis\ \textcolor{keywordflow}{in}\ region}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lower,\ locV,\ upper\ =\ region[axis]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newLower,\ newUpper\ =\ lower,\ upper}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ val\ <\ locV:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newLower\ =\ val}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ratio\ =\ (val\ -\/\ locV)\ /\ (lower\ -\/\ locV)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ locV\ <\ val:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newUpper\ =\ val}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ratio\ =\ (val\ -\/\ locV)\ /\ (upper\ -\/\ locV)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:\ \ \textcolor{comment}{\#\ val\ ==\ locV}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Can't\ split\ box\ in\ this\ direction.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ratio\ >\ bestRatio:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bestAxes\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bestRatio\ =\ ratio}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ratio\ ==\ bestRatio:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bestAxes[axis]\ =\ (newLower,\ locV,\ newUpper)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00432}00432\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis,\ triple\ \textcolor{keywordflow}{in}\ bestAxes.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ region[axis]\ =\ triple}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a44e5d16b11e404c4fa7918f8ac9afa2d}{supports}}.append(region)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_acd03fd3587de9e204f42f30bd71b12fe}{\_computeDeltaWeights}}()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00437}00437\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00438}00438\ \ \ \ \ \textcolor{keyword}{def\ }\_locationsToRegions(self):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00439}00439\ \ \ \ \ \ \ \ \ locations\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00440}00440\ \ \ \ \ \ \ \ \ axisRanges\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a420e13a59f74c020d0023800622784e7}{axisRanges}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00441}00441\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ regions\ =\ []}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ loc\ \textcolor{keywordflow}{in}\ locations:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ region\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ axis,\ locV\ \textcolor{keywordflow}{in}\ loc.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ locV\ >\ 0:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ region[axis]\ =\ (0,\ locV,\ axisRanges[axis][1])}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ region[axis]\ =\ (axisRanges[axis][0],\ locV,\ 0)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ regions.append(region)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ regions}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00452}00452\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00453}00453\ \ \ \ \ \textcolor{keyword}{def\ }\_computeDeltaWeights(self):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a992c5236fe9fdf951c0597ed59d93372}{deltaWeights}}\ =\ []}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ loc\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a8f26e71fa9ea0d8c9338f1594b8a4fa2}{locations}}):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ deltaWeight\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Walk\ over\ previous\ masters\ now,\ populate\ deltaWeight}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j,\ support\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a44e5d16b11e404c4fa7918f8ac9afa2d}{supports}}[:i]):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00459}00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scalar\ =\ \mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a259a0702663c23d9984e36e8f7f3dd86}{supportScalar}}(loc,\ support)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00460}00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ scalar:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00461}00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ deltaWeight[j]\ =\ scalar}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00462}00462\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a992c5236fe9fdf951c0597ed59d93372}{deltaWeights}}.append(deltaWeight)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00463}00463\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00464}00464\ \ \ \ \ \textcolor{keyword}{def\ }getDeltas(self,\ masterValues,\ *,\ round=noRound):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ len(masterValues)\ ==\ len(self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a992c5236fe9fdf951c0597ed59d93372}{deltaWeights}}),\ (}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \ \ \ len(masterValues),}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00467}00467\ \ \ \ \ \ \ \ \ \ \ \ \ len(self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a992c5236fe9fdf951c0597ed59d93372}{deltaWeights}}),}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00468}00468\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00469}00469\ \ \ \ \ \ \ \ \ mapping\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_aec8f9274e39d69304aac3b61b3dc5af3}{reverseMapping}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00470}00470\ \ \ \ \ \ \ \ \ out\ =\ []}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00471}00471\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ weights\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a992c5236fe9fdf951c0597ed59d93372}{deltaWeights}}):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ \ \ \ \ delta\ =\ masterValues[mapping[i]]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j,\ weight\ \textcolor{keywordflow}{in}\ weights.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ weight\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ delta\ -\/=\ out[j]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ delta\ -\/=\ out[j]\ *\ weight}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ out.append(round(delta))}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ out}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00480}00480\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00481}00481\ \ \ \ \ \textcolor{keyword}{def\ }getDeltasAndSupports(self,\ items,\ *,\ round=noRound):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00482}00482\ \ \ \ \ \ \ \ \ model,\ items\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_aab3563225f71b81f1a997daaec777317}{getSubModel}}(items)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ model.getDeltas(items,\ round=round),\ model.supports}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00484}00484\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00485}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a22b0e81cb5fa120691e66f826c4d5034}{00485}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a22b0e81cb5fa120691e66f826c4d5034}{getScalars}}(self,\ loc):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ scalars\ for\ each\ delta,\ for\ the\ given\ location.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00487}00487\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ interpolating\ many\ master-\/values\ at\ the\ same\ location,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00488}00488\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ this\ function\ allows\ speed\ up\ by\ fetching\ the\ scalars\ once}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00489}00489\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ and\ using\ them\ with\ interpolateFromMastersAndScalars()."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a259a0702663c23d9984e36e8f7f3dd86}{supportScalar}}(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loc,\ support,\ extrapolate=self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a9b734d9411f9e415c373a959908803b2}{extrapolate}},\ axisRanges=self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a420e13a59f74c020d0023800622784e7}{axisRanges}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ support\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a44e5d16b11e404c4fa7918f8ac9afa2d}{supports}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00496}00496\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00497}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a3c6f08344b7e7c36efdc827994c7dc69}{00497}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a3c6f08344b7e7c36efdc827994c7dc69}{getMasterScalars}}(self,\ targetLocation):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00498}00498\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ multipliers\ for\ each\ master,\ for\ the\ given\ location.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00499}00499\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ interpolating\ many\ master-\/values\ at\ the\ same\ location,}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00500}00500\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ this\ function\ allows\ speed\ up\ by\ fetching\ the\ scalars\ once}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00501}00501\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ and\ using\ them\ with\ interpolateFromValuesAndScalars().}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00502}00502\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00503}00503\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Note\ that\ the\ scalars\ used\ in\ interpolateFromMastersAndScalars(),}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00504}00504\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ are\ *not*\ the\ same\ as\ the\ ones\ returned\ here.\ They\ are\ the\ result}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00505}00505\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ of\ getScalars()."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ out\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a22b0e81cb5fa120691e66f826c4d5034}{getScalars}}(targetLocation)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00507}00507\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ weights\ \textcolor{keywordflow}{in}\ reversed(list(enumerate(self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a992c5236fe9fdf951c0597ed59d93372}{deltaWeights}}))):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j,\ weight\ \textcolor{keywordflow}{in}\ weights.items():}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00509}00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ out[j]\ -\/=\ out[i]\ *\ weight}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00510}00510\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00511}00511\ \ \ \ \ \ \ \ \ out\ =\ [out[self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_ab58e18fd6ac2dd98b5e7f9a1452424ab}{mapping}}[i]]\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(out))]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00512}00512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ out}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00513}00513\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00514}00514\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00515}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a6c104fc9953dd3c894e878ec410f5c24}{00515}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a6c104fc9953dd3c894e878ec410f5c24}{interpolateFromValuesAndScalars}}(values,\ scalars):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Interpolate\ from\ values\ and\ scalars\ coefficients.}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00517}00517\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00518}00518\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ the\ values\ are\ master-\/values,\ then\ the\ scalars\ should\ be}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00519}00519\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ fetched\ from\ getMasterScalars().}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00520}00520\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00521}00521\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ the\ values\ are\ deltas,\ then\ the\ scalars\ should\ be\ fetched}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00522}00522\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ from\ getScalars();\ in\ which\ case\ this\ is\ the\ same\ as}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00523}00523\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ interpolateFromDeltasAndScalars().}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00524}00524\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00525}00525\ \ \ \ \ \ \ \ \ v\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00526}00526\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ len(values)\ ==\ len(scalars)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00527}00527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ value,\ scalar\ \textcolor{keywordflow}{in}\ zip(values,\ scalars):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00528}00528\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ scalar:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00529}00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00530}00530\ \ \ \ \ \ \ \ \ \ \ \ \ contribution\ =\ value\ *\ scalar}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00531}00531\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ v\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00532}00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ contribution}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00533}00533\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00534}00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ +=\ contribution}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00535}00535\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ v}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00536}00536\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00537}00537\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00538}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_afaf6361228f5439445a6db203935cdb9}{00538}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_afaf6361228f5439445a6db203935cdb9}{interpolateFromDeltasAndScalars}}(deltas,\ scalars):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00539}00539\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Interpolate\ from\ deltas\ and\ scalars\ fetched\ from\ getScalars()."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00540}00540\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ VariationModel.interpolateFromValuesAndScalars(deltas,\ scalars)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00541}00541\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00542}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_adc70fa10d8e4c2f6252c5739d62059d6}{00542}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_adc70fa10d8e4c2f6252c5739d62059d6}{interpolateFromDeltas}}(self,\ loc,\ deltas):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00543}00543\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Interpolate\ from\ deltas,\ at\ location\ loc."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00544}00544\ \ \ \ \ \ \ \ \ scalars\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a22b0e81cb5fa120691e66f826c4d5034}{getScalars}}(loc)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00545}00545\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_afaf6361228f5439445a6db203935cdb9}{interpolateFromDeltasAndScalars}}(deltas,\ scalars)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00546}00546\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00547}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a10357270f56904e4bb3890d9abfef3a4}{00547}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a10357270f56904e4bb3890d9abfef3a4}{interpolateFromMasters}}(self,\ loc,\ masterValues,\ *,\ round=noRound):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00548}00548\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Interpolate\ from\ master-\/values,\ at\ location\ loc."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00549}00549\ \ \ \ \ \ \ \ \ scalars\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a3c6f08344b7e7c36efdc827994c7dc69}{getMasterScalars}}(loc)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00550}00550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_a6c104fc9953dd3c894e878ec410f5c24}{interpolateFromValuesAndScalars}}(masterValues,\ scalars)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00551}00551\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00552}\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_add2df7e14d4312699bfcd72c2d7e4a01}{00552}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_add2df7e14d4312699bfcd72c2d7e4a01}{interpolateFromMastersAndScalars}}(self,\ masterValues,\ scalars,\ *,\ round=noRound):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00553}00553\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Interpolate\ from\ master-\/values,\ and\ scalars\ fetched\ from}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00554}00554\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ getScalars(),\ which\ is\ useful\ when\ you\ want\ to\ interpolate}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00555}00555\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ multiple\ master-\/values\ with\ the\ same\ location."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00556}00556\ \ \ \ \ \ \ \ \ deltas\ =\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_ae81cfabc855da729439c453ac8366011}{getDeltas}}(masterValues,\ round=round)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00557}00557\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel_afaf6361228f5439445a6db203935cdb9}{interpolateFromDeltasAndScalars}}(deltas,\ scalars)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00558}00558\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00559}00559\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00560}00560\ \textcolor{keyword}{def\ }piecewiseLinearMap(v,\ mapping):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00561}00561\ \ \ \ \ keys\ =\ mapping.keys()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00562}00562\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ keys:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00563}00563\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ v}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00564}00564\ \ \ \ \ \textcolor{keywordflow}{if}\ v\ \textcolor{keywordflow}{in}\ keys:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00565}00565\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mapping[v]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00566}00566\ \ \ \ \ k\ =\ min(keys)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00567}00567\ \ \ \ \ \textcolor{keywordflow}{if}\ v\ <\ k:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00568}00568\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ v\ +\ mapping[k]\ -\/\ k}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00569}00569\ \ \ \ \ k\ =\ max(keys)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00570}00570\ \ \ \ \ \textcolor{keywordflow}{if}\ v\ >\ k:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00571}00571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ v\ +\ mapping[k]\ -\/\ k}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00572}00572\ \ \ \ \ \textcolor{comment}{\#\ Interpolate}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00573}00573\ \ \ \ \ a\ =\ max(k\ \textcolor{keywordflow}{for}\ k\ \textcolor{keywordflow}{in}\ keys\ \textcolor{keywordflow}{if}\ k\ <\ v)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00574}00574\ \ \ \ \ b\ =\ min(k\ \textcolor{keywordflow}{for}\ k\ \textcolor{keywordflow}{in}\ keys\ \textcolor{keywordflow}{if}\ k\ >\ v)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00575}00575\ \ \ \ \ va\ =\ mapping[a]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00576}00576\ \ \ \ \ vb\ =\ mapping[b]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00577}00577\ \ \ \ \ \textcolor{keywordflow}{return}\ va\ +\ (vb\ -\/\ va)\ *\ (v\ -\/\ a)\ /\ (b\ -\/\ a)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00578}00578\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00579}00579\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00580}\mbox{\hyperlink{namespacefontTools_1_1varLib_1_1models_a5f630803adbb052763c4a1d3e3330cca}{00580}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacemain}{main}}(args=None):}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00581}00581\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Normalize\ locations\ on\ a\ given\ designspace"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00582}00582\ \ \ \ \ \textcolor{keyword}{from}\ fontTools\ \textcolor{keyword}{import}\ configLogger}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00583}00583\ \ \ \ \ \textcolor{keyword}{import}\ argparse}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00584}00584\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00585}00585\ \ \ \ \ parser\ =\ argparse.ArgumentParser(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00586}00586\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}fonttools\ varLib.models"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00587}00587\ \ \ \ \ \ \ \ \ description=main.\_\_doc\_\_,}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00588}00588\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00589}00589\ \ \ \ \ parser.add\_argument(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00590}00590\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/-\/loglevel"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00591}00591\ \ \ \ \ \ \ \ \ metavar=\textcolor{stringliteral}{"{}LEVEL"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00592}00592\ \ \ \ \ \ \ \ \ default=\textcolor{stringliteral}{"{}INFO"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00593}00593\ \ \ \ \ \ \ \ \ help=\textcolor{stringliteral}{"{}Logging\ level\ (defaults\ to\ INFO)"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00594}00594\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00595}00595\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00596}00596\ \ \ \ \ group\ =\ parser.add\_mutually\_exclusive\_group(required=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00597}00597\ \ \ \ \ group.add\_argument(\textcolor{stringliteral}{"{}-\/d"{}},\ \textcolor{stringliteral}{"{}-\/-\/designspace"{}},\ metavar=\textcolor{stringliteral}{"{}DESIGNSPACE"{}},\ type=str)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00598}00598\ \ \ \ \ group.add\_argument(}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00599}00599\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/l"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00600}00600\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/-\/locations"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00601}00601\ \ \ \ \ \ \ \ \ metavar=\textcolor{stringliteral}{"{}LOCATION"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00602}00602\ \ \ \ \ \ \ \ \ nargs=\textcolor{stringliteral}{"{}+"{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00603}00603\ \ \ \ \ \ \ \ \ help=\textcolor{stringliteral}{"{}Master\ locations\ as\ comma-\/separate\ coordinates.\ One\ must\ be\ all\ zeros."{}},}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00604}00604\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00605}00605\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00606}00606\ \ \ \ \ args\ =\ parser.parse\_args(args)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00607}00607\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00608}00608\ \ \ \ \ configLogger(level=args.loglevel)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00609}00609\ \ \ \ \ \textcolor{keyword}{from}\ pprint\ \textcolor{keyword}{import}\ pprint}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00610}00610\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00611}00611\ \ \ \ \ \textcolor{keywordflow}{if}\ args.designspace:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00612}00612\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1designspaceLib}{fontTools.designspaceLib}}\ \textcolor{keyword}{import}\ DesignSpaceDocument}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00613}00613\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00614}00614\ \ \ \ \ \ \ \ \ doc\ =\ \mbox{\hyperlink{classfontTools_1_1designspaceLib_1_1DesignSpaceDocument}{DesignSpaceDocument}}()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00615}00615\ \ \ \ \ \ \ \ \ doc.read(args.designspace)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00616}00616\ \ \ \ \ \ \ \ \ locs\ =\ [s.location\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ doc.sources]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00617}00617\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Original\ locations:"{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00618}00618\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepprint}{pprint}}(locs)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00619}00619\ \ \ \ \ \ \ \ \ doc.normalize()}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00620}00620\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Normalized\ locations:"{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00621}00621\ \ \ \ \ \ \ \ \ locs\ =\ [s.location\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ doc.sources]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00622}00622\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacepprint}{pprint}}(locs)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00623}00623\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00624}00624\ \ \ \ \ \ \ \ \ axes\ =\ [chr(c)\ \textcolor{keywordflow}{for}\ c\ \textcolor{keywordflow}{in}\ range(ord(\textcolor{stringliteral}{"{}A"{}}),\ ord(\textcolor{stringliteral}{"{}Z"{}})\ +\ 1)]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00625}00625\ \ \ \ \ \ \ \ \ locs\ =\ [}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00626}00626\ \ \ \ \ \ \ \ \ \ \ \ \ dict(zip(axes,\ (float(v)\ \textcolor{keywordflow}{for}\ v\ \textcolor{keywordflow}{in}\ s.split(\textcolor{stringliteral}{"{},"{}}))))\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ args.locations}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00627}00627\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00628}00628\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00629}00629\ \ \ \ \ model\ =\ \mbox{\hyperlink{classfontTools_1_1varLib_1_1models_1_1VariationModel}{VariationModel}}(locs)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00630}00630\ \ \ \ \ print(\textcolor{stringliteral}{"{}Sorted\ locations:"{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00631}00631\ \ \ \ \ \mbox{\hyperlink{namespacepprint}{pprint}}(model.locations)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00632}00632\ \ \ \ \ print(\textcolor{stringliteral}{"{}Supports:"{}})}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00633}00633\ \ \ \ \ \mbox{\hyperlink{namespacepprint}{pprint}}(model.supports)}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00634}00634\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00635}00635\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00636}00636\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00637}00637\ \ \ \ \ \textcolor{keyword}{import}\ doctest,\ sys}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00638}00638\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00639}00639\ \ \ \ \ \textcolor{keywordflow}{if}\ len(sys.argv)\ >\ 1:}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00640}00640\ \ \ \ \ \ \ \ \ sys.exit(\mbox{\hyperlink{namespacemain}{main}}())}
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00641}00641\ }
\DoxyCodeLine{\Hypertarget{fontTools_2varLib_2models_8py_source_l00642}00642\ \ \ \ \ sys.exit(doctest.testmod().failed)}

\end{DoxyCode}
