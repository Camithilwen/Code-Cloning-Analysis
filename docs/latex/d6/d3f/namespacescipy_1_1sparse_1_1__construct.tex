\doxysection{scipy.\+sparse.\+\_\+construct Namespace Reference}
\hypertarget{namespacescipy_1_1sparse_1_1__construct}{}\label{namespacescipy_1_1sparse_1_1__construct}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a791718fb9c41528476ee23151df753b9}{spdiags}} (data, \mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a704412b4887282338f59536a054707f2}{diags}}, m=None, n=None, format=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a704412b4887282338f59536a054707f2}{diags}} (diagonals, offsets=0, shape=None, format=None, dtype=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a2071b7b050559c6611572872f295b746}{identity}} (n, dtype=\textquotesingle{}d\textquotesingle{}, format=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a10d5e7ae3589a4ac454349b1b38f5f00}{eye}} (m, n=None, k=0, dtype=float, format=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_af07c2c9378c41369bb9ce06d8abd08f7}{kron}} (A, B, format=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a9a6e248d7663161229470792183a26f4}{kronsum}} (A, B, format=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a1b5283e4974abf4f0fa04041204ad6c5}{\+\_\+compressed\+\_\+sparse\+\_\+stack}} (blocks, axis)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a31819b72e75791cb47d1919e0fa740a1}{\+\_\+stack\+\_\+along\+\_\+minor\+\_\+axis}} (blocks, axis)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a5b5b77ab74b255553c3da738e27b6a10}{hstack}} (blocks, format=None, dtype=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a98518cff890bf4844a76539c498e9428}{vstack}} (blocks, format=None, dtype=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a6d1fc04a0109e1ba5a0507531e940504}{bmat}} (blocks, format=None, dtype=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a674c838b459a86c137ffbcff0b5411fc}{block\+\_\+diag}} (mats, format=None, dtype=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_acb5138f0a780dddcca900cdbdfa987d1}{random}} (m, n, density=0.\+01, format=\textquotesingle{}coo\textquotesingle{}, dtype=None, random\+\_\+state=None, data\+\_\+rvs=None)
\item 
\mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_a2f5233d128bc20de71666ce8bf68d46e}{rand}} (m, n, density=0.\+01, format="{}coo"{}, dtype=None, random\+\_\+state=None)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_ab1fea452238accab674973638ded1a1a}{\+\_\+\+\_\+docformat\+\_\+\+\_\+}} = "{}restructuredtext en"{}
\item 
list \mbox{\hyperlink{namespacescipy_1_1sparse_1_1__construct_aab877b6c532fe50812d2604aff52a02d}{\+\_\+\+\_\+all\+\_\+\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Functions to construct sparse matrices
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a1b5283e4974abf4f0fa04041204ad6c5}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!\_compressed\_sparse\_stack@{\_compressed\_sparse\_stack}}
\index{\_compressed\_sparse\_stack@{\_compressed\_sparse\_stack}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{\_compressed\_sparse\_stack()}{\_compressed\_sparse\_stack()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a1b5283e4974abf4f0fa04041204ad6c5} 
scipy.\+sparse.\+\_\+construct.\+\_\+compressed\+\_\+sparse\+\_\+stack (\begin{DoxyParamCaption}\item[{}]{blocks}{, }\item[{}]{axis}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Stacking fast path for CSR/CSC matrices
(i) vstack for CSR, (ii) hstack for CSC.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00414}{414}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



Referenced by \mbox{\hyperlink{__construct_8py_source_l00572}{bmat()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a31819b72e75791cb47d1919e0fa740a1}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!\_stack\_along\_minor\_axis@{\_stack\_along\_minor\_axis}}
\index{\_stack\_along\_minor\_axis@{\_stack\_along\_minor\_axis}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{\_stack\_along\_minor\_axis()}{\_stack\_along\_minor\_axis()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a31819b72e75791cb47d1919e0fa740a1} 
scipy.\+sparse.\+\_\+construct.\+\_\+stack\+\_\+along\+\_\+minor\+\_\+axis (\begin{DoxyParamCaption}\item[{}]{blocks}{, }\item[{}]{axis}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Stacking fast path for CSR/CSC matrices along the minor axis
(i) hstack for CSR, (ii) vstack for CSC.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00448}{448}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



Referenced by \mbox{\hyperlink{__construct_8py_source_l00572}{bmat()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a674c838b459a86c137ffbcff0b5411fc}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!block\_diag@{block\_diag}}
\index{block\_diag@{block\_diag}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{block\_diag()}{block\_diag()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a674c838b459a86c137ffbcff0b5411fc} 
scipy.\+sparse.\+\_\+construct.\+block\+\_\+diag (\begin{DoxyParamCaption}\item[{}]{mats}{, }\item[{}]{format}{ = {\ttfamily None}, }\item[{}]{dtype}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a block diagonal sparse matrix from provided matrices.

Parameters
----------
mats : sequence of matrices
    Input matrices.
format : str, optional
    The sparse format of the result (e.g., "csr"). If not given, the matrix
    is returned in "coo" format.
dtype : dtype specifier, optional
    The data-type of the output matrix. If not given, the dtype is
    determined from that of `blocks`.

Returns
-------
res : sparse matrix

Notes
-----

.. versionadded:: 0.11.0

See Also
--------
bmat, diags

Examples
--------
>>> from scipy.sparse import coo_matrix, block_diag
>>> A = coo_matrix([[1, 2], [3, 4]])
>>> B = coo_matrix([[5], [6]])
>>> C = coo_matrix([[7]])
>>> block_diag((A, B, C)).toarray()
array([[1, 2, 0, 0],
       [3, 4, 0, 0],
       [0, 0, 5, 0],
       [0, 0, 6, 0],
       [0, 0, 0, 7]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00707}{707}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{scipy_2sparse_2__base_8py_source_l01461}{scipy.\+sparse.\+\_\+base.\+issparse()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a6d1fc04a0109e1ba5a0507531e940504}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!bmat@{bmat}}
\index{bmat@{bmat}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{bmat()}{bmat()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a6d1fc04a0109e1ba5a0507531e940504} 
scipy.\+sparse.\+\_\+construct.\+bmat (\begin{DoxyParamCaption}\item[{}]{blocks}{, }\item[{}]{format}{ = {\ttfamily None}, }\item[{}]{dtype}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a sparse matrix from sparse sub-blocks

Parameters
----------
blocks : array_like
    Grid of sparse matrices with compatible shapes.
    An entry of None implies an all-zero matrix.
format : {'bsr', 'coo', 'csc', 'csr', 'dia', 'dok', 'lil'}, optional
    The sparse format of the result (e.g. "csr"). By default an
    appropriate sparse matrix format is returned.
    This choice is subject to change.
dtype : dtype, optional
    The data-type of the output matrix. If not given, the dtype is
    determined from that of `blocks`.

Returns
-------
bmat : sparse matrix

See Also
--------
block_diag, diags

Examples
--------
>>> from scipy.sparse import coo_matrix, bmat
>>> A = coo_matrix([[1, 2], [3, 4]])
>>> B = coo_matrix([[5], [6]])
>>> C = coo_matrix([[7]])
>>> bmat([[A, B], [None, C]]).toarray()
array([[1, 2, 5],
       [3, 4, 6],
       [0, 0, 7]])

>>> bmat([[A, None], [None, C]]).toarray()
array([[1, 2, 0],
       [3, 4, 0],
       [0, 0, 7]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00572}{572}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{__construct_8py_source_l00414}{\+\_\+compressed\+\_\+sparse\+\_\+stack()}}, and \mbox{\hyperlink{__construct_8py_source_l00448}{\+\_\+stack\+\_\+along\+\_\+minor\+\_\+axis()}}.



Referenced by \mbox{\hyperlink{__construct_8py_source_l00505}{hstack()}}, and \mbox{\hyperlink{__construct_8py_source_l00538}{vstack()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a704412b4887282338f59536a054707f2}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!diags@{diags}}
\index{diags@{diags}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{diags()}{diags()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a704412b4887282338f59536a054707f2} 
scipy.\+sparse.\+\_\+construct.\+diags (\begin{DoxyParamCaption}\item[{}]{diagonals}{, }\item[{}]{offsets}{ = {\ttfamily 0}, }\item[{}]{shape}{ = {\ttfamily None}, }\item[{}]{format}{ = {\ttfamily None}, }\item[{}]{dtype}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Construct a sparse matrix from diagonals.

Parameters
----------
diagonals : sequence of array_like
    Sequence of arrays containing the matrix diagonals,
    corresponding to `offsets`.
offsets : sequence of int or an int, optional
    Diagonals to set:
      - k = 0  the main diagonal (default)
      - k > 0  the kth upper diagonal
      - k < 0  the kth lower diagonal
shape : tuple of int, optional
    Shape of the result. If omitted, a square matrix large enough
    to contain the diagonals is returned.
format : {"dia", "csr", "csc", "lil", ...}, optional
    Matrix format of the result. By default (format=None) an
    appropriate sparse matrix format is returned. This choice is
    subject to change.
dtype : dtype, optional
    Data type of the matrix.

See Also
--------
spdiags : construct matrix from diagonals

Notes
-----
This function differs from `spdiags` in the way it handles
off-diagonals.

The result from `diags` is the sparse equivalent of::

    np.diag(diagonals[0], offsets[0])
    + ...
    + np.diag(diagonals[k], offsets[k])

Repeated diagonal offsets are disallowed.

.. versionadded:: 0.11

Examples
--------
>>> from scipy.sparse import diags
>>> diagonals = [[1, 2, 3, 4], [1, 2, 3], [1, 2]]
>>> diags(diagonals, [0, -1, 2]).toarray()
array([[1, 0, 1, 0],
       [1, 2, 0, 2],
       [0, 2, 3, 0],
       [0, 0, 3, 4]])

Broadcasting of scalars is supported (but shape needs to be
specified):

>>> diags([1, -2, 1], [-1, 0, 1], shape=(4, 4)).toarray()
array([[-2.,  1.,  0.,  0.],
       [ 1., -2.,  1.,  0.],
       [ 0.,  1., -2.,  1.],
       [ 0.,  0.,  1., -2.]])


If only one diagonal is wanted (as in `numpy.diag`), the following
works as well:

>>> diags([1, 2, 3], 1).toarray()
array([[ 0.,  1.,  0.,  0.],
       [ 0.,  0.,  2.,  0.],
       [ 0.,  0.,  0.,  3.],
       [ 0.,  0.,  0.,  0.]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00073}{73}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



Referenced by \mbox{\hyperlink{test__lobpcg_8py_source_l00106}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+b\+\_\+orthonormalize()}}, \mbox{\hyperlink{test__lobpcg_8py_source_l00197}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+diagonal()}}, \mbox{\hyperlink{test__lobpcg_8py_source_l00536}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+diagonal\+\_\+data\+\_\+types()}}, \mbox{\hyperlink{test__lobpcg_8py_source_l00478}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+inplace\+\_\+warning()}}, \mbox{\hyperlink{test__lobpcg_8py_source_l00493}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+maxit()}}, and \mbox{\hyperlink{test__lobpcg_8py_source_l00441}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+tolerance\+\_\+float32()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a10d5e7ae3589a4ac454349b1b38f5f00}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!eye@{eye}}
\index{eye@{eye}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{eye()}{eye()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a10d5e7ae3589a4ac454349b1b38f5f00} 
scipy.\+sparse.\+\_\+construct.\+eye (\begin{DoxyParamCaption}\item[{}]{m}{, }\item[{}]{n}{ = {\ttfamily None}, }\item[{}]{k}{ = {\ttfamily 0}, }\item[{}]{dtype}{ = {\ttfamily float}, }\item[{}]{format}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Sparse matrix with ones on diagonal

Returns a sparse (m x n) matrix where the kth diagonal
is all ones and everything else is zeros.

Parameters
----------
m : int
    Number of rows in the matrix.
n : int, optional
    Number of columns. Default: `m`.
k : int, optional
    Diagonal to place ones on. Default: 0 (main diagonal).
dtype : dtype, optional
    Data type of the matrix.
format : str, optional
    Sparse format of the result, e.g., format="csr", etc.

Examples
--------
>>> import numpy as np
>>> from scipy import sparse
>>> sparse.eye(3).toarray()
array([[ 1.,  0.,  0.],
       [ 0.,  1.,  0.],
       [ 0.,  0.,  1.]])
>>> sparse.eye(3, dtype=np.int8)
<3x3 sparse matrix of type '<class 'numpy.int8'>'
    with 3 stored elements (1 diagonals) in DIAgonal format>
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00229}{229}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{__construct_8py_source_l00026}{spdiags()}}.



Referenced by \mbox{\hyperlink{arpack_8py_source_l01039}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+arpack.\+arpack.\+\_\+fast\+\_\+spmatrix\+\_\+to\+\_\+csc()}}, \mbox{\hyperlink{__construct_8py_source_l00199}{identity()}}, \mbox{\hyperlink{__construct_8py_source_l00371}{kronsum()}}, and \mbox{\hyperlink{test__lobpcg_8py_source_l00197}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+diagonal()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a5b5b77ab74b255553c3da738e27b6a10}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!hstack@{hstack}}
\index{hstack@{hstack}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{hstack()}{hstack()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a5b5b77ab74b255553c3da738e27b6a10} 
scipy.\+sparse.\+\_\+construct.\+hstack (\begin{DoxyParamCaption}\item[{}]{blocks}{, }\item[{}]{format}{ = {\ttfamily None}, }\item[{}]{dtype}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Stack sparse matrices horizontally (column wise)

Parameters
----------
blocks
    sequence of sparse matrices with compatible shapes
format : str
    sparse format of the result (e.g., "csr")
    by default an appropriate sparse matrix format is returned.
    This choice is subject to change.
dtype : dtype, optional
    The data-type of the output matrix. If not given, the dtype is
    determined from that of `blocks`.

See Also
--------
vstack : stack sparse matrices vertically (row wise)

Examples
--------
>>> from scipy.sparse import coo_matrix, hstack
>>> A = coo_matrix([[1, 2], [3, 4]])
>>> B = coo_matrix([[5], [6]])
>>> hstack([A,B]).toarray()
array([[1, 2, 5],
       [3, 4, 6]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00505}{505}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{__construct_8py_source_l00572}{bmat()}}.



Referenced by \mbox{\hyperlink{test__csr_8py_source_l00116}{scipy.\+sparse.\+tests.\+test\+\_\+csr.\+test\+\_\+csr\+\_\+hstack\+\_\+int64()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a2071b7b050559c6611572872f295b746}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!identity@{identity}}
\index{identity@{identity}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{identity()}{identity()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a2071b7b050559c6611572872f295b746} 
scipy.\+sparse.\+\_\+construct.\+identity (\begin{DoxyParamCaption}\item[{}]{n}{, }\item[{}]{dtype}{ = {\ttfamily \textquotesingle{}d\textquotesingle{}}, }\item[{}]{format}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Identity matrix in sparse format

Returns an identity matrix with shape (n,n) using a given
sparse format and dtype.

Parameters
----------
n : int
    Shape of the identity matrix.
dtype : dtype, optional
    Data type of the matrix
format : str, optional
    Sparse format of the result, e.g., format="csr", etc.

Examples
--------
>>> from scipy.sparse import identity
>>> identity(3).toarray()
array([[ 1.,  0.,  0.],
       [ 0.,  1.,  0.],
       [ 0.,  0.,  1.]])
>>> identity(3, dtype='int8', format='dia')
<3x3 sparse matrix of type '<class 'numpy.int8'>'
        with 3 stored elements (1 diagonals) in DIAgonal format>
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00199}{199}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{__construct_8py_source_l00229}{eye()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_af07c2c9378c41369bb9ce06d8abd08f7}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!kron@{kron}}
\index{kron@{kron}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{kron()}{kron()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_af07c2c9378c41369bb9ce06d8abd08f7} 
scipy.\+sparse.\+\_\+construct.\+kron (\begin{DoxyParamCaption}\item[{}]{A}{, }\item[{}]{B}{, }\item[{}]{format}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}kronecker product of sparse matrices A and B

Parameters
----------
A : sparse or dense matrix
    first matrix of the product
B : sparse or dense matrix
    second matrix of the product
format : str, optional
    format of the result (e.g. "csr")

Returns
-------
kronecker product in a sparse matrix format


Examples
--------
>>> import numpy as np
>>> from scipy import sparse
>>> A = sparse.csr_matrix(np.array([[0, 2], [5, 0]]))
>>> B = sparse.csr_matrix(np.array([[1, 2], [3, 4]]))
>>> sparse.kron(A, B).toarray()
array([[ 0,  0,  2,  4],
       [ 0,  0,  6,  8],
       [ 5, 10,  0,  0],
       [15, 20,  0,  0]])

>>> sparse.kron(A, [[1, 2], [3, 4]]).toarray()
array([[ 0,  0,  2,  4],
       [ 0,  0,  6,  8],
       [ 5, 10,  0,  0],
       [15, 20,  0,  0]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00285}{285}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



Referenced by \mbox{\hyperlink{__construct_8py_source_l00371}{kronsum()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a9a6e248d7663161229470792183a26f4}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!kronsum@{kronsum}}
\index{kronsum@{kronsum}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{kronsum()}{kronsum()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a9a6e248d7663161229470792183a26f4} 
scipy.\+sparse.\+\_\+construct.\+kronsum (\begin{DoxyParamCaption}\item[{}]{A}{, }\item[{}]{B}{, }\item[{}]{format}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}kronecker sum of sparse matrices A and B

Kronecker sum of two sparse matrices is a sum of two Kronecker
products kron(I_n,A) + kron(B,I_m) where A has shape (m,m)
and B has shape (n,n) and I_m and I_n are identity matrices
of shape (m,m) and (n,n), respectively.

Parameters
----------
A
    square matrix
B
    square matrix
format : str
    format of the result (e.g. "csr")

Returns
-------
kronecker sum in a sparse matrix format

Examples
--------
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00371}{371}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{__construct_8py_source_l00229}{eye()}}, and \mbox{\hyperlink{__construct_8py_source_l00285}{kron()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a2f5233d128bc20de71666ce8bf68d46e}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!rand@{rand}}
\index{rand@{rand}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{rand()}{rand()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a2f5233d128bc20de71666ce8bf68d46e} 
scipy.\+sparse.\+\_\+construct.\+rand (\begin{DoxyParamCaption}\item[{}]{m}{, }\item[{}]{n}{, }\item[{}]{density}{ = {\ttfamily 0.01}, }\item[{}]{format}{ = {\ttfamily "{}coo"{}}, }\item[{}]{dtype}{ = {\ttfamily None}, }\item[{}]{random\+\_\+state}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate a sparse matrix of the given shape and density with uniformly
distributed values.

Parameters
----------
m, n : int
    shape of the matrix
density : real, optional
    density of the generated matrix: density equal to one means a full
    matrix, density of 0 means a matrix with no non-zero items.
format : str, optional
    sparse matrix format.
dtype : dtype, optional
    type of the returned matrix values.
random_state : {None, int, `numpy.random.Generator`,
                `numpy.random.RandomState`}, optional

    If `seed` is None (or `np.random`), the `numpy.random.RandomState`
    singleton is used.
    If `seed` is an int, a new ``RandomState`` instance is used,
    seeded with `seed`.
    If `seed` is already a ``Generator`` or ``RandomState`` instance then
    that instance is used.

Returns
-------
res : sparse matrix

Notes
-----
Only float types are supported for now.

See Also
--------
scipy.sparse.random : Similar function that allows a user-specified random
    data source.

Examples
--------
>>> from scipy.sparse import rand
>>> matrix = rand(3, 4, density=0.25, format="csr", random_state=42)
>>> matrix
<3x4 sparse matrix of type '<class 'numpy.float64'>'
   with 3 stored elements in Compressed Sparse Row format>
>>> matrix.toarray()
array([[0.05641158, 0.        , 0.        , 0.65088847],
       [0.        , 0.        , 0.        , 0.14286682],
       [0.        , 0.        , 0.        , 0.        ]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00896}{896}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_acb5138f0a780dddcca900cdbdfa987d1}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!random@{random}}
\index{random@{random}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{random()}{random()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_acb5138f0a780dddcca900cdbdfa987d1} 
scipy.\+sparse.\+\_\+construct.\+random (\begin{DoxyParamCaption}\item[{}]{m}{, }\item[{}]{n}{, }\item[{}]{density}{ = {\ttfamily 0.01}, }\item[{}]{format}{ = {\ttfamily \textquotesingle{}coo\textquotesingle{}}, }\item[{}]{dtype}{ = {\ttfamily None}, }\item[{}]{random\+\_\+state}{ = {\ttfamily None}, }\item[{}]{data\+\_\+rvs}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate a sparse matrix of the given shape and density with randomly
distributed values.

Parameters
----------
m, n : int
    shape of the matrix
density : real, optional
    density of the generated matrix: density equal to one means a full
    matrix, density of 0 means a matrix with no non-zero items.
format : str, optional
    sparse matrix format.
dtype : dtype, optional
    type of the returned matrix values.
random_state : {None, int, `numpy.random.Generator`,
                `numpy.random.RandomState`}, optional

    If `seed` is None (or `np.random`), the `numpy.random.RandomState`
    singleton is used.
    If `seed` is an int, a new ``RandomState`` instance is used,
    seeded with `seed`.
    If `seed` is already a ``Generator`` or ``RandomState`` instance then
    that instance is used.
    This random state will be used
    for sampling the sparsity structure, but not necessarily for sampling
    the values of the structurally nonzero entries of the matrix.
data_rvs : callable, optional
    Samples a requested number of random values.
    This function should take a single argument specifying the length
    of the ndarray that it will return. The structurally nonzero entries
    of the sparse random matrix will be taken from the array sampled
    by this function. By default, uniform [0, 1) random values will be
    sampled using the same random state as is used for sampling
    the sparsity structure.

Returns
-------
res : sparse matrix

Notes
-----
Only float types are supported for now.

Examples
--------
>>> from scipy.sparse import random
>>> from scipy import stats
>>> from numpy.random import default_rng
>>> rng = default_rng()
>>> rvs = stats.poisson(25, loc=10).rvs
>>> S = random(3, 4, density=0.25, random_state=rng, data_rvs=rvs)
>>> S.A
array([[ 36.,   0.,  33.,   0.],   # random
       [  0.,   0.,   0.,   0.],
       [  0.,   0.,  36.,   0.]])

>>> from scipy.sparse import random
>>> from scipy.stats import rv_continuous
>>> class CustomDistribution(rv_continuous):
...     def _rvs(self,  size=None, random_state=None):
...         return random_state.standard_normal(size)
>>> X = CustomDistribution(seed=rng)
>>> Y = X()  # get a frozen version of the distribution
>>> S = random(3, 4, density=0.25, random_state=rng, data_rvs=Y.rvs)
>>> S.A
array([[ 0.        ,  0.        ,  0.        ,  0.        ],   # random
       [ 0.13569738,  1.9467163 , -0.81205367,  0.        ],
       [ 0.        ,  0.        ,  0.        ,  0.        ]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00778}{778}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a791718fb9c41528476ee23151df753b9}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!spdiags@{spdiags}}
\index{spdiags@{spdiags}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{spdiags()}{spdiags()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a791718fb9c41528476ee23151df753b9} 
scipy.\+sparse.\+\_\+construct.\+spdiags (\begin{DoxyParamCaption}\item[{}]{data}{, }\item[{}]{diags}{, }\item[{}]{m}{ = {\ttfamily None}, }\item[{}]{n}{ = {\ttfamily None}, }\item[{}]{format}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a sparse matrix from diagonals.

Parameters
----------
data : array_like
    Matrix diagonals stored row-wise
diags : sequence of int or an int
    Diagonals to set:

    * k = 0  the main diagonal
    * k > 0  the kth upper diagonal
    * k < 0  the kth lower diagonal
m, n : int, tuple, optional
    Shape of the result. If `n` is None and `m` is a given tuple,
    the shape is this tuple. If omitted, the matrix is square and
    its shape is len(data[0]).
format : str, optional
    Format of the result. By default (format=None) an appropriate sparse
    matrix format is returned. This choice is subject to change.

See Also
--------
diags : more convenient form of this function
dia_matrix : the sparse DIAgonal format.

Examples
--------
>>> import numpy as np
>>> from scipy.sparse import spdiags
>>> data = np.array([[1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4]])
>>> diags = np.array([0, -1, 2])
>>> spdiags(data, diags, 4, 4).toarray()
array([[1, 0, 3, 0],
       [1, 2, 0, 4],
       [0, 2, 3, 0],
       [0, 0, 3, 4]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00026}{26}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



Referenced by \mbox{\hyperlink{__construct_8py_source_l00229}{eye()}}, and \mbox{\hyperlink{test__lobpcg_8py_source_l00411}{scipy.\+sparse.\+linalg.\+\_\+eigen.\+lobpcg.\+tests.\+test\+\_\+lobpcg.\+test\+\_\+eigs\+\_\+consistency()}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_a98518cff890bf4844a76539c498e9428}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!vstack@{vstack}}
\index{vstack@{vstack}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{vstack()}{vstack()}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_a98518cff890bf4844a76539c498e9428} 
scipy.\+sparse.\+\_\+construct.\+vstack (\begin{DoxyParamCaption}\item[{}]{blocks}{, }\item[{}]{format}{ = {\ttfamily None}, }\item[{}]{dtype}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Stack sparse matrices vertically (row wise)

Parameters
----------
blocks
    sequence of sparse matrices with compatible shapes
format : str, optional
    sparse format of the result (e.g., "csr")
    by default an appropriate sparse matrix format is returned.
    This choice is subject to change.
dtype : dtype, optional
    The data-type of the output matrix. If not given, the dtype is
    determined from that of `blocks`.

See Also
--------
hstack : stack sparse matrices horizontally (column wise)

Examples
--------
>>> from scipy.sparse import coo_matrix, vstack
>>> A = coo_matrix([[1, 2], [3, 4]])
>>> B = coo_matrix([[5, 6]])
>>> vstack([A, B]).toarray()
array([[1, 2],
       [3, 4],
       [5, 6]])
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__construct_8py_source_l00538}{538}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.



References \mbox{\hyperlink{__construct_8py_source_l00572}{bmat()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{namespacescipy_1_1sparse_1_1__construct_aab877b6c532fe50812d2604aff52a02d}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!\_\_all\_\_@{\_\_all\_\_}}
\index{\_\_all\_\_@{\_\_all\_\_}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{\_\_all\_\_}{\_\_all\_\_}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_aab877b6c532fe50812d2604aff52a02d} 
list scipy.\+sparse.\+\_\+construct.\+\_\+\+\_\+all\+\_\+\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ [\textcolor{stringliteral}{'spdiags'},\ \textcolor{stringliteral}{'eye'},\ \textcolor{stringliteral}{'identity'},\ \textcolor{stringliteral}{'kron'},\ \textcolor{stringliteral}{'kronsum'},}
\DoxyCodeLine{00002\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'hstack'},\ \textcolor{stringliteral}{'vstack'},\ \textcolor{stringliteral}{'bmat'},\ \textcolor{stringliteral}{'rand'},\ \textcolor{stringliteral}{'random'},\ \textcolor{stringliteral}{'diags'},\ \textcolor{stringliteral}{'block\_diag'}]}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{__construct_8py_source_l00006}{6}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.

\Hypertarget{namespacescipy_1_1sparse_1_1__construct_ab1fea452238accab674973638ded1a1a}\index{scipy.sparse.\_construct@{scipy.sparse.\_construct}!\_\_docformat\_\_@{\_\_docformat\_\_}}
\index{\_\_docformat\_\_@{\_\_docformat\_\_}!scipy.sparse.\_construct@{scipy.sparse.\_construct}}
\doxysubsubsection{\texorpdfstring{\_\_docformat\_\_}{\_\_docformat\_\_}}
{\footnotesize\ttfamily \label{namespacescipy_1_1sparse_1_1__construct_ab1fea452238accab674973638ded1a1a} 
str scipy.\+sparse.\+\_\+construct.\+\_\+\+\_\+docformat\+\_\+\+\_\+ = "{}restructuredtext en"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{__construct_8py_source_l00004}{4}} of file \mbox{\hyperlink{__construct_8py_source}{\+\_\+construct.\+py}}.

