\doxysection{test\+\_\+utils.\+py}
\hypertarget{numpy_2lib_2tests_2test__utils_8py_source}{}\label{numpy_2lib_2tests_2test__utils_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/lib/tests/test\_utils.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/lib/tests/test\_utils.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00001}\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils}{00001}}\ \textcolor{keyword}{import}\ inspect}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00002}00002\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00003}00003\ \textcolor{keyword}{import}\ pytest}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00005}00005\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00006}00006\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1core}{numpy.core}}\ \textcolor{keyword}{import}\ arange}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00007}00007\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1testing}{numpy.testing}}\ \textcolor{keyword}{import}\ assert\_,\ assert\_equal,\ assert\_raises\_regex}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00008}00008\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1lib}{numpy.lib}}\ \textcolor{keyword}{import}\ deprecate,\ deprecate\_with\_doc}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00009}00009\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacenumpy_1_1lib_1_1utils}{numpy.lib.utils}}\ \textcolor{keyword}{as}\ utils}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00011}00011\ \textcolor{keyword}{from}\ io\ \textcolor{keyword}{import}\ StringIO}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00014}00014\ \textcolor{preprocessor}{@pytest.mark.skipif(sys.flags.optimize\ ==\ 2,\ reason="{}Python\ running\ -\/OO"{})}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00015}00015\ \textcolor{preprocessor}{@pytest.mark.skipif}(}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00016}00016\ \ \ \ \ sys.version\_info\ ==\ (3,\ 10,\ 0,\ \textcolor{stringliteral}{"{}candidate"{}},\ 1),}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00017}00017\ \ \ \ \ reason=\textcolor{stringliteral}{"{}Broken\ as\ of\ bpo-\/44524"{}},}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00018}00018\ )}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00019}00019\ \textcolor{keyword}{def\ }test\_lookfor():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00020}00020\ \ \ \ \ out\ =\ \mbox{\hyperlink{classStringIO}{StringIO}}()}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00021}00021\ \ \ \ \ utils.lookfor(\textcolor{stringliteral}{'eigenvalue'},\ module=\textcolor{stringliteral}{'numpy'},\ output=out,}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ import\_modules=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00023}00023\ \ \ \ \ out\ =\ out.getvalue()}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00024}00024\ \ \ \ \ assert\_(\textcolor{stringliteral}{'numpy.linalg.eig'}\ \textcolor{keywordflow}{in}\ out)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00027}00027\ \textcolor{preprocessor}{@deprecate}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00028}00028\ \textcolor{keyword}{def\ }old\_func(self,\ x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00032}00032\ \textcolor{preprocessor}{@deprecate(message="{}Rather\ use\ new\_func2"{})}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00033}00033\ \textcolor{keyword}{def\ }old\_func2(self,\ x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00037}00037\ \textcolor{keyword}{def\ }old\_func3(self,\ x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00039}00039\ new\_func3\ =\ \mbox{\hyperlink{namespacenumpy_1_1lib_1_1utils_ac5546baca3072d9c42539218beb5fc95}{deprecate}}(old\_func3,\ old\_name=\textcolor{stringliteral}{"{}old\_func3"{}},\ new\_name=\textcolor{stringliteral}{"{}new\_func3"{}})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00042}\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils_aebe8aa63c51a4fc9c3c4b6c032bd3ac1}{00042}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils_aebe8aa63c51a4fc9c3c4b6c032bd3ac1}{old\_func4}}(self,\ x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00043}00043\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Summary.}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00044}00044\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00045}00045\ \textcolor{stringliteral}{\ \ \ \ Further\ info.}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00046}00046\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00047}00047\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00048}00048\ new\_func4\ =\ \mbox{\hyperlink{namespacenumpy_1_1lib_1_1utils_ac5546baca3072d9c42539218beb5fc95}{deprecate}}(old\_func4)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00051}\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils_afb35363a3a2321f97a17c1380973442b}{00051}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils_afb35363a3a2321f97a17c1380973442b}{old\_func5}}(self,\ x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00052}00052\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Summary.}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00053}00053\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Bizarre\ indentation.}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00057}00057\ new\_func5\ =\ \mbox{\hyperlink{namespacenumpy_1_1lib_1_1utils_ac5546baca3072d9c42539218beb5fc95}{deprecate}}(old\_func5,\ message=\textcolor{stringliteral}{"{}This\ function\ is\(\backslash\)ndeprecated."{}})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00060}\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils_abe7695ad3e038d30c5a755082d3cad1d}{00060}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenumpy_1_1lib_1_1tests_1_1test__utils_abe7695ad3e038d30c5a755082d3cad1d}{old\_func6}}(self,\ x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00061}00061\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ Also\ in\ PEP-\/257.}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00064}00064\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00065}00065\ new\_func6\ =\ \mbox{\hyperlink{namespacenumpy_1_1lib_1_1utils_ac5546baca3072d9c42539218beb5fc95}{deprecate}}(old\_func6)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00068}00068\ \textcolor{preprocessor}{@deprecate\_with\_doc(msg="{}Rather\ use\ new\_func7"{})}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00069}00069\ \textcolor{keyword}{def\ }old\_func7(self,x):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00070}00070\ \ \ \ \ \textcolor{keywordflow}{return}\ x}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00073}00073\ \textcolor{keyword}{def\ }test\_deprecate\_decorator():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00074}00074\ \ \ \ \ assert\_(\textcolor{stringliteral}{'deprecated'}\ \textcolor{keywordflow}{in}\ old\_func.\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00077}00077\ \textcolor{keyword}{def\ }test\_deprecate\_decorator\_message():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00078}00078\ \ \ \ \ assert\_(\textcolor{stringliteral}{'Rather\ use\ new\_func2'}\ \textcolor{keywordflow}{in}\ old\_func2.\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00081}00081\ \textcolor{keyword}{def\ }test\_deprecate\_fn():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00082}00082\ \ \ \ \ assert\_(\textcolor{stringliteral}{'old\_func3'}\ \textcolor{keywordflow}{in}\ new\_func3.\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00083}00083\ \ \ \ \ assert\_(\textcolor{stringliteral}{'new\_func3'}\ \textcolor{keywordflow}{in}\ new\_func3.\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00086}00086\ \textcolor{keyword}{def\ }test\_deprecate\_with\_doc\_decorator\_message():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00087}00087\ \ \ \ \ assert\_(\textcolor{stringliteral}{'Rather\ use\ new\_func7'}\ \textcolor{keywordflow}{in}\ old\_func7.\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00090}00090\ \textcolor{preprocessor}{@pytest.mark.skipif(sys.flags.optimize\ ==\ 2,\ reason="{}-\/OO\ discards\ docstrings"{})}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00091}00091\ \textcolor{preprocessor}{@pytest.mark.parametrize}(\textcolor{stringliteral}{'old\_func,\ new\_func'},\ [}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00092}00092\ \ \ \ \ (old\_func4,\ new\_func4),}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00093}00093\ \ \ \ \ (old\_func5,\ new\_func5),}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00094}00094\ \ \ \ \ (old\_func6,\ new\_func6),}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00095}00095\ ])}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00096}00096\ \textcolor{keyword}{def\ }test\_deprecate\_help\_indentation(old\_func,\ new\_func):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00097}00097\ \ \ \ \ \_compare\_docs(old\_func,\ new\_func)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00098}00098\ \ \ \ \ \textcolor{comment}{\#\ Ensure\ we\ don't\ mess\ up\ the\ indentation}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00099}00099\ \ \ \ \ \textcolor{keywordflow}{for}\ knd,\ func\ \textcolor{keywordflow}{in}\ ((\textcolor{stringliteral}{'old'},\ old\_func),\ (\textcolor{stringliteral}{'new'},\ new\_func)):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ li,\ line\ \textcolor{keywordflow}{in}\ enumerate(func.\_\_doc\_\_.split(\textcolor{stringliteral}{'\(\backslash\)n'})):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ li\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ line.startswith(\textcolor{stringliteral}{'\ \ \ \ '})\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{not}\ line.startswith(\textcolor{stringliteral}{'\ '}),\ knd}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ line:}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ line.startswith(\textcolor{stringliteral}{'\ \ \ \ '}),\ knd}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00107}00107\ \textcolor{keyword}{def\ }\_compare\_docs(old\_func,\ new\_func):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00108}00108\ \ \ \ \ old\_doc\ =\ inspect.getdoc(old\_func)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00109}00109\ \ \ \ \ new\_doc\ =\ inspect.getdoc(new\_func)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00110}00110\ \ \ \ \ index\ =\ new\_doc.index(\textcolor{stringliteral}{'\(\backslash\)n\(\backslash\)n'})\ +\ 2}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00111}00111\ \ \ \ \ assert\_equal(new\_doc[index:],\ old\_doc)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00114}00114\ \textcolor{preprocessor}{@pytest.mark.skipif(sys.flags.optimize\ ==\ 2,\ reason="{}-\/OO\ discards\ docstrings"{})}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00115}00115\ \textcolor{keyword}{def\ }test\_deprecate\_preserve\_whitespace():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00116}00116\ \ \ \ \ assert\_(\textcolor{stringliteral}{'\(\backslash\)n\ \ \ \ \ \ \ \ Bizarre'}\ \textcolor{keywordflow}{in}\ new\_func5.\_\_doc\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00119}00119\ \textcolor{keyword}{def\ }test\_deprecate\_module():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00120}00120\ \ \ \ \ assert\_(old\_func.\_\_module\_\_\ ==\ \_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00123}00123\ \textcolor{keyword}{def\ }test\_safe\_eval\_nameconstant():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00124}00124\ \ \ \ \ \textcolor{comment}{\#\ Test\ if\ safe\_eval\ supports\ Python\ 3.4\ \_ast.NameConstant}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00125}00125\ \ \ \ \ utils.safe\_eval(\textcolor{stringliteral}{'None'})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00128}\mbox{\hyperlink{classnumpy_1_1lib_1_1tests_1_1test__utils_1_1TestByteBounds}{00128}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnumpy_1_1lib_1_1tests_1_1test__utils_1_1TestByteBounds}{TestByteBounds}}:}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00130}00130\ \ \ \ \ \textcolor{keyword}{def\ }test\_byte\_bounds(self):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ pointer\ difference\ matches\ size\ *\ itemsize}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ due\ to\ contiguity}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ a\ =\ arange(12).\mbox{\hyperlink{namespacenumpy_1_1core_1_1fromnumeric_a805221e91ab6019b13c120c9f6e2cc67}{reshape}}(3,\ 4)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ low,\ high\ =\ utils.byte\_bounds(a)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ assert\_equal(high\ -\/\ low,\ a.size\ *\ a.itemsize)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00137}00137\ \ \ \ \ \textcolor{keyword}{def\ }test\_unusual\_order\_positive\_stride(self):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ a\ =\ arange(12).\mbox{\hyperlink{namespacenumpy_1_1core_1_1fromnumeric_a805221e91ab6019b13c120c9f6e2cc67}{reshape}}(3,\ 4)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00139}00139\ \ \ \ \ \ \ \ \ b\ =\ a.T}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ low,\ high\ =\ utils.byte\_bounds(b)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ assert\_equal(high\ -\/\ low,\ b.size\ *\ b.itemsize)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00143}00143\ \ \ \ \ \textcolor{keyword}{def\ }test\_unusual\_order\_negative\_stride(self):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ a\ =\ arange(12).\mbox{\hyperlink{namespacenumpy_1_1core_1_1fromnumeric_a805221e91ab6019b13c120c9f6e2cc67}{reshape}}(3,\ 4)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ b\ =\ a.T[::-\/1]}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ low,\ high\ =\ utils.byte\_bounds(b)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ assert\_equal(high\ -\/\ low,\ b.size\ *\ b.itemsize)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00149}00149\ \ \ \ \ \textcolor{keyword}{def\ }test\_strided(self):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ a\ =\ arange(12)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ b\ =\ a[::2]}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ low,\ high\ =\ utils.byte\_bounds(b)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ largest\ pointer\ address\ is\ lost\ (even\ numbers\ only\ in\ the}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ stride),\ and\ compensate\ addresses\ for\ striding\ by\ 2}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ assert\_equal(high\ -\/\ low,\ b.size\ *\ 2\ *\ b.itemsize\ -\/\ b.itemsize)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00156}00156\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00158}00158\ \textcolor{keyword}{def\ }test\_assert\_raises\_regex\_context\_manager():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00159}00159\ \ \ \ \ \textcolor{keyword}{with}\ assert\_raises\_regex(ValueError,\ \textcolor{stringliteral}{'no\ deprecation\ warning'}):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{'no\ deprecation\ warning'})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00163}00163\ \textcolor{keyword}{def\ }test\_info\_method\_heading():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00164}00164\ \ \ \ \ \textcolor{comment}{\#\ info(class)\ should\ only\ print\ "{}Methods:"{}\ heading\ if\ methods\ exist}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00165}00165\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00166}00166\ \ \ \ \ \textcolor{keyword}{class\ }NoPublicMethods:}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00169}00169\ \ \ \ \ \textcolor{keyword}{class\ }WithPublicMethods:}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }first\_method():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00173}00173\ \ \ \ \ \textcolor{keyword}{def\ }\_has\_method\_heading(cls):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ out\ =\ \mbox{\hyperlink{classStringIO}{StringIO}}()}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ utils.info(cls,\ output=out)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'Methods:'}\ \textcolor{keywordflow}{in}\ out.getvalue()}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00178}00178\ \ \ \ \ \textcolor{keyword}{assert}\ \_has\_method\_heading(WithPublicMethods)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00179}00179\ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ \_has\_method\_heading(NoPublicMethods)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00181}00181\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00182}00182\ \textcolor{keyword}{def\ }test\_drop\_metadata():}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00183}00183\ \ \ \ \ \textcolor{keyword}{def\ }\_compare\_dtypes(dt1,\ dt2):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ np.can\_cast(dt1,\ dt2,\ casting=\textcolor{stringliteral}{'no'})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00186}00186\ \ \ \ \ \textcolor{comment}{\#\ structured\ dtype}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00187}00187\ \ \ \ \ dt\ =\ np.dtype([(\textcolor{stringliteral}{'l1'},\ [(\textcolor{stringliteral}{'l2'},\ np.dtype(\textcolor{stringliteral}{'S8'},\ metadata=\{\textcolor{stringliteral}{'msg'}:\ \textcolor{stringliteral}{'toto'}\}))])],}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{'msg'}:\ \textcolor{stringliteral}{'titi'}\})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00189}00189\ \ \ \ \ dt\_m\ =\ utils.drop\_metadata(dt)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00190}00190\ \ \ \ \ \textcolor{keyword}{assert}\ \_compare\_dtypes(dt,\ dt\_m)\ \textcolor{keywordflow}{is}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00191}00191\ \ \ \ \ \textcolor{keyword}{assert}\ dt\_m.metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00192}00192\ \ \ \ \ \textcolor{keyword}{assert}\ dt\_m[\textcolor{stringliteral}{'l1'}].metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00193}00193\ \ \ \ \ \textcolor{keyword}{assert}\ dt\_m[\textcolor{stringliteral}{'l1'}][\textcolor{stringliteral}{'l2'}].metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00194}00194\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00195}00195\ \ \ \ \ \textcolor{comment}{\#\ alignement}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00196}00196\ \ \ \ \ dt\ =\ np.dtype([(\textcolor{stringliteral}{'x'},\ \textcolor{stringliteral}{'<f8'}),\ (\textcolor{stringliteral}{'y'},\ \textcolor{stringliteral}{'<i4'})],}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ align=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{'msg'}:\ \textcolor{stringliteral}{'toto'}\})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00199}00199\ \ \ \ \ dt\_m\ =\ utils.drop\_metadata(dt)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00200}00200\ \ \ \ \ \textcolor{keyword}{assert}\ \_compare\_dtypes(dt,\ dt\_m)\ \textcolor{keywordflow}{is}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00201}00201\ \ \ \ \ \textcolor{keyword}{assert}\ dt\_m.metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00203}00203\ \ \ \ \ \textcolor{comment}{\#\ subdtype}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00204}00204\ \ \ \ \ dt\ =\ np.dtype(\textcolor{stringliteral}{'8f'},}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{'msg'}:\ \textcolor{stringliteral}{'toto'}\})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00206}00206\ \ \ \ \ dt\_m\ =\ utils.drop\_metadata(dt)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00207}00207\ \ \ \ \ \textcolor{keyword}{assert}\ \_compare\_dtypes(dt,\ dt\_m)\ \textcolor{keywordflow}{is}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00208}00208\ \ \ \ \ \textcolor{keyword}{assert}\ dt\_m.metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00210}00210\ \ \ \ \ \textcolor{comment}{\#\ scalar}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00211}00211\ \ \ \ \ dt\ =\ np.dtype(\textcolor{stringliteral}{'uint32'},}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{'msg'}:\ \textcolor{stringliteral}{'toto'}\})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00213}00213\ \ \ \ \ dt\_m\ =\ utils.drop\_metadata(dt)}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00214}00214\ \ \ \ \ \textcolor{keyword}{assert}\ \_compare\_dtypes(dt,\ dt\_m)\ \textcolor{keywordflow}{is}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00215}00215\ \ \ \ \ \textcolor{keyword}{assert}\ dt\_m.metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00217}00217\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00218}00218\ \textcolor{preprocessor}{@pytest.mark.parametrize}(\textcolor{stringliteral}{"{}dtype"{}},}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ [np.dtype(\textcolor{stringliteral}{"{}i,i,i,i"{}})[[\textcolor{stringliteral}{"{}f1"{}},\ \textcolor{stringliteral}{"{}f3"{}}]],}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00220}00220\ \ \ \ \ \ \ \ \ np.dtype(\textcolor{stringliteral}{"{}f8"{}}),}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ np.dtype(\textcolor{stringliteral}{"{}10i"{}})])}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00222}00222\ \textcolor{keyword}{def\ }test\_drop\_metadata\_identity\_and\_copy(dtype):}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00223}00223\ \ \ \ \ \textcolor{comment}{\#\ If\ there\ is\ no\ metadata,\ the\ identity\ is\ preserved:}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00224}00224\ \ \ \ \ \textcolor{keyword}{assert}\ utils.drop\_metadata(dtype)\ \textcolor{keywordflow}{is}\ dtype}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00225}00225\ }
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00226}00226\ \ \ \ \ \textcolor{comment}{\#\ If\ there\ is\ any,\ it\ is\ dropped\ (subforms\ are\ checked\ above)}}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00227}00227\ \ \ \ \ dtype\ =\ np.dtype(dtype,\ metadata=\{1:\ 2\})}
\DoxyCodeLine{\Hypertarget{numpy_2lib_2tests_2test__utils_8py_source_l00228}00228\ \ \ \ \ \textcolor{keyword}{assert}\ utils.drop\_metadata(dtype).metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}}

\end{DoxyCode}
