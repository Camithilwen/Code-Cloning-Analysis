\doxysection{\+\_\+hash.\+py}
\hypertarget{__hash_8py_source}{}\label{__hash_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/feature\_extraction/\_hash.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/feature\_extraction/\_hash.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00001}\mbox{\hyperlink{namespacesklearn_1_1feature__extraction_1_1__hash}{00001}}\ \textcolor{comment}{\#\ Authors:\ The\ scikit-\/learn\ developers}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00002}00002\ \textcolor{comment}{\#\ SPDX-\/License-\/Identifier:\ BSD-\/3-\/Clause}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00004}00004\ \textcolor{keyword}{from}\ itertools\ \textcolor{keyword}{import}\ chain}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00005}00005\ \textcolor{keyword}{from}\ numbers\ \textcolor{keyword}{import}\ Integral}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00007}00007\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00008}00008\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacescipy_1_1sparse}{scipy.sparse}}\ \textcolor{keyword}{as}\ sp}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00010}00010\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacesklearn_1_1utils}{sklearn.utils}}\ \textcolor{keyword}{import}\ metadata\_routing}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00012}00012\ \textcolor{keyword}{from}\ ..base\ \textcolor{keyword}{import}\ BaseEstimator,\ TransformerMixin,\ \_fit\_context}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00013}00013\ \textcolor{keyword}{from}\ ..utils.\_param\_validation\ \textcolor{keyword}{import}\ Interval,\ StrOptions}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00014}00014\ \textcolor{keyword}{from}\ .\_hashing\_fast\ \textcolor{keyword}{import}\ transform\ \textcolor{keyword}{as}\ \_hashing\_transform}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00017}\mbox{\hyperlink{namespacesklearn_1_1feature__extraction_1_1__hash_a1b2f8643c935ce281736347881bca2c6}{00017}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1feature__extraction_1_1__hash_a1b2f8643c935ce281736347881bca2c6}{\_iteritems}}(d):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00018}00018\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Like\ d.iteritems,\ but\ accepts\ any\ collections.Mapping."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00019}00019\ \ \ \ \ \textcolor{keywordflow}{return}\ d.iteritems()\ \textcolor{keywordflow}{if}\ hasattr(d,\ \textcolor{stringliteral}{"{}iteritems"{}})\ \textcolor{keywordflow}{else}\ d.items()}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00022}\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher}{00022}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher}{FeatureHasher}}(\mbox{\hyperlink{classsklearn_1_1base_1_1TransformerMixin}{TransformerMixin}},\ \mbox{\hyperlink{classsklearn_1_1base_1_1BaseEstimator}{BaseEstimator}}):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00023}00023\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Implements\ feature\ hashing,\ aka\ the\ hashing\ trick.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00024}00024\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ This\ class\ turns\ sequences\ of\ symbolic\ feature\ names\ (strings)\ into}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ scipy.sparse\ matrices,\ using\ a\ hash\ function\ to\ compute\ the\ matrix\ column}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ corresponding\ to\ a\ name.\ The\ hash\ function\ employed\ is\ the\ signed\ 32-\/bit}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ version\ of\ Murmurhash3.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00029}00029\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ Feature\ names\ of\ type\ byte\ string\ are\ used\ as-\/is.\ Unicode\ strings\ are}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ converted\ to\ UTF-\/8\ first,\ but\ no\ Unicode\ normalization\ is\ done.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ Feature\ values\ must\ be\ (finite)\ numbers.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00033}00033\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ This\ class\ is\ a\ low-\/memory\ alternative\ to\ DictVectorizer\ and}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ CountVectorizer,\ intended\ for\ large-\/scale\ (online)\ learning\ and\ situations}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ where\ memory\ is\ tight,\ e.g.\ when\ running\ prediction\ code\ on\ embedded}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ devices.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00038}00038\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00039}00039\ \textcolor{stringliteral}{\ \ \ \ For\ an\ efficiency\ comparison\ of\ the\ different\ feature\ extractors,\ see}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00040}00040\ \textcolor{stringliteral}{\ \ \ \ :ref:\`{}sphx\_glr\_auto\_examples\_text\_plot\_hashing\_vs\_dict\_vectorizer.py\`{}.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00041}00041\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00042}00042\ \textcolor{stringliteral}{\ \ \ \ Read\ more\ in\ the\ :ref:\`{}User\ Guide\ <feature\_hashing>\`{}.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00043}00043\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00044}00044\ \textcolor{stringliteral}{\ \ \ \ ..\ versionadded::\ 0.13}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00045}00045\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00046}00046\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00047}00047\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ n\_features\ :\ int,\ default=2**20}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ number\ of\ features\ (columns)\ in\ the\ output\ matrices.\ Small\ numbers}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ of\ features\ are\ likely\ to\ cause\ hash\ collisions,\ but\ large\ numbers}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00051}00051\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ will\ cause\ larger\ coefficient\ dimensions\ in\ linear\ learners.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ input\_type\ :\ str,\ default='dict'}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Choose\ a\ string\ from\ \{'dict',\ 'pair',\ 'string'\}.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Either\ "{}dict"{}\ (the\ default)\ to\ accept\ dictionaries\ over}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ (feature\_name,\ value);\ "{}pair"{}\ to\ accept\ pairs\ of\ (feature\_name,\ value);}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ or\ "{}string"{}\ to\ accept\ single\ strings.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ feature\_name\ should\ be\ a\ string,\ while\ value\ should\ be\ a\ number.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00058}00058\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ In\ the\ case\ of\ "{}string"{},\ a\ value\ of\ 1\ is\ implied.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00059}00059\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ feature\_name\ is\ hashed\ to\ find\ the\ appropriate\ column\ for\ the}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00060}00060\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ feature.\ The\ value's\ sign\ might\ be\ flipped\ in\ the\ output\ (but\ see}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ non\_negative,\ below).}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ dtype\ :\ numpy\ dtype,\ default=np.float64}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ type\ of\ feature\ values.\ Passed\ to\ scipy.sparse\ matrix\ constructors}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ as\ the\ dtype\ argument.\ Do\ not\ set\ this\ to\ bool,\ np.boolean\ or\ any}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ unsigned\ integer\ type.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ alternate\_sign\ :\ bool,\ default=True}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00067}00067\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ When\ True,\ an\ alternating\ sign\ is\ added\ to\ the\ features\ as\ to}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00068}00068\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ approximately\ conserve\ the\ inner\ product\ in\ the\ hashed\ space\ even\ for}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ small\ n\_features.\ This\ approach\ is\ similar\ to\ sparse\ random\ projection.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00070}00070\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00071}00071\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ ..\ versionchanged::\ 0.19}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00072}00072\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \`{}\`{}alternate\_sign\`{}\`{}\ replaces\ the\ now\ deprecated\ \`{}\`{}non\_negative\`{}\`{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00073}00073\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ parameter.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00074}00074\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00075}00075\ \textcolor{stringliteral}{\ \ \ \ See\ Also}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00076}00076\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ DictVectorizer\ :\ Vectorizes\ string-\/valued\ features\ using\ a\ hash\ table.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00078}00078\ \textcolor{stringliteral}{\ \ \ \ sklearn.preprocessing.OneHotEncoder\ :\ Handles\ nominal/categorical\ features.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00079}00079\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00080}00080\ \textcolor{stringliteral}{\ \ \ \ Notes}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00081}00081\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ This\ estimator\ is\ :term:\`{}stateless\`{}\ and\ does\ not\ need\ to\ be\ fitted.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00083}00083\ \textcolor{stringliteral}{\ \ \ \ However,\ we\ recommend\ to\ call\ :meth:\`{}fit\_transform\`{}\ instead\ of}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00084}00084\ \textcolor{stringliteral}{\ \ \ \ :meth:\`{}transform\`{},\ as\ parameter\ validation\ is\ only\ performed\ in}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00085}00085\ \textcolor{stringliteral}{\ \ \ \ :meth:\`{}fit\`{}.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00086}00086\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ Examples}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00088}00088\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00089}00089\ \textcolor{stringliteral}{\ \ \ \ >>>\ from\ sklearn.feature\_extraction\ import\ FeatureHasher}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ >>>\ h\ =\ FeatureHasher(n\_features=10)}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00091}00091\ \textcolor{stringliteral}{\ \ \ \ >>>\ D\ =\ [\{'dog':\ 1,\ 'cat':2,\ 'elephant':4\},\{'dog':\ 2,\ 'run':\ 5\}]}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00092}00092\ \textcolor{stringliteral}{\ \ \ \ >>>\ f\ =\ h.transform(D)}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00093}00093\ \textcolor{stringliteral}{\ \ \ \ >>>\ f.toarray()}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ array([[\ 0.,\ \ 0.,\ -\/4.,\ -\/1.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 2.],}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00095}00095\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [\ 0.,\ \ 0.,\ \ 0.,\ -\/2.,\ -\/5.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 0.]])}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00096}00096\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00097}00097\ \textcolor{stringliteral}{\ \ \ \ With\ \`{}input\_type="{}string"{}\`{},\ the\ input\ must\ be\ an\ iterable\ over\ iterables\ of}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00098}00098\ \textcolor{stringliteral}{\ \ \ \ strings:}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00099}00099\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ >>>\ h\ =\ FeatureHasher(n\_features=8,\ input\_type="{}string"{})}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ >>>\ raw\_X\ =\ [["{}dog"{},\ "{}cat"{},\ "{}snake"{}],\ ["{}snake"{},\ "{}dog"{}],\ ["{}cat"{},\ "{}bird"{}]]}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ >>>\ f\ =\ h.transform(raw\_X)}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00103}00103\ \textcolor{stringliteral}{\ \ \ \ >>>\ f.toarray()}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00104}00104\ \textcolor{stringliteral}{\ \ \ \ array([[\ 0.,\ \ 0.,\ \ 0.,\ -\/1.,\ \ 0.,\ -\/1.,\ \ 0.,\ \ 1.],}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00105}00105\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [\ 0.,\ \ 0.,\ \ 0.,\ -\/1.,\ \ 0.,\ -\/1.,\ \ 0.,\ \ 0.],}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00106}00106\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ [\ 0.,\ -\/1.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 0.,\ \ 1.]])}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00107}00107\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00109}00109\ \ \ \ \ \textcolor{comment}{\#\ raw\_X\ should\ have\ been\ called\ X}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00110}00110\ \ \ \ \ \_\_metadata\_request\_\_transform\ =\ \{\textcolor{stringliteral}{"{}raw\_X"{}}:\ metadata\_routing.UNUSED\}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00112}00112\ \ \ \ \ \_parameter\_constraints:\ dict\ =\ \{}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}n\_features"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1Interval}{Interval}}(Integral,\ 1,\ np.iinfo(np.int32).max,\ closed=\textcolor{stringliteral}{"{}both"{}})],}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}input\_type"{}}:\ [\mbox{\hyperlink{classsklearn_1_1utils_1_1__param__validation_1_1StrOptions}{StrOptions}}(\{\textcolor{stringliteral}{"{}dict"{}},\ \textcolor{stringliteral}{"{}pair"{}},\ \textcolor{stringliteral}{"{}string"{}}\})],}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dtype"{}}:\ \textcolor{stringliteral}{"{}no\_validation"{}},\ \ \textcolor{comment}{\#\ delegate\ to\ numpy}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}alternate\_sign"{}}:\ [\textcolor{stringliteral}{"{}boolean"{}}],}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00117}00117\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00119}00119\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ n\_features=(2**20),}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ input\_type=\textcolor{stringliteral}{"{}dict"{}},}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ dtype=np.float64,}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ alternate\_sign=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00126}00126\ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aeefbf091e36ed7e1c2b83b7f09d174ba}{dtype}}\ =\ dtype}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a35985e9f493b4b168578dccfa843f9a1}{input\_type}}\ =\ input\_type}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a7c04e95f1d5fc711f98044cf3881603b}{n\_features}}\ =\ n\_features}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_ac0bd0282dacefa777f0a5d11cc3e99ee}{alternate\_sign}}\ =\ alternate\_sign}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00132}00132\ \ \ \ \ \textcolor{preprocessor}{@\_fit\_context(prefer\_skip\_nested\_validation=True)}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00133}\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aaff80a560683c45d9fe42e69c9e1bffc}{00133}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aaff80a560683c45d9fe42e69c9e1bffc}{fit}}(self,\ X=None,\ y=None):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Only\ validates\ estimator's\ parameters.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00135}00135\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00136}00136\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ method\ allows\ to:\ (i)\ validate\ the\ estimator's\ parameters\ and}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00137}00137\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ (ii)\ be\ consistent\ with\ the\ scikit-\/learn\ transformer\ API.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00138}00138\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00141}00141\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ X\ :\ Ignored}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Not\ used,\ present\ here\ for\ API\ consistency\ by\ convention.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00143}00143\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ y\ :\ Ignored}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00145}00145\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Not\ used,\ present\ here\ for\ API\ consistency\ by\ convention.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00146}00146\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00147}00147\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00148}00148\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00149}00149\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ self\ :\ object}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00150}00150\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ FeatureHasher\ class\ instance.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00151}00151\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00154}\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aa6ad21b2925fe880e804072beb430762}{00154}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aa6ad21b2925fe880e804072beb430762}{transform}}(self,\ raw\_X):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Transform\ a\ sequence\ of\ instances\ to\ a\ scipy.sparse\ matrix.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00156}00156\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00157}00157\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00158}00158\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00159}00159\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ raw\_X\ :\ iterable\ over\ iterable\ over\ raw\ features,\ length\ =\ n\_samples}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00160}00160\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Samples.\ Each\ sample\ must\ be\ iterable\ an\ (e.g.,\ a\ list\ or\ tuple)}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00161}00161\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ containing/generating\ feature\ names\ (and\ optionally\ values,\ see}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00162}00162\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ the\ input\_type\ constructor\ argument)\ which\ will\ be\ hashed.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00163}00163\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ raw\_X\ need\ not\ support\ the\ len\ function,\ so\ it\ can\ be\ the\ result}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00164}00164\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ of\ a\ generator;\ n\_samples\ is\ determined\ on\ the\ fly.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00165}00165\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00166}00166\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00167}00167\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00168}00168\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ X\ :\ sparse\ matrix\ of\ shape\ (n\_samples,\ n\_features)}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00169}00169\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Feature\ matrix,\ for\ use\ with\ estimators\ or\ further\ transformers.}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00170}00170\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ raw\_X\ =\ iter(raw\_X)}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a35985e9f493b4b168578dccfa843f9a1}{input\_type}}\ ==\ \textcolor{stringliteral}{"{}dict"{}}:}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ raw\_X\ =\ (\mbox{\hyperlink{namespacesklearn_1_1feature__extraction_1_1__hash_a1b2f8643c935ce281736347881bca2c6}{\_iteritems}}(d)\ \textcolor{keywordflow}{for}\ d\ \textcolor{keywordflow}{in}\ raw\_X)}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a35985e9f493b4b168578dccfa843f9a1}{input\_type}}\ ==\ \textcolor{stringliteral}{"{}string"{}}:}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ first\_raw\_X\ =\ next(raw\_X)}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(first\_raw\_X,\ str):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Samples\ can\ not\ be\ a\ single\ string.\ The\ input\ must\ be\ an\ iterable"{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ over\ iterables\ of\ strings."{}}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ raw\_X\_\ =\ chain([first\_raw\_X],\ raw\_X)}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ raw\_X\ =\ (((f,\ 1)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ x)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ raw\_X\_)}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ indices,\ indptr,\ values\ =\ \_hashing\_transform(}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ raw\_X,\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a7c04e95f1d5fc711f98044cf3881603b}{n\_features}},\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aeefbf091e36ed7e1c2b83b7f09d174ba}{dtype}},\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_ac0bd0282dacefa777f0a5d11cc3e99ee}{alternate\_sign}},\ seed=0}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ n\_samples\ =\ indptr.shape[0]\ -\/\ 1}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ n\_samples\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(\textcolor{stringliteral}{"{}Cannot\ vectorize\ empty\ sequence."{}})}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00191}00191\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ X\ =\ sp.csr\_matrix(}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ (values,\ indices,\ indptr),}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ dtype=self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_aeefbf091e36ed7e1c2b83b7f09d174ba}{dtype}},}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ shape=(n\_samples,\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a7c04e95f1d5fc711f98044cf3881603b}{n\_features}}),}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ X.sum\_duplicates()\ \ \textcolor{comment}{\#\ also\ sorts\ the\ indices}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ X}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00201}00201\ \ \ \ \ \textcolor{keyword}{def\ }\_\_sklearn\_tags\_\_(self):}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ tags\ =\ super().\_\_sklearn\_tags\_\_()}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ tags.input\_tags.two\_d\_array\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00204}00204\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a35985e9f493b4b168578dccfa843f9a1}{input\_type}}\ ==\ \textcolor{stringliteral}{"{}string"{}}:}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ tags.input\_tags.string\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classsklearn_1_1feature__extraction_1_1__hash_1_1FeatureHasher_a35985e9f493b4b168578dccfa843f9a1}{input\_type}}\ ==\ \textcolor{stringliteral}{"{}dict"{}}:}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ tags.input\_tags.dict\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{__hash_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tags}

\end{DoxyCode}
