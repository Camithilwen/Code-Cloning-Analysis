\doxysection{conftest.\+py}
\hypertarget{sklearn_2conftest_8py_source}{}\label{sklearn_2conftest_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/conftest.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/sklearn/conftest.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00001}\mbox{\hyperlink{namespacesklearn_1_1conftest}{00001}}\ \textcolor{comment}{\#\ Authors:\ The\ scikit-\/learn\ developers}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00002}00002\ \textcolor{comment}{\#\ SPDX-\/License-\/Identifier:\ BSD-\/3-\/Clause}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00004}00004\ \textcolor{keyword}{import}\ builtins}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00005}00005\ \textcolor{keyword}{import}\ faulthandler}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00006}00006\ \textcolor{keyword}{import}\ platform}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00007}00007\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00008}00008\ \textcolor{keyword}{from}\ contextlib\ \textcolor{keyword}{import}\ suppress}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00009}00009\ \textcolor{keyword}{from}\ functools\ \textcolor{keyword}{import}\ wraps}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00010}00010\ \textcolor{keyword}{from}\ os\ \textcolor{keyword}{import}\ environ}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00011}00011\ \textcolor{keyword}{from}\ unittest\ \textcolor{keyword}{import}\ SkipTest}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00013}00013\ \textcolor{keyword}{import}\ joblib}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00014}00014\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00015}00015\ \textcolor{keyword}{import}\ pytest}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00016}00016\ \textcolor{keyword}{from}\ \_pytest.doctest\ \textcolor{keyword}{import}\ DoctestItem}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00017}00017\ \textcolor{keyword}{from}\ threadpoolctl\ \textcolor{keyword}{import}\ threadpool\_limits}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00019}00019\ \textcolor{keyword}{from}\ sklearn\ \textcolor{keyword}{import}\ set\_config}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00020}00020\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacesklearn_1_1__min__dependencies}{sklearn.\_min\_dependencies}}\ \textcolor{keyword}{import}\ PYTEST\_MIN\_VERSION}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00021}00021\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacesklearn_1_1datasets}{sklearn.datasets}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00022}00022\ \ \ \ \ fetch\_20newsgroups,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00023}00023\ \ \ \ \ fetch\_20newsgroups\_vectorized,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00024}00024\ \ \ \ \ fetch\_california\_housing,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00025}00025\ \ \ \ \ fetch\_covtype,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00026}00026\ \ \ \ \ fetch\_kddcup99,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00027}00027\ \ \ \ \ fetch\_lfw\_pairs,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00028}00028\ \ \ \ \ fetch\_lfw\_people,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00029}00029\ \ \ \ \ fetch\_olivetti\_faces,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00030}00030\ \ \ \ \ fetch\_rcv1,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00031}00031\ \ \ \ \ fetch\_species\_distributions,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00032}00032\ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00033}00033\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacesklearn_1_1utils_1_1__testing}{sklearn.utils.\_testing}}\ \textcolor{keyword}{import}\ get\_pytest\_filterwarning\_lines}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00034}00034\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacesklearn_1_1utils_1_1fixes}{sklearn.utils.fixes}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00035}00035\ \ \ \ \ \_IS\_32BIT,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00036}00036\ \ \ \ \ np\_base\_version,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00037}00037\ \ \ \ \ parse\_version,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00038}00038\ \ \ \ \ sp\_version,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00039}00039\ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00041}00041\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00042}00042\ \ \ \ \ \textcolor{keyword}{from}\ scipy\_doctest.conftest\ \textcolor{keyword}{import}\ dt\_config}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00043}00043\ \textcolor{keywordflow}{except}\ ModuleNotFoundError:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00044}00044\ \ \ \ \ dt\_config\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00046}00046\ \textcolor{keywordflow}{if}\ parse\_version(pytest.\_\_version\_\_)\ <\ parse\_version(PYTEST\_MIN\_VERSION):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00047}00047\ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classImportError}{ImportError}}(}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Your\ version\ of\ pytest\ is\ too\ old.\ Got\ version\ \{pytest.\_\_version\_\_\},\ you"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\ should\ have\ pytest\ >=\ \{PYTEST\_MIN\_VERSION\}\ installed."{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00050}00050\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00052}00052\ scipy\_datasets\_require\_network\ =\ sp\_version\ >=\ parse\_version(\textcolor{stringliteral}{"{}1.10"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00055}00055\ \textcolor{keyword}{def\ }raccoon\_face\_or\_skip():}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00056}00056\ \ \ \ \ \textcolor{comment}{\#\ SciPy\ >=\ 1.10\ requires\ network\ to\ access\ to\ get\ data}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{if}\ scipy\_datasets\_require\_network:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ run\_network\_tests\ =\ environ.get(\textcolor{stringliteral}{"{}SKLEARN\_SKIP\_NETWORK\_TESTS"{}},\ \textcolor{stringliteral}{"{}1"{}})\ ==\ \textcolor{stringliteral}{"{}0"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ run\_network\_tests:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ SkipTest(\textcolor{stringliteral}{"{}test\ is\ enabled\ when\ SKLEARN\_SKIP\_NETWORK\_TESTS=0"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ pooch\ \ \textcolor{comment}{\#\ noqa:\ F401}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ SkipTest(\textcolor{stringliteral}{"{}test\ requires\ pooch\ to\ be\ installed"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1datasets}{scipy.datasets}}\ \textcolor{keyword}{import}\ face}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00068}00068\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacescipy_1_1misc}{scipy.misc}}\ \textcolor{keyword}{import}\ face}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{return}\ face(gray=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00074}00074\ dataset\_fetchers\ =\ \{}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00075}00075\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_20newsgroups\_fxt"{}}:\ fetch\_20newsgroups,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00076}00076\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_20newsgroups\_vectorized\_fxt"{}}:\ fetch\_20newsgroups\_vectorized,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00077}00077\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_california\_housing\_fxt"{}}:\ fetch\_california\_housing,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00078}00078\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_covtype\_fxt"{}}:\ fetch\_covtype,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00079}00079\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_kddcup99\_fxt"{}}:\ fetch\_kddcup99,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00080}00080\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_lfw\_pairs\_fxt"{}}:\ fetch\_lfw\_pairs,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00081}00081\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_lfw\_people\_fxt"{}}:\ fetch\_lfw\_people,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00082}00082\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_olivetti\_faces\_fxt"{}}:\ fetch\_olivetti\_faces,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00083}00083\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_rcv1\_fxt"{}}:\ fetch\_rcv1,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00084}00084\ \ \ \ \ \textcolor{stringliteral}{"{}fetch\_species\_distributions\_fxt"{}}:\ fetch\_species\_distributions,}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00085}00085\ \}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00087}00087\ \textcolor{keywordflow}{if}\ scipy\_datasets\_require\_network:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00088}00088\ \ \ \ \ dataset\_fetchers[\textcolor{stringliteral}{"{}raccoon\_face\_fxt"{}}]\ =\ raccoon\_face\_or\_skip}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00090}00090\ \_SKIP32\_MARK\ =\ pytest.mark.skipif(}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00091}00091\ \ \ \ \ environ.get(\textcolor{stringliteral}{"{}SKLEARN\_RUN\_FLOAT32\_TESTS"{}},\ \textcolor{stringliteral}{"{}0"{}})\ !=\ \textcolor{stringliteral}{"{}1"{}},}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00092}00092\ \ \ \ \ reason=\textcolor{stringliteral}{"{}Set\ SKLEARN\_RUN\_FLOAT32\_TESTS=1\ to\ run\ float32\ dtype\ tests"{}},}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00093}00093\ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00096}00096\ \textcolor{comment}{\#\ Global\ fixtures}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00097}00097\ \textcolor{preprocessor}{@pytest.fixture(params=[pytest.param(np.float32,\ marks=\_SKIP32\_MARK)},\ np.float64])}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00098}00098\ \textcolor{keyword}{def\ }global\_dtype(request):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00099}00099\ \ \ \ \ \textcolor{keywordflow}{yield}\ request.param}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00102}\mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{00102}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(f):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00103}00103\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Fetch\ dataset\ (download\ if\ missing\ and\ requested\ by\ environment)."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00104}00104\ \ \ \ \ download\_if\_missing\ =\ environ.get(\textcolor{stringliteral}{"{}SKLEARN\_SKIP\_NETWORK\_TESTS"{}},\ \textcolor{stringliteral}{"{}1"{}})\ ==\ \textcolor{stringliteral}{"{}0"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00106}00106\ \ \ \ \ \textcolor{preprocessor}{@wraps(f)}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00107}00107\ \ \ \ \ \textcolor{keyword}{def\ }wrapped(*args,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ kwargs[\textcolor{stringliteral}{"{}download\_if\_missing"{}}]\ =\ download\_if\_missing}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f(*args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ str(e)\ !=\ \textcolor{stringliteral}{"{}Data\ not\ found\ and\ \`{}download\_if\_missing`\ is\ False"{}}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ pytest.skip(\textcolor{stringliteral}{"{}test\ is\ enabled\ when\ SKLEARN\_SKIP\_NETWORK\_TESTS=0"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00116}00116\ \ \ \ \ \textcolor{keywordflow}{return}\ pytest.fixture(\textcolor{keyword}{lambda}:\ wrapped)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00119}00119\ \textcolor{comment}{\#\ Adds\ fixtures\ for\ fetching\ data}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00120}00120\ fetch\_20newsgroups\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_20newsgroups)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00121}00121\ fetch\_20newsgroups\_vectorized\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_20newsgroups\_vectorized)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00122}00122\ fetch\_california\_housing\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_california\_housing)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00123}00123\ fetch\_covtype\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_covtype)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00124}00124\ fetch\_kddcup99\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_kddcup99)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00125}00125\ fetch\_lfw\_pairs\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_lfw\_pairs)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00126}00126\ fetch\_lfw\_people\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_lfw\_people)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00127}00127\ fetch\_olivetti\_faces\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_olivetti\_faces)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00128}00128\ fetch\_rcv1\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_rcv1)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00129}00129\ fetch\_species\_distributions\_fxt\ =\ \mbox{\hyperlink{namespacesklearn_1_1conftest_aa669f9d4d33b93b6d4d8fb142cdcd982}{\_fetch\_fixture}}(fetch\_species\_distributions)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00130}00130\ raccoon\_face\_fxt\ =\ pytest.fixture(raccoon\_face\_or\_skip)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00133}\mbox{\hyperlink{namespacesklearn_1_1conftest_ae65686ea2a167480e801b94ef59cb79e}{00133}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1conftest_ae65686ea2a167480e801b94ef59cb79e}{pytest\_collection\_modifyitems}}(config,\ items):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00134}00134\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Called\ after\ collect\ is\ completed.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00135}00135\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00136}00136\ \textcolor{stringliteral}{\ \ \ \ Parameters}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00137}00137\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00138}00138\ \textcolor{stringliteral}{\ \ \ \ config\ :\ pytest\ config}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00139}00139\ \textcolor{stringliteral}{\ \ \ \ items\ :\ list\ of\ collected\ items}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00140}00140\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00141}00141\ \ \ \ \ run\_network\_tests\ =\ environ.get(\textcolor{stringliteral}{"{}SKLEARN\_SKIP\_NETWORK\_TESTS"{}},\ \textcolor{stringliteral}{"{}1"{}})\ ==\ \textcolor{stringliteral}{"{}0"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00142}00142\ \ \ \ \ skip\_network\ =\ pytest.mark.skip(}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00143}00143\ \ \ \ \ \ \ \ \ reason=\textcolor{stringliteral}{"{}test\ is\ enabled\ when\ SKLEARN\_SKIP\_NETWORK\_TESTS=0"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00144}00144\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00146}00146\ \ \ \ \ \textcolor{comment}{\#\ download\ datasets\ during\ collection\ to\ avoid\ thread\ unsafe\ behavior}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00147}00147\ \ \ \ \ \textcolor{comment}{\#\ when\ running\ pytest\ in\ parallel\ with\ pytest-\/xdist}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00148}00148\ \ \ \ \ dataset\_features\_set\ =\ set(dataset\_fetchers)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00149}00149\ \ \ \ \ datasets\_to\_download\ =\ set()}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00151}00151\ \ \ \ \ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ items:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(item,\ DoctestItem)\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}fetch\_"{}}\ \textcolor{keywordflow}{in}\ item.name:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ fetcher\_function\_name\ =\ item.name.split(\textcolor{stringliteral}{"{}."{}})[-\/1]}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ dataset\_fetchers\_key\ =\ f\textcolor{stringliteral}{"{}\{fetcher\_function\_name\}\_fxt"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ dataset\_to\_fetch\ =\ set([dataset\_fetchers\_key])\ \&\ dataset\_features\_set}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ \textcolor{keywordflow}{not}\ hasattr(item,\ \textcolor{stringliteral}{"{}fixturenames"{}}):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ item\_fixtures\ =\ set(item.fixturenames)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ dataset\_to\_fetch\ =\ item\_fixtures\ \&\ dataset\_features\_set}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ dataset\_to\_fetch:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00164}00164\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ run\_network\_tests:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ datasets\_to\_download\ |=\ dataset\_to\_fetch}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ network\ tests\ are\ skipped}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ item.add\_marker(skip\_network)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00171}00171\ \ \ \ \ \textcolor{comment}{\#\ Only\ download\ datasets\ on\ the\ first\ worker\ spawned\ by\ pytest-\/xdist}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00172}00172\ \ \ \ \ \textcolor{comment}{\#\ to\ avoid\ thread\ unsafe\ behavior.\ If\ pytest-\/xdist\ is\ not\ used,\ we\ still}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00173}00173\ \ \ \ \ \textcolor{comment}{\#\ download\ before\ tests\ run.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00174}00174\ \ \ \ \ worker\_id\ =\ environ.get(\textcolor{stringliteral}{"{}PYTEST\_XDIST\_WORKER"{}},\ \textcolor{stringliteral}{"{}gw0"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00175}00175\ \ \ \ \ \textcolor{keywordflow}{if}\ worker\_id\ ==\ \textcolor{stringliteral}{"{}gw0"{}}\ \textcolor{keywordflow}{and}\ run\_network\_tests:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ name\ \textcolor{keywordflow}{in}\ datasets\_to\_download:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ suppress(SkipTest):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dataset\_fetchers[name]()}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00180}00180\ \ \ \ \ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ items:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Known\ failure\ on\ with\ GradientBoostingClassifier\ on\ ARM64}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ item.name.endswith(\textcolor{stringliteral}{"{}GradientBoostingClassifier"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ platform.machine()\ ==\ \textcolor{stringliteral}{"{}aarch64"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ marker\ =\ pytest.mark.xfail(}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reason=(}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}know\ failure.\ See\ "{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}https://github.com/scikit-\/learn/scikit-\/learn/issues/17797"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ item.add\_marker(marker)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00193}00193\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00194}00194\ \ \ \ \ skip\_doctests\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00195}00195\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ matplotlib\ \ \textcolor{comment}{\#\ noqa:\ F401}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00197}00197\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ skip\_doctests\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ reason\ =\ \textcolor{stringliteral}{"{}matplotlib\ is\ required\ to\ run\ the\ doctests"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00201}00201\ \ \ \ \ \textcolor{keywordflow}{if}\ \_IS\_32BIT:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ reason\ =\ \textcolor{stringliteral}{"{}doctest\ are\ only\ run\ when\ the\ default\ numpy\ int\ is\ 64\ bits."{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00203}00203\ \ \ \ \ \ \ \ \ skip\_doctests\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00204}00204\ \ \ \ \ \textcolor{keywordflow}{elif}\ sys.platform.startswith(\textcolor{stringliteral}{"{}win32"{}}):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ reason\ =\ (}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}doctests\ are\ not\ run\ for\ Windows\ because\ numpy\ arrays\ "{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}repr\ is\ inconsistent\ across\ platforms."{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00208}00208\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ skip\_doctests\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00211}00211\ \ \ \ \ \textcolor{keywordflow}{if}\ np\_base\_version\ <\ parse\_version(\textcolor{stringliteral}{"{}2"{}}):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TODO:\ configure\ numpy\ to\ output\ scalar\ arrays\ as\ regular\ Python\ scalars}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ once\ possible\ to\ improve\ readability\ of\ the\ tests\ docstrings.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ https://numpy.org/neps/nep-\/0051-\/scalar-\/representation.html\#implementation}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ reason\ =\ \textcolor{stringliteral}{"{}Due\ to\ NEP\ 51\ numpy\ scalar\ repr\ has\ changed\ in\ numpy\ 2"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ skip\_doctests\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00217}00217\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00218}00218\ \ \ \ \ \textcolor{keywordflow}{if}\ sp\_version\ <\ parse\_version(\textcolor{stringliteral}{"{}1.14"{}}):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00219}00219\ \ \ \ \ \ \ \ \ reason\ =\ \textcolor{stringliteral}{"{}Scipy\ sparse\ matrix\ repr\ has\ changed\ in\ scipy\ 1.14"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00220}00220\ \ \ \ \ \ \ \ \ skip\_doctests\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00222}00222\ \ \ \ \ \textcolor{comment}{\#\ Normally\ doctest\ has\ the\ entire\ module's\ scope.\ Here\ we\ set\ globs\ to\ an\ empty\ dict}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00223}00223\ \ \ \ \ \textcolor{comment}{\#\ to\ remove\ the\ module's\ scope:}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00224}00224\ \ \ \ \ \textcolor{comment}{\#\ https://docs.python.org/3/library/doctest.html\#what-\/s-\/the-\/execution-\/context}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00225}00225\ \ \ \ \ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ items:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(item,\ DoctestItem):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ item.dtest.globs\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00228}00228\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00229}00229\ \ \ \ \ \textcolor{keywordflow}{if}\ skip\_doctests:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ skip\_marker\ =\ pytest.mark.skip(reason=reason)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00231}00231\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ items:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(item,\ DoctestItem):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ work-\/around\ an\ internal\ error\ with\ pytest\ if\ adding\ a\ skip}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ mark\ to\ a\ doctest\ in\ a\ contextmanager,\ see}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ https://github.com/pytest-\/dev/pytest/issues/8796\ for\ more}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ details.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ item.name\ !=\ \textcolor{stringliteral}{"{}sklearn.\_config.config\_context"{}}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.add\_marker(skip\_marker)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00240}00240\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ PIL\ \ \textcolor{comment}{\#\ noqa:\ F401}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00242}00242\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00243}00243\ \ \ \ \ \ \ \ \ pillow\_installed\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00244}00244\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ pillow\_installed\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00247}00247\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ pillow\_installed:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ skip\_marker\ =\ pytest.mark.skip(reason=\textcolor{stringliteral}{"{}pillow\ (or\ PIL)\ not\ installed!"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ items:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ item.name\ \textcolor{keywordflow}{in}\ [}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sklearn.feature\_extraction.image.PatchExtractor"{}},}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sklearn.feature\_extraction.image.extract\_patches\_2d"{}},}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ ]:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.add\_marker(skip\_marker)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00256}00256\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00257}00257\ \textcolor{preprocessor}{@pytest.fixture(scope="{}function"{})}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00258}\mbox{\hyperlink{namespacesklearn_1_1conftest_ab0dc2407acbc5ab92ec17014c7c6a8eb}{00258}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1conftest_ab0dc2407acbc5ab92ec17014c7c6a8eb}{pyplot}}():}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00259}00259\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Setup\ and\ teardown\ fixture\ for\ matplotlib.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00260}00260\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00261}00261\ \textcolor{stringliteral}{\ \ \ \ This\ fixture\ checks\ if\ we\ can\ import\ matplotlib.\ If\ not,\ the\ tests\ will\ be}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00262}00262\ \textcolor{stringliteral}{\ \ \ \ skipped.\ Otherwise,\ we\ close\ the\ figures\ before\ and\ after\ running\ the}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00263}00263\ \textcolor{stringliteral}{\ \ \ \ functions.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00264}00264\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00265}00265\ \textcolor{stringliteral}{\ \ \ \ Returns}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00266}00266\ \textcolor{stringliteral}{\ \ \ \ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00267}00267\ \textcolor{stringliteral}{\ \ \ \ pyplot\ :\ module}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00268}00268\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ \`{}\`{}matplotlib.pyplot\`{}\`{}\ module.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00269}00269\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00270}00270\ \ \ \ \ pyplot\ =\ pytest.importorskip(\textcolor{stringliteral}{"{}matplotlib.pyplot"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00271}00271\ \ \ \ \ pyplot.close(\textcolor{stringliteral}{"{}all"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00272}00272\ \ \ \ \ \textcolor{keywordflow}{yield}\ pyplot}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00273}00273\ \ \ \ \ pyplot.close(\textcolor{stringliteral}{"{}all"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00274}00274\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00275}00275\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00276}\mbox{\hyperlink{namespacesklearn_1_1conftest_ab9c18dcca7eb4be7f4e5e5b693ad76c7}{00276}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1conftest_ab9c18dcca7eb4be7f4e5e5b693ad76c7}{pytest\_generate\_tests}}(metafunc):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00277}00277\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Parametrization\ of\ global\_random\_seed\ fixture}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00278}00278\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00279}00279\ \textcolor{stringliteral}{\ \ \ \ based\ on\ the\ SKLEARN\_TESTS\_GLOBAL\_RANDOM\_SEED\ environment\ variable.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00280}00280\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00281}00281\ \textcolor{stringliteral}{\ \ \ \ The\ goal\ of\ this\ fixture\ is\ to\ prevent\ tests\ that\ use\ it\ to\ be\ sensitive}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00282}00282\ \textcolor{stringliteral}{\ \ \ \ to\ a\ specific\ seed\ value\ while\ still\ being\ deterministic\ by\ default.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00283}00283\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00284}00284\ \textcolor{stringliteral}{\ \ \ \ See\ the\ documentation\ for\ the\ SKLEARN\_TESTS\_GLOBAL\_RANDOM\_SEED}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00285}00285\ \textcolor{stringliteral}{\ \ \ \ variable\ for\ instructions\ on\ how\ to\ use\ this\ fixture.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00286}00286\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00287}00287\ \textcolor{stringliteral}{\ \ \ \ https://scikit-\/learn.org/dev/computing/parallelism.html\#sklearn-\/tests-\/global-\/random-\/seed}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00288}00288\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00289}00289\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00290}00290\ \ \ \ \ \textcolor{comment}{\#\ When\ using\ pytest-\/xdist\ this\ function\ is\ called\ in\ the\ xdist\ workers.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00291}00291\ \ \ \ \ \textcolor{comment}{\#\ We\ rely\ on\ SKLEARN\_TESTS\_GLOBAL\_RANDOM\_SEED\ environment\ variable\ which\ is}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00292}00292\ \ \ \ \ \textcolor{comment}{\#\ set\ in\ before\ running\ pytest\ and\ is\ available\ in\ xdist\ workers\ since\ they}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00293}00293\ \ \ \ \ \textcolor{comment}{\#\ are\ subprocesses.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00294}00294\ \ \ \ \ RANDOM\_SEED\_RANGE\ =\ list(range(100))\ \ \textcolor{comment}{\#\ All\ seeds\ in\ [0,\ 99]\ should\ be\ valid.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00295}00295\ \ \ \ \ random\_seed\_var\ =\ environ.get(\textcolor{stringliteral}{"{}SKLEARN\_TESTS\_GLOBAL\_RANDOM\_SEED"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00296}00296\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00297}00297\ \ \ \ \ default\_random\_seeds\ =\ [42]}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00299}00299\ \ \ \ \ \textcolor{keywordflow}{if}\ random\_seed\_var\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ random\_seeds\ =\ default\_random\_seeds}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00301}00301\ \ \ \ \ \textcolor{keywordflow}{elif}\ random\_seed\_var\ ==\ \textcolor{stringliteral}{"{}all"{}}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ random\_seeds\ =\ RANDOM\_SEED\_RANGE}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00303}00303\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}-\/"{}}\ \textcolor{keywordflow}{in}\ random\_seed\_var:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ start,\ stop\ =\ random\_seed\_var.split(\textcolor{stringliteral}{"{}-\/"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ random\_seeds\ =\ list(range(int(start),\ int(stop)\ +\ 1))}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00307}00307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ random\_seeds\ =\ [int(random\_seed\_var)]}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00309}00309\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ min(random\_seeds)\ <\ 0\ \textcolor{keywordflow}{or}\ max(random\_seeds)\ >\ 99:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classValueError}{ValueError}}(}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ value(s)\ of\ the\ environment\ variable\ "{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SKLEARN\_TESTS\_GLOBAL\_RANDOM\_SEED\ must\ be\ in\ the\ range\ [0,\ 99]\ "{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}(or\ 'all'),\ got:\ \{random\_seed\_var\}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00317}00317\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}global\_random\_seed"{}}\ \textcolor{keywordflow}{in}\ metafunc.fixturenames:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00318}00318\ \ \ \ \ \ \ \ \ metafunc.parametrize(\textcolor{stringliteral}{"{}global\_random\_seed"{}},\ random\_seeds)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00319}00319\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00320}00320\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00321}00321\ \textcolor{keyword}{def\ }pytest\_configure(config):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00322}00322\ \ \ \ \ \textcolor{comment}{\#\ Use\ matplotlib\ agg\ backend\ during\ the\ tests\ including\ doctests}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00323}00323\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ matplotlib}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00325}00325\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacematplotlib_a363a6f6e2af9d9981947fd7f393ab49b}{matplotlib.use}}(\textcolor{stringliteral}{"{}agg"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00327}00327\ \ \ \ \ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00329}00329\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00330}00330\ \ \ \ \ allowed\_parallelism\ =\ joblib.cpu\_count(only\_physical\_cores=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00331}00331\ \ \ \ \ xdist\_worker\_count\ =\ environ.get(\textcolor{stringliteral}{"{}PYTEST\_XDIST\_WORKER\_COUNT"{}})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00332}00332\ \ \ \ \ \textcolor{keywordflow}{if}\ xdist\_worker\_count\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Set\ the\ number\ of\ OpenMP\ and\ BLAS\ threads\ based\ on\ the\ number\ of\ workers}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00334}00334\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ xdist\ is\ using\ to\ prevent\ oversubscription.}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ allowed\_parallelism\ =\ max(allowed\_parallelism\ //\ int(xdist\_worker\_count),\ 1)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00336}00336\ \ \ \ \ \mbox{\hyperlink{classthreadpoolctl_1_1threadpool__limits}{threadpool\_limits}}(allowed\_parallelism)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00337}00337\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00338}00338\ \ \ \ \ \textcolor{keywordflow}{if}\ environ.get(\textcolor{stringliteral}{"{}SKLEARN\_WARNINGS\_AS\_ERRORS"{}},\ \textcolor{stringliteral}{"{}0"{}})\ !=\ \textcolor{stringliteral}{"{}0"{}}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ seems\ like\ the\ only\ way\ to\ programmatically\ change\ the\ config}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00340}00340\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ filterwarnings.\ This\ was\ suggested\ in}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ https://github.com/pytest-\/dev/pytest/issues/3311\#issuecomment-\/373177592}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ get\_pytest\_filterwarning\_lines():}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ config.addinivalue\_line(\textcolor{stringliteral}{"{}filterwarnings"{}},\ line)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00344}00344\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00345}00345\ \ \ \ \ faulthandler\_timeout\ =\ int(environ.get(\textcolor{stringliteral}{"{}SKLEARN\_FAULTHANDLER\_TIMEOUT"{}},\ \textcolor{stringliteral}{"{}0"{}}))}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00346}00346\ \ \ \ \ \textcolor{keywordflow}{if}\ faulthandler\_timeout\ >\ 0:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ faulthandler.enable()}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ faulthandler.dump\_traceback\_later(faulthandler\_timeout,\ exit=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00349}00349\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00350}00350\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00351}00351\ \textcolor{preprocessor}{@pytest.fixture}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00352}\mbox{\hyperlink{namespacesklearn_1_1conftest_a6c01211120cc45834cb656946a7a5e14}{00352}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1conftest_a6c01211120cc45834cb656946a7a5e14}{hide\_available\_pandas}}(monkeypatch):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00353}00353\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pretend\ pandas\ was\ not\ installed."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00354}00354\ \ \ \ \ import\_orig\ =\ builtins.\_\_import\_\_}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00355}00355\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00356}00356\ \ \ \ \ \textcolor{keyword}{def\ }mocked\_import(name,\ *args,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ name\ ==\ \textcolor{stringliteral}{"{}pandas"{}}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classImportError}{ImportError}}()}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ import\_orig(name,\ *args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00360}00360\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00361}00361\ \ \ \ \ monkeypatch.setattr(builtins,\ \textcolor{stringliteral}{"{}\_\_import\_\_"{}},\ mocked\_import)}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00362}00362\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00364}00364\ \textcolor{preprocessor}{@pytest.fixture}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00365}\mbox{\hyperlink{namespacesklearn_1_1conftest_abf070573f8f1bf0f6bad6500ef30ad40}{00365}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesklearn_1_1conftest_abf070573f8f1bf0f6bad6500ef30ad40}{print\_changed\_only\_false}}():}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00366}00366\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Set\ \`{}print\_changed\_only\`{}\ to\ False\ for\ the\ duration\ of\ the\ test."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00367}00367\ \ \ \ \ set\_config(print\_changed\_only=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00368}00368\ \ \ \ \ \textcolor{keywordflow}{yield}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00369}00369\ \ \ \ \ set\_config(print\_changed\_only=\textcolor{keyword}{True})\ \ \textcolor{comment}{\#\ reset\ to\ default}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00370}00370\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00372}00372\ \textcolor{keywordflow}{if}\ dt\_config\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00373}00373\ \ \ \ \ \textcolor{comment}{\#\ Strict\ mode\ to\ differentiate\ between\ 3.14\ and\ np.float64(3.14)}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00374}00374\ \ \ \ \ dt\_config.strict\_check\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sklearn_2conftest_8py_source_l00375}00375\ \ \ \ \ \textcolor{comment}{\#\ dt\_config.rtol\ =\ 0.01}}

\end{DoxyCode}
