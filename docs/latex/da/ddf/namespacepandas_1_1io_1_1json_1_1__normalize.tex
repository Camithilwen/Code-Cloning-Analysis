\doxysection{pandas.\+io.\+json.\+\_\+normalize Namespace Reference}
\hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize}{}\label{namespacepandas_1_1io_1_1json_1_1__normalize}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__normalize_a0ed038e4400d27505d045acf97ef1a4f}{convert\+\_\+to\+\_\+line\+\_\+delimits}} (str s)
\item 
\mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__normalize_a7573170a44f25a5d277331137ce223da}{nested\+\_\+to\+\_\+record}} (ds, str prefix="{}"{}, str sep="{}."{}, int level=0, int\texorpdfstring{$\vert$}{|}None max\+\_\+level=None)
\item 
dict\mbox{[}str, Any\mbox{]} \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__normalize_a817fe10b4ffb79ada877ba35542e5b4b}{\+\_\+normalise\+\_\+json}} (Any data, str key\+\_\+string, dict\mbox{[}str, Any\mbox{]} normalized\+\_\+dict, str separator)
\item 
dict\mbox{[}str, Any\mbox{]} \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__normalize_a31bdb5d79d7a191c78c97576c69bee27}{\+\_\+normalise\+\_\+json\+\_\+ordered}} (dict\mbox{[}str, Any\mbox{]} data, str separator)
\item 
dict\texorpdfstring{$\vert$}{|}list\mbox{[}dict\mbox{]}\texorpdfstring{$\vert$}{|}Any \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__normalize_af12f2a19cdee00913ec2f834316d52eb}{\+\_\+simple\+\_\+json\+\_\+normalize}} (dict\texorpdfstring{$\vert$}{|}list\mbox{[}dict\mbox{]} ds, str sep="{}."{})
\item 
Data\+Frame \mbox{\hyperlink{namespacepandas_1_1io_1_1json_1_1__normalize_a741f47eabbfd8e6be57499bc14e0fa7f}{json\+\_\+normalize}} (dict\texorpdfstring{$\vert$}{|}list\mbox{[}dict\mbox{]} data, str\texorpdfstring{$\vert$}{|}list\texorpdfstring{$\vert$}{|}None record\+\_\+path=None, str\texorpdfstring{$\vert$}{|}list\mbox{[}str\texorpdfstring{$\vert$}{|}list\mbox{[}str\mbox{]}\mbox{]}\texorpdfstring{$\vert$}{|}None meta=None, str\texorpdfstring{$\vert$}{|}None meta\+\_\+prefix=None, str\texorpdfstring{$\vert$}{|}None record\+\_\+prefix=None, Ignore\+Raise errors="{}raise"{}, str sep="{}."{}, int\texorpdfstring{$\vert$}{|}None max\+\_\+level=None)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize_a817fe10b4ffb79ada877ba35542e5b4b}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}!\_normalise\_json@{\_normalise\_json}}
\index{\_normalise\_json@{\_normalise\_json}!pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection{\texorpdfstring{\_normalise\_json()}{\_normalise\_json()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__normalize_a817fe10b4ffb79ada877ba35542e5b4b} 
 dict\mbox{[}str, Any\mbox{]} pandas.\+io.\+json.\+\_\+normalize.\+\_\+normalise\+\_\+json (\begin{DoxyParamCaption}\item[{Any}]{data}{, }\item[{str}]{key\+\_\+string}{, }\item[{dict\mbox{[}str, Any\mbox{]}}]{normalized\+\_\+dict}{, }\item[{str}]{separator}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Main recursive function
Designed for the most basic use case of pd.json_normalize(data)
intended as a performance improvement, see #15621

Parameters
----------
data : Any
    Type dependent on types contained within nested Json
key_string : str
    New key (with separator(s) in) for data
normalized_dict : dict
    The new normalized/flattened Json dict
separator : str, default '.'
    Nested records will generate names separated by sep,
    e.g., for sep='.', { 'foo' : { 'bar' : 0 } } -> foo.bar
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__normalize_8py_source_l00126}{126}} of file \mbox{\hyperlink{__normalize_8py_source}{\+\_\+normalize.\+py}}.



References \mbox{\hyperlink{__normalize_8py_source_l00131}{\+\_\+normalise\+\_\+json()}}.



Referenced by \mbox{\hyperlink{__normalize_8py_source_l00131}{\+\_\+normalise\+\_\+json()}}, and \mbox{\hyperlink{__normalize_8py_source_l00167}{\+\_\+normalise\+\_\+json\+\_\+ordered()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize_a31bdb5d79d7a191c78c97576c69bee27}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}!\_normalise\_json\_ordered@{\_normalise\_json\_ordered}}
\index{\_normalise\_json\_ordered@{\_normalise\_json\_ordered}!pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection{\texorpdfstring{\_normalise\_json\_ordered()}{\_normalise\_json\_ordered()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__normalize_a31bdb5d79d7a191c78c97576c69bee27} 
 dict\mbox{[}str, Any\mbox{]} pandas.\+io.\+json.\+\_\+normalize.\+\_\+normalise\+\_\+json\+\_\+ordered (\begin{DoxyParamCaption}\item[{dict\mbox{[}str, Any\mbox{]}}]{data}{, }\item[{str}]{separator}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Order the top level keys and then recursively go to depth

Parameters
----------
data : dict or list of dicts
separator : str, default '.'
    Nested records will generate names separated by sep,
    e.g., for sep='.', { 'foo' : { 'bar' : 0 } } -> foo.bar

Returns
-------
dict or list of dicts, matching `normalised_json_object`
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__normalize_8py_source_l00167}{167}} of file \mbox{\hyperlink{__normalize_8py_source}{\+\_\+normalize.\+py}}.



References \mbox{\hyperlink{__normalize_8py_source_l00131}{\+\_\+normalise\+\_\+json()}}.



Referenced by \mbox{\hyperlink{__normalize_8py_source_l00195}{\+\_\+simple\+\_\+json\+\_\+normalize()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize_af12f2a19cdee00913ec2f834316d52eb}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}!\_simple\_json\_normalize@{\_simple\_json\_normalize}}
\index{\_simple\_json\_normalize@{\_simple\_json\_normalize}!pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection{\texorpdfstring{\_simple\_json\_normalize()}{\_simple\_json\_normalize()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__normalize_af12f2a19cdee00913ec2f834316d52eb} 
 dict \texorpdfstring{$\vert$}{|} list\mbox{[}dict\mbox{]} \texorpdfstring{$\vert$}{|} Any pandas.\+io.\+json.\+\_\+normalize.\+\_\+simple\+\_\+json\+\_\+normalize (\begin{DoxyParamCaption}\item[{dict \texorpdfstring{$\vert$}{|} list\mbox{[}dict\mbox{]}}]{ds}{, }\item[{str }]{sep}{ = {\ttfamily "{}."{}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}A optimized basic json_normalize

Converts a nested dict into a flat dict ("record"), unlike
json_normalize and nested_to_record it doesn't do anything clever.
But for the most basic use cases it enhances performance.
E.g. pd.json_normalize(data)

Parameters
----------
ds : dict or list of dicts
sep : str, default '.'
    Nested records will generate names separated by sep,
    e.g., for sep='.', { 'foo' : { 'bar' : 0 } } -> foo.bar

Returns
-------
frame : DataFrame
d - dict or list of dicts, matching `normalised_json_object`

Examples
--------
>>> _simple_json_normalize(
...     {
...         "flat1": 1,
...         "dict1": {"c": 1, "d": 2},
...         "nested": {"e": {"c": 1, "d": 2}, "d": 2},
...     }
... )
{\
'flat1': 1, \
'dict1.c': 1, \
'dict1.d': 2, \
'nested.e.c': 1, \
'nested.e.d': 2, \
'nested.d': 2\
}
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__normalize_8py_source_l00192}{192}} of file \mbox{\hyperlink{__normalize_8py_source}{\+\_\+normalize.\+py}}.



References \mbox{\hyperlink{__normalize_8py_source_l00167}{\+\_\+normalise\+\_\+json\+\_\+ordered()}}, and \mbox{\hyperlink{__normalize_8py_source_l00195}{\+\_\+simple\+\_\+json\+\_\+normalize()}}.



Referenced by \mbox{\hyperlink{__normalize_8py_source_l00195}{\+\_\+simple\+\_\+json\+\_\+normalize()}}, and \mbox{\hyperlink{__normalize_8py_source_l00254}{json\+\_\+normalize()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize_a0ed038e4400d27505d045acf97ef1a4f}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}!convert\_to\_line\_delimits@{convert\_to\_line\_delimits}}
\index{convert\_to\_line\_delimits@{convert\_to\_line\_delimits}!pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection{\texorpdfstring{convert\_to\_line\_delimits()}{convert\_to\_line\_delimits()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__normalize_a0ed038e4400d27505d045acf97ef1a4f} 
 str pandas.\+io.\+json.\+\_\+normalize.\+convert\+\_\+to\+\_\+line\+\_\+delimits (\begin{DoxyParamCaption}\item[{str}]{s}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Helper function that converts JSON lists to line delimited JSON.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__normalize_8py_source_l00032}{32}} of file \mbox{\hyperlink{__normalize_8py_source}{\+\_\+normalize.\+py}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize_a741f47eabbfd8e6be57499bc14e0fa7f}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}!json\_normalize@{json\_normalize}}
\index{json\_normalize@{json\_normalize}!pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection{\texorpdfstring{json\_normalize()}{json\_normalize()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__normalize_a741f47eabbfd8e6be57499bc14e0fa7f} 
 Data\+Frame pandas.\+io.\+json.\+\_\+normalize.\+json\+\_\+normalize (\begin{DoxyParamCaption}\item[{dict \texorpdfstring{$\vert$}{|} list\mbox{[}dict\mbox{]}}]{data}{, }\item[{str \texorpdfstring{$\vert$}{|} list \texorpdfstring{$\vert$}{|} None }]{record\+\_\+path}{ = {\ttfamily None}, }\item[{str \texorpdfstring{$\vert$}{|} list\mbox{[}str \texorpdfstring{$\vert$}{|} list\mbox{[}str\mbox{]}\mbox{]} \texorpdfstring{$\vert$}{|} None }]{meta}{ = {\ttfamily None}, }\item[{str \texorpdfstring{$\vert$}{|} None }]{meta\+\_\+prefix}{ = {\ttfamily None}, }\item[{str \texorpdfstring{$\vert$}{|} None }]{record\+\_\+prefix}{ = {\ttfamily None}, }\item[{Ignore\+Raise }]{errors}{ = {\ttfamily "{}raise"{}}, }\item[{str }]{sep}{ = {\ttfamily "{}."{}}, }\item[{int \texorpdfstring{$\vert$}{|} None }]{max\+\_\+level}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Normalize semi-structured JSON data into a flat table.

Parameters
----------
data : dict or list of dicts
    Unserialized JSON objects.
record_path : str or list of str, default None
    Path in each object to list of records. If not passed, data will be
    assumed to be an array of records.
meta : list of paths (str or list of str), default None
    Fields to use as metadata for each record in resulting table.
meta_prefix : str, default None
    If True, prefix records with dotted (?) path, e.g. foo.bar.field if
    meta is ['foo', 'bar'].
record_prefix : str, default None
    If True, prefix records with dotted (?) path, e.g. foo.bar.field if
    path to records is ['foo', 'bar'].
errors : {'raise', 'ignore'}, default 'raise'
    Configures error handling.

    * 'ignore' : will ignore KeyError if keys listed in meta are not
      always present.
    * 'raise' : will raise KeyError if keys listed in meta are not
      always present.
sep : str, default '.'
    Nested records will generate names separated by sep.
    e.g., for sep='.', {'foo': {'bar': 0}} -> foo.bar.
max_level : int, default None
    Max number of levels(depth of dict) to normalize.
    if None, normalizes all levels.

Returns
-------
frame : DataFrame
Normalize semi-structured JSON data into a flat table.

Examples
--------
>>> data = [
...     {"id": 1, "name": {"first": "Coleen", "last": "Volk"}},
...     {"name": {"given": "Mark", "family": "Regner"}},
...     {"id": 2, "name": "Faye Raker"},
... ]
>>> pd.json_normalize(data)
    id name.first name.last name.given name.family        name
0  1.0     Coleen      Volk        NaN         NaN         NaN
1  NaN        NaN       NaN       Mark      Regner         NaN
2  2.0        NaN       NaN        NaN         NaN  Faye Raker

>>> data = [
...     {
...         "id": 1,
...         "name": "Cole Volk",
...         "fitness": {"height": 130, "weight": 60},
...     },
...     {"name": "Mark Reg", "fitness": {"height": 130, "weight": 60}},
...     {
...         "id": 2,
...         "name": "Faye Raker",
...         "fitness": {"height": 130, "weight": 60},
...     },
... ]
>>> pd.json_normalize(data, max_level=0)
    id        name                        fitness
0  1.0   Cole Volk  {'height': 130, 'weight': 60}
1  NaN    Mark Reg  {'height': 130, 'weight': 60}
2  2.0  Faye Raker  {'height': 130, 'weight': 60}

Normalizes nested data up to level 1.

>>> data = [
...     {
...         "id": 1,
...         "name": "Cole Volk",
...         "fitness": {"height": 130, "weight": 60},
...     },
...     {"name": "Mark Reg", "fitness": {"height": 130, "weight": 60}},
...     {
...         "id": 2,
...         "name": "Faye Raker",
...         "fitness": {"height": 130, "weight": 60},
...     },
... ]
>>> pd.json_normalize(data, max_level=1)
    id        name  fitness.height  fitness.weight
0  1.0   Cole Volk             130              60
1  NaN    Mark Reg             130              60
2  2.0  Faye Raker             130              60

>>> data = [
...     {
...         "state": "Florida",
...         "shortname": "FL",
...         "info": {"governor": "Rick Scott"},
...         "counties": [
...             {"name": "Dade", "population": 12345},
...             {"name": "Broward", "population": 40000},
...             {"name": "Palm Beach", "population": 60000},
...         ],
...     },
...     {
...         "state": "Ohio",
...         "shortname": "OH",
...         "info": {"governor": "John Kasich"},
...         "counties": [
...             {"name": "Summit", "population": 1234},
...             {"name": "Cuyahoga", "population": 1337},
...         ],
...     },
... ]
>>> result = pd.json_normalize(
...     data, "counties", ["state", "shortname", ["info", "governor"]]
... )
>>> result
         name  population    state shortname info.governor
0        Dade       12345   Florida    FL    Rick Scott
1     Broward       40000   Florida    FL    Rick Scott
2  Palm Beach       60000   Florida    FL    Rick Scott
3      Summit        1234   Ohio       OH    John Kasich
4    Cuyahoga        1337   Ohio       OH    John Kasich

>>> data = {"A": [1, 2]}
>>> pd.json_normalize(data, "A", record_prefix="Prefix.")
    Prefix.0
0          1
1          2

Returns normalized data with columns prefixed with the given string.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__normalize_8py_source_l00245}{245}} of file \mbox{\hyperlink{__normalize_8py_source}{\+\_\+normalize.\+py}}.



References \mbox{\hyperlink{__normalize_8py_source_l00195}{\+\_\+simple\+\_\+json\+\_\+normalize()}}, and \mbox{\hyperlink{__normalize_8py_source_l00051}{nested\+\_\+to\+\_\+record()}}.

\Hypertarget{namespacepandas_1_1io_1_1json_1_1__normalize_a7573170a44f25a5d277331137ce223da}\index{pandas.io.json.\_normalize@{pandas.io.json.\_normalize}!nested\_to\_record@{nested\_to\_record}}
\index{nested\_to\_record@{nested\_to\_record}!pandas.io.json.\_normalize@{pandas.io.json.\_normalize}}
\doxysubsubsection{\texorpdfstring{nested\_to\_record()}{nested\_to\_record()}}
{\footnotesize\ttfamily \label{namespacepandas_1_1io_1_1json_1_1__normalize_a7573170a44f25a5d277331137ce223da} 
pandas.\+io.\+json.\+\_\+normalize.\+nested\+\_\+to\+\_\+record (\begin{DoxyParamCaption}\item[{}]{ds}{, }\item[{str }]{prefix}{ = {\ttfamily "{}"{}}, }\item[{str }]{sep}{ = {\ttfamily "{}."{}}, }\item[{int }]{level}{ = {\ttfamily 0}, }\item[{int \texorpdfstring{$\vert$}{|} None }]{max\+\_\+level}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}A simplified json_normalize

Converts a nested dict into a flat dict ("record"), unlike json_normalize,
it does not attempt to extract a subset of the data.

Parameters
----------
ds : dict or list of dicts
prefix: the prefix, optional, default: ""
sep : str, default '.'
    Nested records will generate names separated by sep,
    e.g., for sep='.', { 'foo' : { 'bar' : 0 } } -> foo.bar
level: int, optional, default: 0
    The number of levels in the json string.

max_level: int, optional, default: None
    The max depth to normalize.

Returns
-------
d - dict or list of dicts, matching `ds`

Examples
--------
>>> nested_to_record(
...     dict(flat1=1, dict1=dict(c=1, d=2), nested=dict(e=dict(c=1, d=2), d=2))
... )
{\
'flat1': 1, \
'dict1.c': 1, \
'dict1.d': 2, \
'nested.e.c': 1, \
'nested.e.d': 2, \
'nested.d': 2\
}
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{__normalize_8py_source_l00045}{45}} of file \mbox{\hyperlink{__normalize_8py_source}{\+\_\+normalize.\+py}}.



References \mbox{\hyperlink{__normalize_8py_source_l00051}{nested\+\_\+to\+\_\+record()}}.



Referenced by \mbox{\hyperlink{__normalize_8py_source_l00254}{json\+\_\+normalize()}}, and \mbox{\hyperlink{__normalize_8py_source_l00051}{nested\+\_\+to\+\_\+record()}}.

