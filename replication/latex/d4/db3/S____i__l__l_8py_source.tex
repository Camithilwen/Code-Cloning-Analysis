\doxysection{S\+\_\+\+\_\+i\+\_\+l\+\_\+l.\+py}
\hypertarget{S____i__l__l_8py_source}{}\label{S____i__l__l_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/ttLib/tables/S\_\_i\_l\_l.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/ttLib/tables/S\_\_i\_l\_l.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00001}\mbox{\hyperlink{namespacefontTools_1_1ttLib_1_1tables_1_1S____i__l__l}{00001}}\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc}{fontTools.misc}}\ \textcolor{keyword}{import}\ sstruct}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00002}00002\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1fixedTools}{fontTools.misc.fixedTools}}\ \textcolor{keyword}{import}\ floatToFixedToStr}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00003}00003\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1textTools}{fontTools.misc.textTools}}\ \textcolor{keyword}{import}\ safeEval}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00004}00004\ \textcolor{keyword}{from}\ .\ \textcolor{keyword}{import}\ DefaultTable}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00005}00005\ \textcolor{keyword}{from}\ .\ \textcolor{keyword}{import}\ grUtils}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00006}00006\ \textcolor{keyword}{import}\ struct}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00008}00008\ Sill\_hdr\ =\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00009}00009\ \textcolor{stringliteral}{\ \ \ \ >}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00010}00010\ \textcolor{stringliteral}{\ \ \ \ version:\ \ \ \ 16.16F}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00011}00011\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00014}\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l}{00014}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l}{table\_S\_\_i\_l\_l}}(\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1DefaultTable_1_1DefaultTable}{DefaultTable.DefaultTable}}):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00015}00015\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Graphite\ Languages\ table}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00016}00016\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00017}00017\ \textcolor{stringliteral}{\ \ \ \ See\ also\ https://graphite.sil.org/graphite\_techAbout\#graphite-\/font-\/tables}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00020}00020\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ tag=None):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ DefaultTable.DefaultTable.\_\_init\_\_(self,\ tag)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00024}00024\ \ \ \ \ \textcolor{keyword}{def\ }decompile(self,\ data,\ ttFont):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ (\_,\ data)\ =\ sstruct.unpack2(Sill\_hdr,\ data,\ self)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_a1e1b85ab4e906eb81169e691fdb9be83}{version}}\ =\ float(floatToFixedToStr(self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_a1e1b85ab4e906eb81169e691fdb9be83}{version}},\ precisionBits=16))}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ (numLangs,)\ =\ struct.unpack(\textcolor{stringliteral}{"{}>H"{}},\ data[:2])}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ data\ =\ data[8:]}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ maxsetting\ =\ 0}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ langinfo\ =\ []}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(numLangs):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ (langcode,\ numsettings,\ offset)\ =\ struct.unpack(}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}>4sHH"{}},\ data[i\ *\ 8\ :\ (i\ +\ 1)\ *\ 8]}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ offset\ =\ int(offset\ /\ 8)\ -\/\ (numLangs\ +\ 1)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ langcode\ =\ langcode.replace(b\textcolor{stringliteral}{"{}\(\backslash\)000"{}},\ b\textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ langinfo.append((langcode.decode(\textcolor{stringliteral}{"{}utf-\/8"{}}),\ numsettings,\ offset))}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ maxsetting\ =\ max(maxsetting,\ offset\ +\ numsettings)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ data\ =\ data[numLangs\ *\ 8\ :]}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ finfo\ =\ []}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(maxsetting):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ (fid,\ val,\ \_)\ =\ struct.unpack(\textcolor{stringliteral}{"{}>LHH"{}},\ data[i\ *\ 8\ :\ (i\ +\ 1)\ *\ 8])}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ finfo.append((fid,\ val))}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c,\ n,\ o\ \textcolor{keywordflow}{in}\ langinfo:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}[c]\ =\ []}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(o,\ o\ +\ n):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}[c].append(finfo[i])}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00050}00050\ \ \ \ \ \textcolor{keyword}{def\ }compile(self,\ ttFont):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ ldat\ =\ b\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ fdat\ =\ b\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ offset\ =\ len(self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}})}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c,\ inf\ \textcolor{keywordflow}{in}\ sorted(self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}.items()):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ ldat\ +=\ struct.pack(\textcolor{stringliteral}{"{}>4sHH"{}},\ c.encode(\textcolor{stringliteral}{"{}utf8"{}}),\ len(inf),\ 8\ *\ offset\ +\ 20)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ fid,\ val\ \textcolor{keywordflow}{in}\ inf:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fdat\ +=\ struct.pack(\textcolor{stringliteral}{"{}>LHH"{}},\ fid,\ val,\ 0)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ offset\ +=\ len(inf)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ ldat\ +=\ struct.pack(\textcolor{stringliteral}{"{}>LHH"{}},\ 0x80808080,\ 0,\ 8\ *\ offset\ +\ 20)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ sstruct.pack(Sill\_hdr,\ self)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ +\ grUtils.bininfo(len(self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}))}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ +\ ldat}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ +\ fdat}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00067}00067\ \ \ \ \ \textcolor{keyword}{def\ }toXML(self,\ writer,\ ttFont):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ writer.simpletag(\textcolor{stringliteral}{"{}version"{}},\ version=self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_a1e1b85ab4e906eb81169e691fdb9be83}{version}})}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ writer.newline()}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ c,\ inf\ \textcolor{keywordflow}{in}\ sorted(self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}.items()):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ writer.begintag(\textcolor{stringliteral}{"{}lang"{}},\ name=c)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ writer.newline()}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ fid,\ val\ \textcolor{keywordflow}{in}\ inf:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ writer.simpletag(\textcolor{stringliteral}{"{}feature"{}},\ fid=grUtils.num2tag(fid),\ val=val)}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ writer.newline()}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ writer.endtag(\textcolor{stringliteral}{"{}lang"{}})}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ writer.newline()}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00079}00079\ \ \ \ \ \textcolor{keyword}{def\ }fromXML(self,\ name,\ attrs,\ content,\ ttFont):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ name\ ==\ \textcolor{stringliteral}{"{}version"{}}:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_a1e1b85ab4e906eb81169e691fdb9be83}{version}}\ =\ float(safeEval(attrs[\textcolor{stringliteral}{"{}version"{}}]))}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ name\ ==\ \textcolor{stringliteral}{"{}lang"{}}:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ c\ =\ attrs[\textcolor{stringliteral}{"{}name"{}}]}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}[c]\ =\ []}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ element\ \textcolor{keywordflow}{in}\ content:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(element,\ tuple):}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tag,\ a,\ subcontent\ =\ element}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ tag\ ==\ \textcolor{stringliteral}{"{}feature"{}}:}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classfontTools_1_1ttLib_1_1tables_1_1S____i__l__l_1_1table__S____i__l__l_ad6e8836c97fbd01bf57f84889651d756}{langs}}[c].append(}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (grUtils.tag2num(a[\textcolor{stringliteral}{"{}fid"{}}]),\ int(safeEval(a[\textcolor{stringliteral}{"{}val"{}}])))}
\DoxyCodeLine{\Hypertarget{S____i__l__l_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}

\end{DoxyCode}
