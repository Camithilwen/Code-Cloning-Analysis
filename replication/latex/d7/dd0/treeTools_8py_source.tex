\doxysection{tree\+Tools.\+py}
\hypertarget{treeTools_8py_source}{}\label{treeTools_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/misc/treeTools.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/fontTools/misc/treeTools.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00001}\mbox{\hyperlink{namespacefontTools_1_1misc_1_1treeTools}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}Generic\ tools\ for\ working\ with\ trees."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00003}00003\ \textcolor{keyword}{from}\ math\ \textcolor{keyword}{import}\ ceil,\ log}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00006}\mbox{\hyperlink{namespacefontTools_1_1misc_1_1treeTools_acb5f7f2436f0fb4efac697a2392f3d25}{00006}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacefontTools_1_1misc_1_1treeTools_acb5f7f2436f0fb4efac697a2392f3d25}{build\_n\_ary\_tree}}(leaves,\ n):}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00007}00007\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Build\ N-\/ary\ tree\ from\ sequence\ of\ leaf\ nodes.}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00008}00008\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00009}00009\ \textcolor{stringliteral}{\ \ \ \ Return\ a\ list\ of\ lists\ where\ each\ non-\/leaf\ node\ is\ a\ list\ containing}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00010}00010\ \textcolor{stringliteral}{\ \ \ \ max\ n\ nodes.}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00011}00011\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00012}00012\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ leaves:}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00013}00013\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ []}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00015}00015\ \ \ \ \ \textcolor{keyword}{assert}\ n\ >\ 1}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00017}00017\ \ \ \ \ depth\ =\ ceil(log(len(leaves),\ n))}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00019}00019\ \ \ \ \ \textcolor{keywordflow}{if}\ depth\ <=\ 1:}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ list(leaves)}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00022}00022\ \ \ \ \ \textcolor{comment}{\#\ Fully\ populate\ complete\ subtrees\ of\ root\ until\ we\ have\ enough\ leaves\ left}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00023}00023\ \ \ \ \ root\ =\ []}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00024}00024\ \ \ \ \ unassigned\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00025}00025\ \ \ \ \ full\_step\ =\ n\ **\ (depth\ -\/\ 1)}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00026}00026\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(0,\ len(leaves),\ full\_step):}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ subtree\ =\ leaves[i\ :\ i\ +\ full\_step]}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(subtree)\ <\ full\_step:}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ unassigned\ =\ subtree}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ len(subtree)\ >\ n:}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ subtree\ =\ [subtree[k\ :\ k\ +\ n]\ \textcolor{keywordflow}{for}\ k\ \textcolor{keywordflow}{in}\ range(0,\ len(subtree),\ n)]}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ root.append(subtree)}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00035}00035\ \ \ \ \ \textcolor{keywordflow}{if}\ unassigned:}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Recurse\ to\ fill\ the\ last\ subtree,\ which\ is\ the\ only\ partially\ populated\ one}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ subtree\ =\ \mbox{\hyperlink{namespacefontTools_1_1misc_1_1treeTools_acb5f7f2436f0fb4efac697a2392f3d25}{build\_n\_ary\_tree}}(unassigned,\ n)}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(subtree)\ <=\ n\ -\/\ len(root):}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ replace\ last\ subtree\ with\ its\ children\ if\ they\ can\ still\ fit}}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ root.extend(subtree)}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ root.append(subtree)}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ len(root)\ <=\ n}
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{treeTools_8py_source_l00045}00045\ \ \ \ \ \textcolor{keywordflow}{return}\ root}

\end{DoxyCode}
