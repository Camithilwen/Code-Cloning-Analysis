\doxysection{test\+\_\+scalar\+\_\+ctors.\+py}
\hypertarget{test__scalar__ctors_8py_source}{}\label{test__scalar__ctors_8py_source}\index{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/core/tests/test\_scalar\_ctors.py@{/home/jam/Research/IRES-\/2025/dev/src/llm-\/scripts/testing/hypothesis-\/testing/hyp-\/env/lib/python3.12/site-\/packages/numpy/core/tests/test\_scalar\_ctors.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00001}\mbox{\hyperlink{namespacenumpy_1_1core_1_1tests_1_1test__scalar__ctors}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00002}00002\ \textcolor{stringliteral}{Test\ the\ scalar\ constructors,\ which\ also\ do\ type-\/coercion}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00003}00003\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00004}00004\ \textcolor{keyword}{import}\ pytest}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00006}00006\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00007}00007\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacenumpy_1_1testing}{numpy.testing}}\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00008}00008\ \ \ \ \ assert\_equal,\ assert\_almost\_equal,\ assert\_warns,}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00009}00009\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00011}\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestFromString}{00011}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestFromString}{TestFromString}}:}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00012}00012\ \ \ \ \ \textcolor{keyword}{def\ }test\_floating(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00013}00013\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Ticket\ \#640,\ floats\ from\ string}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00014}00014\ \ \ \ \ \ \ \ \ fsingle\ =\ np.single(\textcolor{stringliteral}{'1.234'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00015}00015\ \ \ \ \ \ \ \ \ fdouble\ =\ np.double(\textcolor{stringliteral}{'1.234'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00016}00016\ \ \ \ \ \ \ \ \ flongdouble\ =\ np.longdouble(\textcolor{stringliteral}{'1.234'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00017}00017\ \ \ \ \ \ \ \ \ assert\_almost\_equal(fsingle,\ 1.234)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ assert\_almost\_equal(fdouble,\ 1.234)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ assert\_almost\_equal(flongdouble,\ 1.234)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00021}\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestFromString_ae082a681ce82ff6a7faf74b08f2aa434}{00021}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestFromString_ae082a681ce82ff6a7faf74b08f2aa434}{test\_floating\_overflow}}(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ Strings\ containing\ an\ unrepresentable\ float\ overflow\ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00023}00023\ \ \ \ \ \ \ \ \ fhalf\ =\ np.half(\textcolor{stringliteral}{'1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ assert\_equal(fhalf,\ np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ fsingle\ =\ np.single(\textcolor{stringliteral}{'1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ assert\_equal(fsingle,\ np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ fdouble\ =\ np.double(\textcolor{stringliteral}{'1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ assert\_equal(fdouble,\ np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ flongdouble\ =\ assert\_warns(RuntimeWarning,\ np.longdouble,\ \textcolor{stringliteral}{'1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ assert\_equal(flongdouble,\ np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ fhalf\ =\ np.half(\textcolor{stringliteral}{'-\/1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ assert\_equal(fhalf,\ -\/np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ fsingle\ =\ np.single(\textcolor{stringliteral}{'-\/1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ assert\_equal(fsingle,\ -\/np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ fdouble\ =\ np.double(\textcolor{stringliteral}{'-\/1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ assert\_equal(fdouble,\ -\/np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ flongdouble\ =\ assert\_warns(RuntimeWarning,\ np.longdouble,\ \textcolor{stringliteral}{'-\/1e10000'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ assert\_equal(flongdouble,\ -\/np.inf)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00042}\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestExtraArgs}{00042}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestExtraArgs}{TestExtraArgs}}:}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00043}00043\ \ \ \ \ \textcolor{keyword}{def\ }test\_superclass(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ try\ both\ positional\ and\ keyword\ arguments}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ s\ =\ np.str\_(b\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)x61'},\ encoding=\textcolor{stringliteral}{'unicode-\/escape'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ s\ ==\ \textcolor{stringliteral}{'a'}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ s\ =\ np.str\_(b\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)x61'},\ \textcolor{stringliteral}{'unicode-\/escape'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ s\ ==\ \textcolor{stringliteral}{'a'}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ previously\ this\ would\ return\ '\(\backslash\)\(\backslash\)xx'}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(UnicodeDecodeError):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ np.str\_(b\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)xx'},\ encoding=\textcolor{stringliteral}{'unicode-\/escape'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(UnicodeDecodeError):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ np.str\_(b\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)xx'},\ \textcolor{stringliteral}{'unicode-\/escape'})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ superclass\ fails,\ but\ numpy\ succeeds}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ np.bytes\_(-\/2)\ ==\ b\textcolor{stringliteral}{'-\/2'}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00059}00059\ \ \ \ \ \textcolor{keyword}{def\ }test\_datetime(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ dt\ =\ np.datetime64(\textcolor{stringliteral}{'2000-\/01'},\ (\textcolor{stringliteral}{'M'},\ 2))}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ np.datetime\_data(dt)\ ==\ (\textcolor{stringliteral}{'M'},\ 2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(TypeError):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ np.datetime64(\textcolor{stringliteral}{'2000'},\ garbage=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00066}00066\ \ \ \ \ \textcolor{keyword}{def\ }test\_bool(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(TypeError):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ np.bool\_(\textcolor{keyword}{False},\ garbage=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00070}00070\ \ \ \ \ \textcolor{keyword}{def\ }test\_void(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(TypeError):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ np.void(b\textcolor{stringliteral}{'test'},\ garbage=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00075}\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestFromInt}{00075}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestFromInt}{TestFromInt}}:}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00076}00076\ \ \ \ \ \textcolor{keyword}{def\ }test\_intp(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Ticket\ \#99}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ assert\_equal(1024,\ np.intp(1024))}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00080}00080\ \ \ \ \ \textcolor{keyword}{def\ }test\_uint64\_from\_negative(self):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ pytest.warns(DeprecationWarning):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ assert\_equal(np.uint64(-\/2),\ np.uint64(18446744073709551614))}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00085}00085\ int\_types\ =\ [np.byte,\ np.short,\ np.intc,\ np.int\_,\ np.longlong]}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00086}00086\ uint\_types\ =\ [np.ubyte,\ np.ushort,\ np.uintc,\ np.uint,\ np.ulonglong]}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00087}00087\ float\_types\ =\ [np.half,\ np.single,\ np.double,\ np.longdouble]}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00088}00088\ cfloat\_types\ =\ [np.csingle,\ np.cdouble,\ np.clongdouble]}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00091}\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestArrayFromScalar}{00091}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestArrayFromScalar}{TestArrayFromScalar}}:}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00092}00092\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ gh-\/15467\ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00094}00094\ \ \ \ \ \textcolor{keyword}{def\ }\_do\_test(self,\ t1,\ t2):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ x\ =\ t1(2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ arr\ =\ np.array(x,\ dtype=t2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ type\ should\ be\ preserved\ exactly}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ t2\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ arr.dtype.type\ \textcolor{keywordflow}{is}\ t1}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ arr.dtype.type\ \textcolor{keywordflow}{is}\ t2}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00103}00103\ \ \ \ \ \textcolor{preprocessor}{@pytest.mark.parametrize('t1',\ int\_types\ +\ uint\_types)}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00104}00104\ \ \ \ \ \textcolor{preprocessor}{@pytest.mark.parametrize('t2',\ int\_types\ +\ uint\_types\ +\ [None])}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00105}00105\ \ \ \ \ \textcolor{keyword}{def\ }test\_integers(self,\ t1,\ t2):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestArrayFromScalar_a707adcb8b4b8b444f1a26612b79a39ec}{\_do\_test}}(t1,\ t2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00108}00108\ \ \ \ \ \textcolor{preprocessor}{@pytest.mark.parametrize('t1',\ float\_types)}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00109}00109\ \ \ \ \ \textcolor{preprocessor}{@pytest.mark.parametrize('t2',\ float\_types\ +\ [None])}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00110}00110\ \ \ \ \ \textcolor{keyword}{def\ }test\_reals(self,\ t1,\ t2):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestArrayFromScalar_a707adcb8b4b8b444f1a26612b79a39ec}{\_do\_test}}(t1,\ t2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00113}00113\ \ \ \ \ \textcolor{preprocessor}{@pytest.mark.parametrize('t1',\ cfloat\_types)}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00114}00114\ \ \ \ \ \textcolor{preprocessor}{@pytest.mark.parametrize('t2',\ cfloat\_types\ +\ [None])}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00115}00115\ \ \ \ \ \textcolor{keyword}{def\ }test\_complex(self,\ t1,\ t2):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classnumpy_1_1core_1_1tests_1_1test__scalar__ctors_1_1TestArrayFromScalar_a707adcb8b4b8b444f1a26612b79a39ec}{\_do\_test}}(t1,\ t2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00119}00119\ \textcolor{preprocessor}{@pytest.mark.parametrize}(\textcolor{stringliteral}{"{}length"{}},}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ [5,\ np.int8(5),\ np.array(5,\ dtype=np.uint16)])}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00121}00121\ \textcolor{keyword}{def\ }test\_void\_via\_length(length):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00122}00122\ \ \ \ \ res\ =\ np.void(length)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00123}00123\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.void}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00124}00124\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()\ ==\ b\textcolor{stringliteral}{"{}\(\backslash\)0"{}}\ *\ 5}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00125}00125\ \ \ \ \ \textcolor{keyword}{assert}\ res.dtype\ ==\ \textcolor{stringliteral}{"{}V5"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00127}00127\ \textcolor{preprocessor}{@pytest.mark.parametrize}(\textcolor{stringliteral}{"{}bytes\_"{}},}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ [b\textcolor{stringliteral}{"{}spam"{}},\ np.array(567.)])}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00129}00129\ \textcolor{keyword}{def\ }test\_void\_from\_byteslike(bytes\_):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00130}00130\ \ \ \ \ res\ =\ np.void(bytes\_)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00131}00131\ \ \ \ \ expected\ =\ bytes(bytes\_)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00132}00132\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.void}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00133}00133\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()\ ==\ expected}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00135}00135\ \ \ \ \ \textcolor{comment}{\#\ Passing\ dtype\ can\ extend\ it\ (this\ is\ how\ filling\ works)}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00136}00136\ \ \ \ \ res\ =\ np.void(bytes\_,\ dtype=\textcolor{stringliteral}{"{}V100"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00137}00137\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.void}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00138}00138\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()[:len(expected)]\ ==\ expected}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00139}00139\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()[len(expected):]\ ==\ b\textcolor{stringliteral}{"{}\(\backslash\)0"{}}\ *\ (res.nbytes\ -\/\ len(expected))}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00140}00140\ \ \ \ \ \textcolor{comment}{\#\ As\ well\ as\ shorten:}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00141}00141\ \ \ \ \ res\ =\ np.void(bytes\_,\ dtype=\textcolor{stringliteral}{"{}V4"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00142}00142\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.void}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00143}00143\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()\ ==\ expected[:4]}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00145}00145\ \textcolor{keyword}{def\ }test\_void\_arraylike\_trumps\_byteslike():}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00146}00146\ \ \ \ \ \textcolor{comment}{\#\ The\ memoryview\ is\ converted\ as\ an\ array-\/like\ of\ shape\ (18,)}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00147}00147\ \ \ \ \ \textcolor{comment}{\#\ rather\ than\ a\ single\ bytes-\/like\ of\ that\ length.}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00148}00148\ \ \ \ \ m\ =\ memoryview(b\textcolor{stringliteral}{"{}just\ one\ mintleaf?"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00149}00149\ \ \ \ \ res\ =\ np.void(m)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00150}00150\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.ndarray}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00151}00151\ \ \ \ \ \textcolor{keyword}{assert}\ res.dtype\ ==\ \textcolor{stringliteral}{"{}V1"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00152}00152\ \ \ \ \ \textcolor{keyword}{assert}\ res.shape\ ==\ (18,)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00154}00154\ \textcolor{keyword}{def\ }test\_void\_dtype\_arg():}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00155}00155\ \ \ \ \ \textcolor{comment}{\#\ Basic\ test\ for\ the\ dtype\ argument\ (positional\ and\ keyword)}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00156}00156\ \ \ \ \ res\ =\ np.void((1,\ 2),\ dtype=\textcolor{stringliteral}{"{}i,i"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00157}00157\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()\ ==\ (1,\ 2)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00158}00158\ \ \ \ \ res\ =\ np.void((2,\ 3),\ \textcolor{stringliteral}{"{}i,i"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00159}00159\ \ \ \ \ \textcolor{keyword}{assert}\ res.item()\ ==\ (2,\ 3)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00161}00161\ \textcolor{preprocessor}{@pytest.mark.parametrize}(\textcolor{stringliteral}{"{}data"{}},}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ [5,\ np.int8(5),\ np.array(5,\ dtype=np.uint16)])}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00163}00163\ \textcolor{keyword}{def\ }test\_void\_from\_integer\_with\_dtype(data):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00164}00164\ \ \ \ \ \textcolor{comment}{\#\ The\ "{}length"{}\ meaning\ is\ ignored,\ rather\ data\ is\ used:}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00165}00165\ \ \ \ \ res\ =\ np.void(data,\ dtype=\textcolor{stringliteral}{"{}i,i"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00166}00166\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.void}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00167}00167\ \ \ \ \ \textcolor{keyword}{assert}\ res.dtype\ ==\ \textcolor{stringliteral}{"{}i,i"{}}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00168}00168\ \ \ \ \ \textcolor{keyword}{assert}\ res[\textcolor{stringliteral}{"{}f0"{}}]\ ==\ 5\ \textcolor{keywordflow}{and}\ res[\textcolor{stringliteral}{"{}f1"{}}]\ ==\ 5}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00170}00170\ \textcolor{keyword}{def\ }test\_void\_from\_structure():}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00171}00171\ \ \ \ \ dtype\ =\ np.dtype([(\textcolor{stringliteral}{'s'},\ [(\textcolor{stringliteral}{'f'},\ \textcolor{stringliteral}{'f8'}),\ (\textcolor{stringliteral}{'u'},\ \textcolor{stringliteral}{'U1'})]),\ (\textcolor{stringliteral}{'i'},\ \textcolor{stringliteral}{'i2'})])}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00172}00172\ \ \ \ \ data\ =\ np.array(((1.,\ \textcolor{stringliteral}{'a'}),\ 2),\ dtype=dtype)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00173}00173\ \ \ \ \ res\ =\ np.void(data[()],\ dtype=dtype)}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00174}00174\ \ \ \ \ \textcolor{keyword}{assert}\ type(res)\ \textcolor{keywordflow}{is}\ np.void}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00175}00175\ \ \ \ \ \textcolor{keyword}{assert}\ res.dtype\ ==\ dtype}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00176}00176\ \ \ \ \ \textcolor{keyword}{assert}\ res\ ==\ data[()]}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00178}00178\ \textcolor{keyword}{def\ }test\_void\_bad\_dtype():}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00179}00179\ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(TypeError,}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ match=\textcolor{stringliteral}{"{}void:\ descr\ must\ be\ a\ \`{}void.*int64"{}}):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ np.void(4,\ dtype=\textcolor{stringliteral}{"{}i8"{}})}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00183}00183\ \ \ \ \ \textcolor{comment}{\#\ Subarray\ dtype\ (with\ shape\ \`{}(4,)`\ is\ rejected):}}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00184}00184\ \ \ \ \ \textcolor{keyword}{with}\ pytest.raises(TypeError,}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ match=\textcolor{stringliteral}{r"{}void:\ descr\ must\ be\ a\ \`{}void.*\(\backslash\)(4,\(\backslash\))"{}}):}
\DoxyCodeLine{\Hypertarget{test__scalar__ctors_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ np.void(4,\ dtype=\textcolor{stringliteral}{"{}4i"{}})}

\end{DoxyCode}
